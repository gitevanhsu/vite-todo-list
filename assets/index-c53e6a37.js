function I_(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function $E(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var za={},C_={get exports(){return za},set exports(t){za=t}},$d={},I={},x_={get exports(){return I},set exports(t){I=t}},me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ll=Symbol.for("react.element"),T_=Symbol.for("react.portal"),D_=Symbol.for("react.fragment"),k_=Symbol.for("react.strict_mode"),__=Symbol.for("react.profiler"),R_=Symbol.for("react.provider"),A_=Symbol.for("react.context"),P_=Symbol.for("react.forward_ref"),N_=Symbol.for("react.suspense"),O_=Symbol.for("react.memo"),L_=Symbol.for("react.lazy"),Rw=Symbol.iterator;function M_(t){return t===null||typeof t!="object"?null:(t=Rw&&t[Rw]||t["@@iterator"],typeof t=="function"?t:null)}var FE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},UE=Object.assign,BE={};function As(t,e,n){this.props=t,this.context=e,this.refs=BE,this.updater=n||FE}As.prototype.isReactComponent={};As.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};As.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function VE(){}VE.prototype=As.prototype;function Dm(t,e,n){this.props=t,this.context=e,this.refs=BE,this.updater=n||FE}var km=Dm.prototype=new VE;km.constructor=Dm;UE(km,As.prototype);km.isPureReactComponent=!0;var Aw=Array.isArray,jE=Object.prototype.hasOwnProperty,_m={current:null},zE={key:!0,ref:!0,__self:!0,__source:!0};function WE(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)jE.call(e,r)&&!zE.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Ll,type:t,key:o,ref:s,props:i,_owner:_m.current}}function $_(t,e){return{$$typeof:Ll,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Rm(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ll}function F_(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Pw=/\/+/g;function vh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?F_(""+t.key):e.toString(36)}function tc(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Ll:case T_:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+vh(s,0):r,Aw(i)?(n="",t!=null&&(n=t.replace(Pw,"$&/")+"/"),tc(i,e,n,"",function(u){return u})):i!=null&&(Rm(i)&&(i=$_(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Pw,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",Aw(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+vh(o,a);s+=tc(o,e,n,l,i)}else if(l=M_(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+vh(o,a++),s+=tc(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function xu(t,e,n){if(t==null)return t;var r=[],i=0;return tc(t,r,"","",function(o){return e.call(n,o,i++)}),r}function U_(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Yt={current:null},nc={transition:null},B_={ReactCurrentDispatcher:Yt,ReactCurrentBatchConfig:nc,ReactCurrentOwner:_m};me.Children={map:xu,forEach:function(t,e,n){xu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return xu(t,function(){e++}),e},toArray:function(t){return xu(t,function(e){return e})||[]},only:function(t){if(!Rm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};me.Component=As;me.Fragment=D_;me.Profiler=__;me.PureComponent=Dm;me.StrictMode=k_;me.Suspense=N_;me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B_;me.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=UE({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=_m.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)jE.call(e,l)&&!zE.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Ll,type:t.type,key:i,ref:o,props:r,_owner:s}};me.createContext=function(t){return t={$$typeof:A_,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:R_,_context:t},t.Consumer=t};me.createElement=WE;me.createFactory=function(t){var e=WE.bind(null,t);return e.type=t,e};me.createRef=function(){return{current:null}};me.forwardRef=function(t){return{$$typeof:P_,render:t}};me.isValidElement=Rm;me.lazy=function(t){return{$$typeof:L_,_payload:{_status:-1,_result:t},_init:U_}};me.memo=function(t,e){return{$$typeof:O_,type:t,compare:e===void 0?null:e}};me.startTransition=function(t){var e=nc.transition;nc.transition={};try{t()}finally{nc.transition=e}};me.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};me.useCallback=function(t,e){return Yt.current.useCallback(t,e)};me.useContext=function(t){return Yt.current.useContext(t)};me.useDebugValue=function(){};me.useDeferredValue=function(t){return Yt.current.useDeferredValue(t)};me.useEffect=function(t,e){return Yt.current.useEffect(t,e)};me.useId=function(){return Yt.current.useId()};me.useImperativeHandle=function(t,e,n){return Yt.current.useImperativeHandle(t,e,n)};me.useInsertionEffect=function(t,e){return Yt.current.useInsertionEffect(t,e)};me.useLayoutEffect=function(t,e){return Yt.current.useLayoutEffect(t,e)};me.useMemo=function(t,e){return Yt.current.useMemo(t,e)};me.useReducer=function(t,e,n){return Yt.current.useReducer(t,e,n)};me.useRef=function(t){return Yt.current.useRef(t)};me.useState=function(t){return Yt.current.useState(t)};me.useSyncExternalStore=function(t,e,n){return Yt.current.useSyncExternalStore(t,e,n)};me.useTransition=function(){return Yt.current.useTransition()};me.version="18.2.0";(function(t){t.exports=me})(x_);const pe=$E(I),Mp=I_({__proto__:null,default:pe},[I]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V_=I,j_=Symbol.for("react.element"),z_=Symbol.for("react.fragment"),W_=Object.prototype.hasOwnProperty,H_=V_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,G_={key:!0,ref:!0,__self:!0,__source:!0};function HE(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)W_.call(e,r)&&!G_.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:j_,type:t,key:o,ref:s,props:i,_owner:H_.current}}$d.Fragment=z_;$d.jsx=HE;$d.jsxs=HE;(function(t){t.exports=$d})(C_);const GE=za.Fragment,P=za.jsx,be=za.jsxs;var $p={},ao={},q_={get exports(){return ao},set exports(t){ao=t}},bn={},Fp={},K_={get exports(){return Fp},set exports(t){Fp=t}},qE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,X){var q=L.length;L.push(X);e:for(;0<q;){var ve=q-1>>>1,fe=L[ve];if(0<i(fe,X))L[ve]=X,L[q]=fe,q=ve;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var X=L[0],q=L.pop();if(q!==X){L[0]=q;e:for(var ve=0,fe=L.length,Jt=fe>>>1;ve<Jt;){var Rt=2*(ve+1)-1,Qe=L[Rt],rt=Rt+1,wt=L[rt];if(0>i(Qe,q))rt<fe&&0>i(wt,Qe)?(L[ve]=wt,L[rt]=q,ve=rt):(L[ve]=Qe,L[Rt]=q,ve=Rt);else if(rt<fe&&0>i(wt,q))L[ve]=wt,L[rt]=q,ve=rt;else break e}}return X}function i(L,X){var q=L.sortIndex-X.sortIndex;return q!==0?q:L.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],u=[],d=1,f=null,c=3,h=!1,p=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(L){for(var X=n(u);X!==null;){if(X.callback===null)r(u);else if(X.startTime<=L)r(u),X.sortIndex=X.expirationTime,e(l,X);else break;X=n(u)}}function w(L){if(v=!1,y(L),!p)if(n(l)!==null)p=!0,xe(x);else{var X=n(u);X!==null&&ct(w,X.startTime-L)}}function x(L,X){p=!1,v&&(v=!1,m(A),A=-1),h=!0;var q=c;try{for(y(X),f=n(l);f!==null&&(!(f.expirationTime>X)||L&&!U());){var ve=f.callback;if(typeof ve=="function"){f.callback=null,c=f.priorityLevel;var fe=ve(f.expirationTime<=X);X=t.unstable_now(),typeof fe=="function"?f.callback=fe:f===n(l)&&r(l),y(X)}else r(l);f=n(l)}if(f!==null)var Jt=!0;else{var Rt=n(u);Rt!==null&&ct(w,Rt.startTime-X),Jt=!1}return Jt}finally{f=null,c=q,h=!1}}var D=!1,R=null,A=-1,$=5,F=-1;function U(){return!(t.unstable_now()-F<$)}function ee(){if(R!==null){var L=t.unstable_now();F=L;var X=!0;try{X=R(!0,L)}finally{X?re():(D=!1,R=null)}}else D=!1}var re;if(typeof g=="function")re=function(){g(ee)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,Ie=Y.port2;Y.port1.onmessage=ee,re=function(){Ie.postMessage(null)}}else re=function(){b(ee,0)};function xe(L){R=L,D||(D=!0,re())}function ct(L,X){A=b(function(){L(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){p||h||(p=!0,xe(x))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return c},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(L){switch(c){case 1:case 2:case 3:var X=3;break;default:X=c}var q=c;c=X;try{return L()}finally{c=q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,X){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var q=c;c=L;try{return X()}finally{c=q}},t.unstable_scheduleCallback=function(L,X,q){var ve=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?ve+q:ve):q=ve,L){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=q+fe,L={id:d++,callback:X,priorityLevel:L,startTime:q,expirationTime:fe,sortIndex:-1},q>ve?(L.sortIndex=q,e(u,L),n(l)===null&&L===n(u)&&(v?(m(A),A=-1):v=!0,ct(w,q-ve))):(L.sortIndex=fe,e(l,L),p||h||(p=!0,xe(x))),L},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(L){var X=c;return function(){var q=c;c=X;try{return L.apply(this,arguments)}finally{c=q}}}})(qE);(function(t){t.exports=qE})(K_);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KE=I,vn=Fp;function N(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var QE=new Set,Wa={};function Co(t,e){fs(t,e),fs(t+"Capture",e)}function fs(t,e){for(Wa[t]=e,t=0;t<e.length;t++)QE.add(e[t])}var Dr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Up=Object.prototype.hasOwnProperty,Q_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Nw={},Ow={};function Y_(t){return Up.call(Ow,t)?!0:Up.call(Nw,t)?!1:Q_.test(t)?Ow[t]=!0:(Nw[t]=!0,!1)}function X_(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function J_(t,e,n,r){if(e===null||typeof e>"u"||X_(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Xt(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var kt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){kt[t]=new Xt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];kt[e]=new Xt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){kt[t]=new Xt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){kt[t]=new Xt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){kt[t]=new Xt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){kt[t]=new Xt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){kt[t]=new Xt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){kt[t]=new Xt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){kt[t]=new Xt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Am=/[\-:]([a-z])/g;function Pm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Am,Pm);kt[e]=new Xt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Am,Pm);kt[e]=new Xt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Am,Pm);kt[e]=new Xt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){kt[t]=new Xt(t,1,!1,t.toLowerCase(),null,!1,!1)});kt.xlinkHref=new Xt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){kt[t]=new Xt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Nm(t,e,n,r){var i=kt.hasOwnProperty(e)?kt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(J_(e,n,i,r)&&(n=null),r||i===null?Y_(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var $r=KE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Tu=Symbol.for("react.element"),Lo=Symbol.for("react.portal"),Mo=Symbol.for("react.fragment"),Om=Symbol.for("react.strict_mode"),Bp=Symbol.for("react.profiler"),YE=Symbol.for("react.provider"),XE=Symbol.for("react.context"),Lm=Symbol.for("react.forward_ref"),Vp=Symbol.for("react.suspense"),jp=Symbol.for("react.suspense_list"),Mm=Symbol.for("react.memo"),jr=Symbol.for("react.lazy"),JE=Symbol.for("react.offscreen"),Lw=Symbol.iterator;function Ys(t){return t===null||typeof t!="object"?null:(t=Lw&&t[Lw]||t["@@iterator"],typeof t=="function"?t:null)}var ze=Object.assign,yh;function ha(t){if(yh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);yh=e&&e[1]||""}return`
`+yh+t}var wh=!1;function bh(t,e){if(!t||wh)return"";wh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{wh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ha(t):""}function Z_(t){switch(t.tag){case 5:return ha(t.type);case 16:return ha("Lazy");case 13:return ha("Suspense");case 19:return ha("SuspenseList");case 0:case 2:case 15:return t=bh(t.type,!1),t;case 11:return t=bh(t.type.render,!1),t;case 1:return t=bh(t.type,!0),t;default:return""}}function zp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Mo:return"Fragment";case Lo:return"Portal";case Bp:return"Profiler";case Om:return"StrictMode";case Vp:return"Suspense";case jp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case XE:return(t.displayName||"Context")+".Consumer";case YE:return(t._context.displayName||"Context")+".Provider";case Lm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Mm:return e=t.displayName||null,e!==null?e:zp(t.type)||"Memo";case jr:e=t._payload,t=t._init;try{return zp(t(e))}catch{}}return null}function eR(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return zp(e);case 8:return e===Om?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function mi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ZE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function tR(t){var e=ZE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Du(t){t._valueTracker||(t._valueTracker=tR(t))}function e1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=ZE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ec(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Wp(t,e){var n=e.checked;return ze({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Mw(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=mi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function t1(t,e){e=e.checked,e!=null&&Nm(t,"checked",e,!1)}function Hp(t,e){t1(t,e);var n=mi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Gp(t,e.type,n):e.hasOwnProperty("defaultValue")&&Gp(t,e.type,mi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function $w(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Gp(t,e,n){(e!=="number"||Ec(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var pa=Array.isArray;function Xo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+mi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function qp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(N(91));return ze({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Fw(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(N(92));if(pa(n)){if(1<n.length)throw Error(N(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:mi(n)}}function n1(t,e){var n=mi(e.value),r=mi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Uw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function r1(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Kp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?r1(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ku,i1=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ku=ku||document.createElement("div"),ku.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ku.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ha(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ca={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nR=["Webkit","ms","Moz","O"];Object.keys(Ca).forEach(function(t){nR.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ca[e]=Ca[t]})});function o1(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ca.hasOwnProperty(t)&&Ca[t]?(""+e).trim():e+"px"}function s1(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=o1(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var rR=ze({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qp(t,e){if(e){if(rR[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(N(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(N(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(N(61))}if(e.style!=null&&typeof e.style!="object")throw Error(N(62))}}function Yp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xp=null;function $m(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Jp=null,Jo=null,Zo=null;function Bw(t){if(t=Fl(t)){if(typeof Jp!="function")throw Error(N(280));var e=t.stateNode;e&&(e=jd(e),Jp(t.stateNode,t.type,e))}}function a1(t){Jo?Zo?Zo.push(t):Zo=[t]:Jo=t}function l1(){if(Jo){var t=Jo,e=Zo;if(Zo=Jo=null,Bw(t),e)for(t=0;t<e.length;t++)Bw(e[t])}}function u1(t,e){return t(e)}function c1(){}var Sh=!1;function d1(t,e,n){if(Sh)return t(e,n);Sh=!0;try{return u1(t,e,n)}finally{Sh=!1,(Jo!==null||Zo!==null)&&(c1(),l1())}}function Ga(t,e){var n=t.stateNode;if(n===null)return null;var r=jd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(N(231,e,typeof n));return n}var Zp=!1;if(Dr)try{var Xs={};Object.defineProperty(Xs,"passive",{get:function(){Zp=!0}}),window.addEventListener("test",Xs,Xs),window.removeEventListener("test",Xs,Xs)}catch{Zp=!1}function iR(t,e,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var xa=!1,Ic=null,Cc=!1,eg=null,oR={onError:function(t){xa=!0,Ic=t}};function sR(t,e,n,r,i,o,s,a,l){xa=!1,Ic=null,iR.apply(oR,arguments)}function aR(t,e,n,r,i,o,s,a,l){if(sR.apply(this,arguments),xa){if(xa){var u=Ic;xa=!1,Ic=null}else throw Error(N(198));Cc||(Cc=!0,eg=u)}}function xo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function f1(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Vw(t){if(xo(t)!==t)throw Error(N(188))}function lR(t){var e=t.alternate;if(!e){if(e=xo(t),e===null)throw Error(N(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Vw(i),t;if(o===r)return Vw(i),e;o=o.sibling}throw Error(N(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(N(189))}}if(n.alternate!==r)throw Error(N(190))}if(n.tag!==3)throw Error(N(188));return n.stateNode.current===n?t:e}function h1(t){return t=lR(t),t!==null?p1(t):null}function p1(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=p1(t);if(e!==null)return e;t=t.sibling}return null}var g1=vn.unstable_scheduleCallback,jw=vn.unstable_cancelCallback,uR=vn.unstable_shouldYield,cR=vn.unstable_requestPaint,Ke=vn.unstable_now,dR=vn.unstable_getCurrentPriorityLevel,Fm=vn.unstable_ImmediatePriority,m1=vn.unstable_UserBlockingPriority,xc=vn.unstable_NormalPriority,fR=vn.unstable_LowPriority,v1=vn.unstable_IdlePriority,Fd=null,nr=null;function hR(t){if(nr&&typeof nr.onCommitFiberRoot=="function")try{nr.onCommitFiberRoot(Fd,t,void 0,(t.current.flags&128)===128)}catch{}}var Wn=Math.clz32?Math.clz32:mR,pR=Math.log,gR=Math.LN2;function mR(t){return t>>>=0,t===0?32:31-(pR(t)/gR|0)|0}var _u=64,Ru=4194304;function ga(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Tc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=ga(a):(o&=s,o!==0&&(r=ga(o)))}else s=n&~i,s!==0?r=ga(s):o!==0&&(r=ga(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Wn(e),i=1<<n,r|=t[n],e&=~i;return r}function vR(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yR(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Wn(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=vR(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function tg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function y1(){var t=_u;return _u<<=1,!(_u&4194240)&&(_u=64),t}function Eh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ml(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Wn(e),t[e]=n}function wR(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Wn(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Um(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Wn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var De=0;function w1(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var b1,Bm,S1,E1,I1,ng=!1,Au=[],ei=null,ti=null,ni=null,qa=new Map,Ka=new Map,Wr=[],bR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zw(t,e){switch(t){case"focusin":case"focusout":ei=null;break;case"dragenter":case"dragleave":ti=null;break;case"mouseover":case"mouseout":ni=null;break;case"pointerover":case"pointerout":qa.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ka.delete(e.pointerId)}}function Js(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Fl(e),e!==null&&Bm(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function SR(t,e,n,r,i){switch(e){case"focusin":return ei=Js(ei,t,e,n,r,i),!0;case"dragenter":return ti=Js(ti,t,e,n,r,i),!0;case"mouseover":return ni=Js(ni,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return qa.set(o,Js(qa.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Ka.set(o,Js(Ka.get(o)||null,t,e,n,r,i)),!0}return!1}function C1(t){var e=qi(t.target);if(e!==null){var n=xo(e);if(n!==null){if(e=n.tag,e===13){if(e=f1(n),e!==null){t.blockedOn=e,I1(t.priority,function(){S1(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function rc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=rg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Xp=r,n.target.dispatchEvent(r),Xp=null}else return e=Fl(n),e!==null&&Bm(e),t.blockedOn=n,!1;e.shift()}return!0}function Ww(t,e,n){rc(t)&&n.delete(e)}function ER(){ng=!1,ei!==null&&rc(ei)&&(ei=null),ti!==null&&rc(ti)&&(ti=null),ni!==null&&rc(ni)&&(ni=null),qa.forEach(Ww),Ka.forEach(Ww)}function Zs(t,e){t.blockedOn===e&&(t.blockedOn=null,ng||(ng=!0,vn.unstable_scheduleCallback(vn.unstable_NormalPriority,ER)))}function Qa(t){function e(i){return Zs(i,t)}if(0<Au.length){Zs(Au[0],t);for(var n=1;n<Au.length;n++){var r=Au[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ei!==null&&Zs(ei,t),ti!==null&&Zs(ti,t),ni!==null&&Zs(ni,t),qa.forEach(e),Ka.forEach(e),n=0;n<Wr.length;n++)r=Wr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Wr.length&&(n=Wr[0],n.blockedOn===null);)C1(n),n.blockedOn===null&&Wr.shift()}var es=$r.ReactCurrentBatchConfig,Dc=!0;function IR(t,e,n,r){var i=De,o=es.transition;es.transition=null;try{De=1,Vm(t,e,n,r)}finally{De=i,es.transition=o}}function CR(t,e,n,r){var i=De,o=es.transition;es.transition=null;try{De=4,Vm(t,e,n,r)}finally{De=i,es.transition=o}}function Vm(t,e,n,r){if(Dc){var i=rg(t,e,n,r);if(i===null)Ph(t,e,r,kc,n),zw(t,r);else if(SR(i,t,e,n,r))r.stopPropagation();else if(zw(t,r),e&4&&-1<bR.indexOf(t)){for(;i!==null;){var o=Fl(i);if(o!==null&&b1(o),o=rg(t,e,n,r),o===null&&Ph(t,e,r,kc,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Ph(t,e,r,null,n)}}var kc=null;function rg(t,e,n,r){if(kc=null,t=$m(r),t=qi(t),t!==null)if(e=xo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=f1(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return kc=t,null}function x1(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dR()){case Fm:return 1;case m1:return 4;case xc:case fR:return 16;case v1:return 536870912;default:return 16}default:return 16}}var Jr=null,jm=null,ic=null;function T1(){if(ic)return ic;var t,e=jm,n=e.length,r,i="value"in Jr?Jr.value:Jr.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return ic=i.slice(t,1<r?1-r:void 0)}function oc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Pu(){return!0}function Hw(){return!1}function Sn(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Pu:Hw,this.isPropagationStopped=Hw,this}return ze(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Pu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Pu)},persist:function(){},isPersistent:Pu}),e}var Ps={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zm=Sn(Ps),$l=ze({},Ps,{view:0,detail:0}),xR=Sn($l),Ih,Ch,ea,Ud=ze({},$l,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ea&&(ea&&t.type==="mousemove"?(Ih=t.screenX-ea.screenX,Ch=t.screenY-ea.screenY):Ch=Ih=0,ea=t),Ih)},movementY:function(t){return"movementY"in t?t.movementY:Ch}}),Gw=Sn(Ud),TR=ze({},Ud,{dataTransfer:0}),DR=Sn(TR),kR=ze({},$l,{relatedTarget:0}),xh=Sn(kR),_R=ze({},Ps,{animationName:0,elapsedTime:0,pseudoElement:0}),RR=Sn(_R),AR=ze({},Ps,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),PR=Sn(AR),NR=ze({},Ps,{data:0}),qw=Sn(NR),OR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},LR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},MR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $R(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=MR[t])?!!e[t]:!1}function Wm(){return $R}var FR=ze({},$l,{key:function(t){if(t.key){var e=OR[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=oc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?LR[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wm,charCode:function(t){return t.type==="keypress"?oc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?oc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),UR=Sn(FR),BR=ze({},Ud,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Kw=Sn(BR),VR=ze({},$l,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wm}),jR=Sn(VR),zR=ze({},Ps,{propertyName:0,elapsedTime:0,pseudoElement:0}),WR=Sn(zR),HR=ze({},Ud,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),GR=Sn(HR),qR=[9,13,27,32],Hm=Dr&&"CompositionEvent"in window,Ta=null;Dr&&"documentMode"in document&&(Ta=document.documentMode);var KR=Dr&&"TextEvent"in window&&!Ta,D1=Dr&&(!Hm||Ta&&8<Ta&&11>=Ta),Qw=String.fromCharCode(32),Yw=!1;function k1(t,e){switch(t){case"keyup":return qR.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _1(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var $o=!1;function QR(t,e){switch(t){case"compositionend":return _1(e);case"keypress":return e.which!==32?null:(Yw=!0,Qw);case"textInput":return t=e.data,t===Qw&&Yw?null:t;default:return null}}function YR(t,e){if($o)return t==="compositionend"||!Hm&&k1(t,e)?(t=T1(),ic=jm=Jr=null,$o=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return D1&&e.locale!=="ko"?null:e.data;default:return null}}var XR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!XR[t.type]:e==="textarea"}function R1(t,e,n,r){a1(r),e=_c(e,"onChange"),0<e.length&&(n=new zm("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Da=null,Ya=null;function JR(t){V1(t,0)}function Bd(t){var e=Bo(t);if(e1(e))return t}function ZR(t,e){if(t==="change")return e}var A1=!1;if(Dr){var Th;if(Dr){var Dh="oninput"in document;if(!Dh){var Jw=document.createElement("div");Jw.setAttribute("oninput","return;"),Dh=typeof Jw.oninput=="function"}Th=Dh}else Th=!1;A1=Th&&(!document.documentMode||9<document.documentMode)}function Zw(){Da&&(Da.detachEvent("onpropertychange",P1),Ya=Da=null)}function P1(t){if(t.propertyName==="value"&&Bd(Ya)){var e=[];R1(e,Ya,t,$m(t)),d1(JR,e)}}function eA(t,e,n){t==="focusin"?(Zw(),Da=e,Ya=n,Da.attachEvent("onpropertychange",P1)):t==="focusout"&&Zw()}function tA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Bd(Ya)}function nA(t,e){if(t==="click")return Bd(e)}function rA(t,e){if(t==="input"||t==="change")return Bd(e)}function iA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Gn=typeof Object.is=="function"?Object.is:iA;function Xa(t,e){if(Gn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Up.call(e,i)||!Gn(t[i],e[i]))return!1}return!0}function e0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function t0(t,e){var n=e0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=e0(n)}}function N1(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?N1(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function O1(){for(var t=window,e=Ec();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ec(t.document)}return e}function Gm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function oA(t){var e=O1(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&N1(n.ownerDocument.documentElement,n)){if(r!==null&&Gm(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=t0(n,o);var s=t0(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var sA=Dr&&"documentMode"in document&&11>=document.documentMode,Fo=null,ig=null,ka=null,og=!1;function n0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;og||Fo==null||Fo!==Ec(r)||(r=Fo,"selectionStart"in r&&Gm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ka&&Xa(ka,r)||(ka=r,r=_c(ig,"onSelect"),0<r.length&&(e=new zm("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Fo)))}function Nu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Uo={animationend:Nu("Animation","AnimationEnd"),animationiteration:Nu("Animation","AnimationIteration"),animationstart:Nu("Animation","AnimationStart"),transitionend:Nu("Transition","TransitionEnd")},kh={},L1={};Dr&&(L1=document.createElement("div").style,"AnimationEvent"in window||(delete Uo.animationend.animation,delete Uo.animationiteration.animation,delete Uo.animationstart.animation),"TransitionEvent"in window||delete Uo.transitionend.transition);function Vd(t){if(kh[t])return kh[t];if(!Uo[t])return t;var e=Uo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in L1)return kh[t]=e[n];return t}var M1=Vd("animationend"),$1=Vd("animationiteration"),F1=Vd("animationstart"),U1=Vd("transitionend"),B1=new Map,r0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Di(t,e){B1.set(t,e),Co(e,[t])}for(var _h=0;_h<r0.length;_h++){var Rh=r0[_h],aA=Rh.toLowerCase(),lA=Rh[0].toUpperCase()+Rh.slice(1);Di(aA,"on"+lA)}Di(M1,"onAnimationEnd");Di($1,"onAnimationIteration");Di(F1,"onAnimationStart");Di("dblclick","onDoubleClick");Di("focusin","onFocus");Di("focusout","onBlur");Di(U1,"onTransitionEnd");fs("onMouseEnter",["mouseout","mouseover"]);fs("onMouseLeave",["mouseout","mouseover"]);fs("onPointerEnter",["pointerout","pointerover"]);fs("onPointerLeave",["pointerout","pointerover"]);Co("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Co("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Co("onBeforeInput",["compositionend","keypress","textInput","paste"]);Co("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Co("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Co("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ma="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uA=new Set("cancel close invalid load scroll toggle".split(" ").concat(ma));function i0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,aR(r,e,void 0,t),t.currentTarget=null}function V1(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;i0(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;i0(i,a,u),o=l}}}if(Cc)throw t=eg,Cc=!1,eg=null,t}function Le(t,e){var n=e[cg];n===void 0&&(n=e[cg]=new Set);var r=t+"__bubble";n.has(r)||(j1(e,t,2,!1),n.add(r))}function Ah(t,e,n){var r=0;e&&(r|=4),j1(n,t,r,e)}var Ou="_reactListening"+Math.random().toString(36).slice(2);function Ja(t){if(!t[Ou]){t[Ou]=!0,QE.forEach(function(n){n!=="selectionchange"&&(uA.has(n)||Ah(n,!1,t),Ah(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ou]||(e[Ou]=!0,Ah("selectionchange",!1,e))}}function j1(t,e,n,r){switch(x1(e)){case 1:var i=IR;break;case 4:i=CR;break;default:i=Vm}n=i.bind(null,e,n,t),i=void 0,!Zp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Ph(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=qi(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}d1(function(){var u=o,d=$m(n),f=[];e:{var c=B1.get(t);if(c!==void 0){var h=zm,p=t;switch(t){case"keypress":if(oc(n)===0)break e;case"keydown":case"keyup":h=UR;break;case"focusin":p="focus",h=xh;break;case"focusout":p="blur",h=xh;break;case"beforeblur":case"afterblur":h=xh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=Gw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=DR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=jR;break;case M1:case $1:case F1:h=RR;break;case U1:h=WR;break;case"scroll":h=xR;break;case"wheel":h=GR;break;case"copy":case"cut":case"paste":h=PR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=Kw}var v=(e&4)!==0,b=!v&&t==="scroll",m=v?c!==null?c+"Capture":null:c;v=[];for(var g=u,y;g!==null;){y=g;var w=y.stateNode;if(y.tag===5&&w!==null&&(y=w,m!==null&&(w=Ga(g,m),w!=null&&v.push(Za(g,w,y)))),b)break;g=g.return}0<v.length&&(c=new h(c,p,null,n,d),f.push({event:c,listeners:v}))}}if(!(e&7)){e:{if(c=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",c&&n!==Xp&&(p=n.relatedTarget||n.fromElement)&&(qi(p)||p[kr]))break e;if((h||c)&&(c=d.window===d?d:(c=d.ownerDocument)?c.defaultView||c.parentWindow:window,h?(p=n.relatedTarget||n.toElement,h=u,p=p?qi(p):null,p!==null&&(b=xo(p),p!==b||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=u),h!==p)){if(v=Gw,w="onMouseLeave",m="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(v=Kw,w="onPointerLeave",m="onPointerEnter",g="pointer"),b=h==null?c:Bo(h),y=p==null?c:Bo(p),c=new v(w,g+"leave",h,n,d),c.target=b,c.relatedTarget=y,w=null,qi(d)===u&&(v=new v(m,g+"enter",p,n,d),v.target=y,v.relatedTarget=b,w=v),b=w,h&&p)t:{for(v=h,m=p,g=0,y=v;y;y=Ro(y))g++;for(y=0,w=m;w;w=Ro(w))y++;for(;0<g-y;)v=Ro(v),g--;for(;0<y-g;)m=Ro(m),y--;for(;g--;){if(v===m||m!==null&&v===m.alternate)break t;v=Ro(v),m=Ro(m)}v=null}else v=null;h!==null&&o0(f,c,h,v,!1),p!==null&&b!==null&&o0(f,b,p,v,!0)}}e:{if(c=u?Bo(u):window,h=c.nodeName&&c.nodeName.toLowerCase(),h==="select"||h==="input"&&c.type==="file")var x=ZR;else if(Xw(c))if(A1)x=rA;else{x=tA;var D=eA}else(h=c.nodeName)&&h.toLowerCase()==="input"&&(c.type==="checkbox"||c.type==="radio")&&(x=nA);if(x&&(x=x(t,u))){R1(f,x,n,d);break e}D&&D(t,c,u),t==="focusout"&&(D=c._wrapperState)&&D.controlled&&c.type==="number"&&Gp(c,"number",c.value)}switch(D=u?Bo(u):window,t){case"focusin":(Xw(D)||D.contentEditable==="true")&&(Fo=D,ig=u,ka=null);break;case"focusout":ka=ig=Fo=null;break;case"mousedown":og=!0;break;case"contextmenu":case"mouseup":case"dragend":og=!1,n0(f,n,d);break;case"selectionchange":if(sA)break;case"keydown":case"keyup":n0(f,n,d)}var R;if(Hm)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else $o?k1(t,n)&&(A="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(D1&&n.locale!=="ko"&&($o||A!=="onCompositionStart"?A==="onCompositionEnd"&&$o&&(R=T1()):(Jr=d,jm="value"in Jr?Jr.value:Jr.textContent,$o=!0)),D=_c(u,A),0<D.length&&(A=new qw(A,t,null,n,d),f.push({event:A,listeners:D}),R?A.data=R:(R=_1(n),R!==null&&(A.data=R)))),(R=KR?QR(t,n):YR(t,n))&&(u=_c(u,"onBeforeInput"),0<u.length&&(d=new qw("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=R))}V1(f,e)})}function Za(t,e,n){return{instance:t,listener:e,currentTarget:n}}function _c(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Ga(t,n),o!=null&&r.unshift(Za(t,o,i)),o=Ga(t,e),o!=null&&r.push(Za(t,o,i))),t=t.return}return r}function Ro(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function o0(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Ga(n,o),l!=null&&s.unshift(Za(n,l,a))):i||(l=Ga(n,o),l!=null&&s.push(Za(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var cA=/\r\n?/g,dA=/\u0000|\uFFFD/g;function s0(t){return(typeof t=="string"?t:""+t).replace(cA,`
`).replace(dA,"")}function Lu(t,e,n){if(e=s0(e),s0(t)!==e&&n)throw Error(N(425))}function Rc(){}var sg=null,ag=null;function lg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ug=typeof setTimeout=="function"?setTimeout:void 0,fA=typeof clearTimeout=="function"?clearTimeout:void 0,a0=typeof Promise=="function"?Promise:void 0,hA=typeof queueMicrotask=="function"?queueMicrotask:typeof a0<"u"?function(t){return a0.resolve(null).then(t).catch(pA)}:ug;function pA(t){setTimeout(function(){throw t})}function Nh(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Qa(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Qa(e)}function ri(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function l0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ns=Math.random().toString(36).slice(2),Jn="__reactFiber$"+Ns,el="__reactProps$"+Ns,kr="__reactContainer$"+Ns,cg="__reactEvents$"+Ns,gA="__reactListeners$"+Ns,mA="__reactHandles$"+Ns;function qi(t){var e=t[Jn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[kr]||n[Jn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=l0(t);t!==null;){if(n=t[Jn])return n;t=l0(t)}return e}t=n,n=t.parentNode}return null}function Fl(t){return t=t[Jn]||t[kr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Bo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(N(33))}function jd(t){return t[el]||null}var dg=[],Vo=-1;function ki(t){return{current:t}}function Me(t){0>Vo||(t.current=dg[Vo],dg[Vo]=null,Vo--)}function Ne(t,e){Vo++,dg[Vo]=t.current,t.current=e}var vi={},Bt=ki(vi),nn=ki(!1),lo=vi;function hs(t,e){var n=t.type.contextTypes;if(!n)return vi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function rn(t){return t=t.childContextTypes,t!=null}function Ac(){Me(nn),Me(Bt)}function u0(t,e,n){if(Bt.current!==vi)throw Error(N(168));Ne(Bt,e),Ne(nn,n)}function z1(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(N(108,eR(t)||"Unknown",i));return ze({},n,r)}function Pc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||vi,lo=Bt.current,Ne(Bt,t),Ne(nn,nn.current),!0}function c0(t,e,n){var r=t.stateNode;if(!r)throw Error(N(169));n?(t=z1(t,e,lo),r.__reactInternalMemoizedMergedChildContext=t,Me(nn),Me(Bt),Ne(Bt,t)):Me(nn),Ne(nn,n)}var wr=null,zd=!1,Oh=!1;function W1(t){wr===null?wr=[t]:wr.push(t)}function vA(t){zd=!0,W1(t)}function _i(){if(!Oh&&wr!==null){Oh=!0;var t=0,e=De;try{var n=wr;for(De=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}wr=null,zd=!1}catch(i){throw wr!==null&&(wr=wr.slice(t+1)),g1(Fm,_i),i}finally{De=e,Oh=!1}}return null}var jo=[],zo=0,Nc=null,Oc=0,xn=[],Tn=0,uo=null,br=1,Sr="";function Ui(t,e){jo[zo++]=Oc,jo[zo++]=Nc,Nc=t,Oc=e}function H1(t,e,n){xn[Tn++]=br,xn[Tn++]=Sr,xn[Tn++]=uo,uo=t;var r=br;t=Sr;var i=32-Wn(r)-1;r&=~(1<<i),n+=1;var o=32-Wn(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,br=1<<32-Wn(e)+i|n<<i|r,Sr=o+t}else br=1<<o|n<<i|r,Sr=t}function qm(t){t.return!==null&&(Ui(t,1),H1(t,1,0))}function Km(t){for(;t===Nc;)Nc=jo[--zo],jo[zo]=null,Oc=jo[--zo],jo[zo]=null;for(;t===uo;)uo=xn[--Tn],xn[Tn]=null,Sr=xn[--Tn],xn[Tn]=null,br=xn[--Tn],xn[Tn]=null}var hn=null,un=null,Ue=!1,Bn=null;function G1(t,e){var n=Dn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function d0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,hn=t,un=ri(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,hn=t,un=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=uo!==null?{id:br,overflow:Sr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Dn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,hn=t,un=null,!0):!1;default:return!1}}function fg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function hg(t){if(Ue){var e=un;if(e){var n=e;if(!d0(t,e)){if(fg(t))throw Error(N(418));e=ri(n.nextSibling);var r=hn;e&&d0(t,e)?G1(r,n):(t.flags=t.flags&-4097|2,Ue=!1,hn=t)}}else{if(fg(t))throw Error(N(418));t.flags=t.flags&-4097|2,Ue=!1,hn=t}}}function f0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;hn=t}function Mu(t){if(t!==hn)return!1;if(!Ue)return f0(t),Ue=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!lg(t.type,t.memoizedProps)),e&&(e=un)){if(fg(t))throw q1(),Error(N(418));for(;e;)G1(t,e),e=ri(e.nextSibling)}if(f0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(N(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){un=ri(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}un=null}}else un=hn?ri(t.stateNode.nextSibling):null;return!0}function q1(){for(var t=un;t;)t=ri(t.nextSibling)}function ps(){un=hn=null,Ue=!1}function Qm(t){Bn===null?Bn=[t]:Bn.push(t)}var yA=$r.ReactCurrentBatchConfig;function Fn(t,e){if(t&&t.defaultProps){e=ze({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Lc=ki(null),Mc=null,Wo=null,Ym=null;function Xm(){Ym=Wo=Mc=null}function Jm(t){var e=Lc.current;Me(Lc),t._currentValue=e}function pg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ts(t,e){Mc=t,Ym=Wo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(tn=!0),t.firstContext=null)}function An(t){var e=t._currentValue;if(Ym!==t)if(t={context:t,memoizedValue:e,next:null},Wo===null){if(Mc===null)throw Error(N(308));Wo=t,Mc.dependencies={lanes:0,firstContext:t}}else Wo=Wo.next=t;return e}var Ki=null;function Zm(t){Ki===null?Ki=[t]:Ki.push(t)}function K1(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Zm(e)):(n.next=i.next,i.next=n),e.interleaved=n,_r(t,r)}function _r(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var zr=!1;function ev(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Q1(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function xr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ii(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ee&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,_r(t,n)}return i=r.interleaved,i===null?(e.next=e,Zm(r)):(e.next=i.next,i.next=e),r.interleaved=e,_r(t,n)}function sc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Um(t,n)}}function h0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function $c(t,e,n,r){var i=t.updateQueue;zr=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==s&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;s=0,d=u=l=null,a=o;do{var c=a.lane,h=a.eventTime;if((r&c)===c){d!==null&&(d=d.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,v=a;switch(c=e,h=n,v.tag){case 1:if(p=v.payload,typeof p=="function"){f=p.call(h,f,c);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=v.payload,c=typeof p=="function"?p.call(h,f,c):p,c==null)break e;f=ze({},f,c);break e;case 2:zr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,c=i.effects,c===null?i.effects=[a]:c.push(a))}else h={eventTime:h,lane:c,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=h,l=f):d=d.next=h,s|=c;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;c=a,a=c.next,c.next=null,i.lastBaseUpdate=c,i.shared.pending=null}}while(1);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);fo|=s,t.lanes=s,t.memoizedState=f}}function p0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(N(191,i));i.call(r)}}}var Y1=new KE.Component().refs;function gg(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ze({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Wd={isMounted:function(t){return(t=t._reactInternals)?xo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Qt(),i=si(t),o=xr(r,i);o.payload=e,n!=null&&(o.callback=n),e=ii(t,o,i),e!==null&&(Hn(e,t,i,r),sc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Qt(),i=si(t),o=xr(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=ii(t,o,i),e!==null&&(Hn(e,t,i,r),sc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Qt(),r=si(t),i=xr(n,r);i.tag=2,e!=null&&(i.callback=e),e=ii(t,i,r),e!==null&&(Hn(e,t,r,n),sc(e,t,r))}};function g0(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!Xa(n,r)||!Xa(i,o):!0}function X1(t,e,n){var r=!1,i=vi,o=e.contextType;return typeof o=="object"&&o!==null?o=An(o):(i=rn(e)?lo:Bt.current,r=e.contextTypes,o=(r=r!=null)?hs(t,i):vi),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Wd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function m0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Wd.enqueueReplaceState(e,e.state,null)}function mg(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=Y1,ev(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=An(o):(o=rn(e)?lo:Bt.current,i.context=hs(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(gg(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Wd.enqueueReplaceState(i,i.state,null),$c(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ta(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(N(309));var r=n.stateNode}if(!r)throw Error(N(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;a===Y1&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(N(284));if(!n._owner)throw Error(N(290,t))}return t}function $u(t,e){throw t=Object.prototype.toString.call(e),Error(N(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function v0(t){var e=t._init;return e(t._payload)}function J1(t){function e(m,g){if(t){var y=m.deletions;y===null?(m.deletions=[g],m.flags|=16):y.push(g)}}function n(m,g){if(!t)return null;for(;g!==null;)e(m,g),g=g.sibling;return null}function r(m,g){for(m=new Map;g!==null;)g.key!==null?m.set(g.key,g):m.set(g.index,g),g=g.sibling;return m}function i(m,g){return m=ai(m,g),m.index=0,m.sibling=null,m}function o(m,g,y){return m.index=y,t?(y=m.alternate,y!==null?(y=y.index,y<g?(m.flags|=2,g):y):(m.flags|=2,g)):(m.flags|=1048576,g)}function s(m){return t&&m.alternate===null&&(m.flags|=2),m}function a(m,g,y,w){return g===null||g.tag!==6?(g=Vh(y,m.mode,w),g.return=m,g):(g=i(g,y),g.return=m,g)}function l(m,g,y,w){var x=y.type;return x===Mo?d(m,g,y.props.children,w,y.key):g!==null&&(g.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===jr&&v0(x)===g.type)?(w=i(g,y.props),w.ref=ta(m,g,y),w.return=m,w):(w=fc(y.type,y.key,y.props,null,m.mode,w),w.ref=ta(m,g,y),w.return=m,w)}function u(m,g,y,w){return g===null||g.tag!==4||g.stateNode.containerInfo!==y.containerInfo||g.stateNode.implementation!==y.implementation?(g=jh(y,m.mode,w),g.return=m,g):(g=i(g,y.children||[]),g.return=m,g)}function d(m,g,y,w,x){return g===null||g.tag!==7?(g=no(y,m.mode,w,x),g.return=m,g):(g=i(g,y),g.return=m,g)}function f(m,g,y){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Vh(""+g,m.mode,y),g.return=m,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Tu:return y=fc(g.type,g.key,g.props,null,m.mode,y),y.ref=ta(m,null,g),y.return=m,y;case Lo:return g=jh(g,m.mode,y),g.return=m,g;case jr:var w=g._init;return f(m,w(g._payload),y)}if(pa(g)||Ys(g))return g=no(g,m.mode,y,null),g.return=m,g;$u(m,g)}return null}function c(m,g,y,w){var x=g!==null?g.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return x!==null?null:a(m,g,""+y,w);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Tu:return y.key===x?l(m,g,y,w):null;case Lo:return y.key===x?u(m,g,y,w):null;case jr:return x=y._init,c(m,g,x(y._payload),w)}if(pa(y)||Ys(y))return x!==null?null:d(m,g,y,w,null);$u(m,y)}return null}function h(m,g,y,w,x){if(typeof w=="string"&&w!==""||typeof w=="number")return m=m.get(y)||null,a(g,m,""+w,x);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Tu:return m=m.get(w.key===null?y:w.key)||null,l(g,m,w,x);case Lo:return m=m.get(w.key===null?y:w.key)||null,u(g,m,w,x);case jr:var D=w._init;return h(m,g,y,D(w._payload),x)}if(pa(w)||Ys(w))return m=m.get(y)||null,d(g,m,w,x,null);$u(g,w)}return null}function p(m,g,y,w){for(var x=null,D=null,R=g,A=g=0,$=null;R!==null&&A<y.length;A++){R.index>A?($=R,R=null):$=R.sibling;var F=c(m,R,y[A],w);if(F===null){R===null&&(R=$);break}t&&R&&F.alternate===null&&e(m,R),g=o(F,g,A),D===null?x=F:D.sibling=F,D=F,R=$}if(A===y.length)return n(m,R),Ue&&Ui(m,A),x;if(R===null){for(;A<y.length;A++)R=f(m,y[A],w),R!==null&&(g=o(R,g,A),D===null?x=R:D.sibling=R,D=R);return Ue&&Ui(m,A),x}for(R=r(m,R);A<y.length;A++)$=h(R,m,A,y[A],w),$!==null&&(t&&$.alternate!==null&&R.delete($.key===null?A:$.key),g=o($,g,A),D===null?x=$:D.sibling=$,D=$);return t&&R.forEach(function(U){return e(m,U)}),Ue&&Ui(m,A),x}function v(m,g,y,w){var x=Ys(y);if(typeof x!="function")throw Error(N(150));if(y=x.call(y),y==null)throw Error(N(151));for(var D=x=null,R=g,A=g=0,$=null,F=y.next();R!==null&&!F.done;A++,F=y.next()){R.index>A?($=R,R=null):$=R.sibling;var U=c(m,R,F.value,w);if(U===null){R===null&&(R=$);break}t&&R&&U.alternate===null&&e(m,R),g=o(U,g,A),D===null?x=U:D.sibling=U,D=U,R=$}if(F.done)return n(m,R),Ue&&Ui(m,A),x;if(R===null){for(;!F.done;A++,F=y.next())F=f(m,F.value,w),F!==null&&(g=o(F,g,A),D===null?x=F:D.sibling=F,D=F);return Ue&&Ui(m,A),x}for(R=r(m,R);!F.done;A++,F=y.next())F=h(R,m,A,F.value,w),F!==null&&(t&&F.alternate!==null&&R.delete(F.key===null?A:F.key),g=o(F,g,A),D===null?x=F:D.sibling=F,D=F);return t&&R.forEach(function(ee){return e(m,ee)}),Ue&&Ui(m,A),x}function b(m,g,y,w){if(typeof y=="object"&&y!==null&&y.type===Mo&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Tu:e:{for(var x=y.key,D=g;D!==null;){if(D.key===x){if(x=y.type,x===Mo){if(D.tag===7){n(m,D.sibling),g=i(D,y.props.children),g.return=m,m=g;break e}}else if(D.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===jr&&v0(x)===D.type){n(m,D.sibling),g=i(D,y.props),g.ref=ta(m,D,y),g.return=m,m=g;break e}n(m,D);break}else e(m,D);D=D.sibling}y.type===Mo?(g=no(y.props.children,m.mode,w,y.key),g.return=m,m=g):(w=fc(y.type,y.key,y.props,null,m.mode,w),w.ref=ta(m,g,y),w.return=m,m=w)}return s(m);case Lo:e:{for(D=y.key;g!==null;){if(g.key===D)if(g.tag===4&&g.stateNode.containerInfo===y.containerInfo&&g.stateNode.implementation===y.implementation){n(m,g.sibling),g=i(g,y.children||[]),g.return=m,m=g;break e}else{n(m,g);break}else e(m,g);g=g.sibling}g=jh(y,m.mode,w),g.return=m,m=g}return s(m);case jr:return D=y._init,b(m,g,D(y._payload),w)}if(pa(y))return p(m,g,y,w);if(Ys(y))return v(m,g,y,w);$u(m,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,g!==null&&g.tag===6?(n(m,g.sibling),g=i(g,y),g.return=m,m=g):(n(m,g),g=Vh(y,m.mode,w),g.return=m,m=g),s(m)):n(m,g)}return b}var gs=J1(!0),Z1=J1(!1),Ul={},rr=ki(Ul),tl=ki(Ul),nl=ki(Ul);function Qi(t){if(t===Ul)throw Error(N(174));return t}function tv(t,e){switch(Ne(nl,e),Ne(tl,t),Ne(rr,Ul),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Kp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Kp(e,t)}Me(rr),Ne(rr,e)}function ms(){Me(rr),Me(tl),Me(nl)}function eI(t){Qi(nl.current);var e=Qi(rr.current),n=Kp(e,t.type);e!==n&&(Ne(tl,t),Ne(rr,n))}function nv(t){tl.current===t&&(Me(rr),Me(tl))}var Ve=ki(0);function Fc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Lh=[];function rv(){for(var t=0;t<Lh.length;t++)Lh[t]._workInProgressVersionPrimary=null;Lh.length=0}var ac=$r.ReactCurrentDispatcher,Mh=$r.ReactCurrentBatchConfig,co=0,je=null,it=null,ft=null,Uc=!1,_a=!1,rl=0,wA=0;function Pt(){throw Error(N(321))}function iv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Gn(t[n],e[n]))return!1;return!0}function ov(t,e,n,r,i,o){if(co=o,je=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ac.current=t===null||t.memoizedState===null?IA:CA,t=n(r,i),_a){o=0;do{if(_a=!1,rl=0,25<=o)throw Error(N(301));o+=1,ft=it=null,e.updateQueue=null,ac.current=xA,t=n(r,i)}while(_a)}if(ac.current=Bc,e=it!==null&&it.next!==null,co=0,ft=it=je=null,Uc=!1,e)throw Error(N(300));return t}function sv(){var t=rl!==0;return rl=0,t}function Xn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ft===null?je.memoizedState=ft=t:ft=ft.next=t,ft}function Pn(){if(it===null){var t=je.alternate;t=t!==null?t.memoizedState:null}else t=it.next;var e=ft===null?je.memoizedState:ft.next;if(e!==null)ft=e,it=t;else{if(t===null)throw Error(N(310));it=t,t={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},ft===null?je.memoizedState=ft=t:ft=ft.next=t}return ft}function il(t,e){return typeof e=="function"?e(t):e}function $h(t){var e=Pn(),n=e.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=t;var r=it,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var d=u.lane;if((co&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,s=r):l=l.next=f,je.lanes|=d,fo|=d}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,Gn(r,e.memoizedState)||(tn=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,je.lanes|=o,fo|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Fh(t){var e=Pn(),n=e.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);Gn(o,e.memoizedState)||(tn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function tI(){}function nI(t,e){var n=je,r=Pn(),i=e(),o=!Gn(r.memoizedState,i);if(o&&(r.memoizedState=i,tn=!0),r=r.queue,av(oI.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||ft!==null&&ft.memoizedState.tag&1){if(n.flags|=2048,ol(9,iI.bind(null,n,r,i,e),void 0,null),ht===null)throw Error(N(349));co&30||rI(n,e,i)}return i}function rI(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=je.updateQueue,e===null?(e={lastEffect:null,stores:null},je.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function iI(t,e,n,r){e.value=n,e.getSnapshot=r,sI(e)&&aI(t)}function oI(t,e,n){return n(function(){sI(e)&&aI(t)})}function sI(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Gn(t,n)}catch{return!0}}function aI(t){var e=_r(t,1);e!==null&&Hn(e,t,1,-1)}function y0(t){var e=Xn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:il,lastRenderedState:t},e.queue=t,t=t.dispatch=EA.bind(null,je,t),[e.memoizedState,t]}function ol(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=je.updateQueue,e===null?(e={lastEffect:null,stores:null},je.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function lI(){return Pn().memoizedState}function lc(t,e,n,r){var i=Xn();je.flags|=t,i.memoizedState=ol(1|e,n,void 0,r===void 0?null:r)}function Hd(t,e,n,r){var i=Pn();r=r===void 0?null:r;var o=void 0;if(it!==null){var s=it.memoizedState;if(o=s.destroy,r!==null&&iv(r,s.deps)){i.memoizedState=ol(e,n,o,r);return}}je.flags|=t,i.memoizedState=ol(1|e,n,o,r)}function w0(t,e){return lc(8390656,8,t,e)}function av(t,e){return Hd(2048,8,t,e)}function uI(t,e){return Hd(4,2,t,e)}function cI(t,e){return Hd(4,4,t,e)}function dI(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function fI(t,e,n){return n=n!=null?n.concat([t]):null,Hd(4,4,dI.bind(null,e,t),n)}function lv(){}function hI(t,e){var n=Pn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&iv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function pI(t,e){var n=Pn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&iv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function gI(t,e,n){return co&21?(Gn(n,e)||(n=y1(),je.lanes|=n,fo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,tn=!0),t.memoizedState=n)}function bA(t,e){var n=De;De=n!==0&&4>n?n:4,t(!0);var r=Mh.transition;Mh.transition={};try{t(!1),e()}finally{De=n,Mh.transition=r}}function mI(){return Pn().memoizedState}function SA(t,e,n){var r=si(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},vI(t))yI(e,n);else if(n=K1(t,e,n,r),n!==null){var i=Qt();Hn(n,t,r,i),wI(n,e,r)}}function EA(t,e,n){var r=si(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(vI(t))yI(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Gn(a,s)){var l=e.interleaved;l===null?(i.next=i,Zm(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=K1(t,e,i,r),n!==null&&(i=Qt(),Hn(n,t,r,i),wI(n,e,r))}}function vI(t){var e=t.alternate;return t===je||e!==null&&e===je}function yI(t,e){_a=Uc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function wI(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Um(t,n)}}var Bc={readContext:An,useCallback:Pt,useContext:Pt,useEffect:Pt,useImperativeHandle:Pt,useInsertionEffect:Pt,useLayoutEffect:Pt,useMemo:Pt,useReducer:Pt,useRef:Pt,useState:Pt,useDebugValue:Pt,useDeferredValue:Pt,useTransition:Pt,useMutableSource:Pt,useSyncExternalStore:Pt,useId:Pt,unstable_isNewReconciler:!1},IA={readContext:An,useCallback:function(t,e){return Xn().memoizedState=[t,e===void 0?null:e],t},useContext:An,useEffect:w0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,lc(4194308,4,dI.bind(null,e,t),n)},useLayoutEffect:function(t,e){return lc(4194308,4,t,e)},useInsertionEffect:function(t,e){return lc(4,2,t,e)},useMemo:function(t,e){var n=Xn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Xn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=SA.bind(null,je,t),[r.memoizedState,t]},useRef:function(t){var e=Xn();return t={current:t},e.memoizedState=t},useState:y0,useDebugValue:lv,useDeferredValue:function(t){return Xn().memoizedState=t},useTransition:function(){var t=y0(!1),e=t[0];return t=bA.bind(null,t[1]),Xn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=je,i=Xn();if(Ue){if(n===void 0)throw Error(N(407));n=n()}else{if(n=e(),ht===null)throw Error(N(349));co&30||rI(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,w0(oI.bind(null,r,o,t),[t]),r.flags|=2048,ol(9,iI.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Xn(),e=ht.identifierPrefix;if(Ue){var n=Sr,r=br;n=(r&~(1<<32-Wn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=rl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=wA++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},CA={readContext:An,useCallback:hI,useContext:An,useEffect:av,useImperativeHandle:fI,useInsertionEffect:uI,useLayoutEffect:cI,useMemo:pI,useReducer:$h,useRef:lI,useState:function(){return $h(il)},useDebugValue:lv,useDeferredValue:function(t){var e=Pn();return gI(e,it.memoizedState,t)},useTransition:function(){var t=$h(il)[0],e=Pn().memoizedState;return[t,e]},useMutableSource:tI,useSyncExternalStore:nI,useId:mI,unstable_isNewReconciler:!1},xA={readContext:An,useCallback:hI,useContext:An,useEffect:av,useImperativeHandle:fI,useInsertionEffect:uI,useLayoutEffect:cI,useMemo:pI,useReducer:Fh,useRef:lI,useState:function(){return Fh(il)},useDebugValue:lv,useDeferredValue:function(t){var e=Pn();return it===null?e.memoizedState=t:gI(e,it.memoizedState,t)},useTransition:function(){var t=Fh(il)[0],e=Pn().memoizedState;return[t,e]},useMutableSource:tI,useSyncExternalStore:nI,useId:mI,unstable_isNewReconciler:!1};function vs(t,e){try{var n="",r=e;do n+=Z_(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Uh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function vg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var TA=typeof WeakMap=="function"?WeakMap:Map;function bI(t,e,n){n=xr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){jc||(jc=!0,Dg=r),vg(t,e)},n}function SI(t,e,n){n=xr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){vg(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){vg(t,e),typeof r!="function"&&(oi===null?oi=new Set([this]):oi.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function b0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new TA;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=BA.bind(null,t,e,n),e.then(t,t))}function S0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function E0(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=xr(-1,1),e.tag=2,ii(n,e,1))),n.lanes|=1),t)}var DA=$r.ReactCurrentOwner,tn=!1;function Gt(t,e,n,r){e.child=t===null?Z1(e,null,n,r):gs(e,t.child,n,r)}function I0(t,e,n,r,i){n=n.render;var o=e.ref;return ts(e,i),r=ov(t,e,n,r,o,i),n=sv(),t!==null&&!tn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Rr(t,e,i)):(Ue&&n&&qm(e),e.flags|=1,Gt(t,e,r,i),e.child)}function C0(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!mv(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,EI(t,e,o,r,i)):(t=fc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Xa,n(s,r)&&t.ref===e.ref)return Rr(t,e,i)}return e.flags|=1,t=ai(o,r),t.ref=e.ref,t.return=e,e.child=t}function EI(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Xa(o,r)&&t.ref===e.ref)if(tn=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(tn=!0);else return e.lanes=t.lanes,Rr(t,e,i)}return yg(t,e,n,r,i)}function II(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ne(Go,ln),ln|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ne(Go,ln),ln|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Ne(Go,ln),ln|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Ne(Go,ln),ln|=r;return Gt(t,e,i,n),e.child}function CI(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function yg(t,e,n,r,i){var o=rn(n)?lo:Bt.current;return o=hs(e,o),ts(e,i),n=ov(t,e,n,r,o,i),r=sv(),t!==null&&!tn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Rr(t,e,i)):(Ue&&r&&qm(e),e.flags|=1,Gt(t,e,n,i),e.child)}function x0(t,e,n,r,i){if(rn(n)){var o=!0;Pc(e)}else o=!1;if(ts(e,i),e.stateNode===null)uc(t,e),X1(e,n,r),mg(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=An(u):(u=rn(n)?lo:Bt.current,u=hs(e,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&m0(e,s,r,u),zr=!1;var c=e.memoizedState;s.state=c,$c(e,r,s,i),l=e.memoizedState,a!==r||c!==l||nn.current||zr?(typeof d=="function"&&(gg(e,n,d,r),l=e.memoizedState),(a=zr||g0(e,n,a,r,c,l,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,Q1(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Fn(e.type,a),s.props=u,f=e.pendingProps,c=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=An(l):(l=rn(n)?lo:Bt.current,l=hs(e,l));var h=n.getDerivedStateFromProps;(d=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||c!==l)&&m0(e,s,r,l),zr=!1,c=e.memoizedState,s.state=c,$c(e,r,s,i);var p=e.memoizedState;a!==f||c!==p||nn.current||zr?(typeof h=="function"&&(gg(e,n,h,r),p=e.memoizedState),(u=zr||g0(e,n,u,r,c,p,l)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,p,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,p,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&c===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&c===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),s.props=r,s.state=p,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&c===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&c===t.memoizedState||(e.flags|=1024),r=!1)}return wg(t,e,n,r,o,i)}function wg(t,e,n,r,i,o){CI(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&c0(e,n,!1),Rr(t,e,o);r=e.stateNode,DA.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=gs(e,t.child,null,o),e.child=gs(e,null,a,o)):Gt(t,e,a,o),e.memoizedState=r.state,i&&c0(e,n,!0),e.child}function xI(t){var e=t.stateNode;e.pendingContext?u0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&u0(t,e.context,!1),tv(t,e.containerInfo)}function T0(t,e,n,r,i){return ps(),Qm(i),e.flags|=256,Gt(t,e,n,r),e.child}var bg={dehydrated:null,treeContext:null,retryLane:0};function Sg(t){return{baseLanes:t,cachePool:null,transitions:null}}function TI(t,e,n){var r=e.pendingProps,i=Ve.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ne(Ve,i&1),t===null)return hg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Kd(s,r,0,null),t=no(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Sg(n),e.memoizedState=bg,t):uv(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return kA(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ai(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=ai(a,o):(o=no(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?Sg(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=bg,r}return o=t.child,t=o.sibling,r=ai(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function uv(t,e){return e=Kd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Fu(t,e,n,r){return r!==null&&Qm(r),gs(e,t.child,null,n),t=uv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function kA(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Uh(Error(N(422))),Fu(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Kd({mode:"visible",children:r.children},i,0,null),o=no(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&gs(e,t.child,null,s),e.child.memoizedState=Sg(s),e.memoizedState=bg,o);if(!(e.mode&1))return Fu(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(N(419)),r=Uh(o,r,void 0),Fu(t,e,s,r)}if(a=(s&t.childLanes)!==0,tn||a){if(r=ht,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,_r(t,i),Hn(r,t,i,-1))}return gv(),r=Uh(Error(N(421))),Fu(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=VA.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,un=ri(i.nextSibling),hn=e,Ue=!0,Bn=null,t!==null&&(xn[Tn++]=br,xn[Tn++]=Sr,xn[Tn++]=uo,br=t.id,Sr=t.overflow,uo=e),e=uv(e,r.children),e.flags|=4096,e)}function D0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),pg(t.return,e,n)}function Bh(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function DI(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Gt(t,e,r.children,n),r=Ve.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&D0(t,n,e);else if(t.tag===19)D0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ne(Ve,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Fc(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Bh(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Fc(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Bh(e,!0,n,null,o);break;case"together":Bh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function uc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Rr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),fo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(N(153));if(e.child!==null){for(t=e.child,n=ai(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ai(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function _A(t,e,n){switch(e.tag){case 3:xI(e),ps();break;case 5:eI(e);break;case 1:rn(e.type)&&Pc(e);break;case 4:tv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ne(Lc,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ne(Ve,Ve.current&1),e.flags|=128,null):n&e.child.childLanes?TI(t,e,n):(Ne(Ve,Ve.current&1),t=Rr(t,e,n),t!==null?t.sibling:null);Ne(Ve,Ve.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return DI(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ne(Ve,Ve.current),r)break;return null;case 22:case 23:return e.lanes=0,II(t,e,n)}return Rr(t,e,n)}var kI,Eg,_I,RI;kI=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Eg=function(){};_I=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Qi(rr.current);var o=null;switch(n){case"input":i=Wp(t,i),r=Wp(t,r),o=[];break;case"select":i=ze({},i,{value:void 0}),r=ze({},r,{value:void 0}),o=[];break;case"textarea":i=qp(t,i),r=qp(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Rc)}Qp(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Wa.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Wa.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Le("scroll",t),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};RI=function(t,e,n,r){n!==r&&(e.flags|=4)};function na(t,e){if(!Ue)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Nt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function RA(t,e,n){var r=e.pendingProps;switch(Km(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nt(e),null;case 1:return rn(e.type)&&Ac(),Nt(e),null;case 3:return r=e.stateNode,ms(),Me(nn),Me(Bt),rv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Mu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Bn!==null&&(Rg(Bn),Bn=null))),Eg(t,e),Nt(e),null;case 5:nv(e);var i=Qi(nl.current);if(n=e.type,t!==null&&e.stateNode!=null)_I(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(N(166));return Nt(e),null}if(t=Qi(rr.current),Mu(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Jn]=e,r[el]=o,t=(e.mode&1)!==0,n){case"dialog":Le("cancel",r),Le("close",r);break;case"iframe":case"object":case"embed":Le("load",r);break;case"video":case"audio":for(i=0;i<ma.length;i++)Le(ma[i],r);break;case"source":Le("error",r);break;case"img":case"image":case"link":Le("error",r),Le("load",r);break;case"details":Le("toggle",r);break;case"input":Mw(r,o),Le("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Le("invalid",r);break;case"textarea":Fw(r,o),Le("invalid",r)}Qp(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Lu(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Lu(r.textContent,a,t),i=["children",""+a]):Wa.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Le("scroll",r)}switch(n){case"input":Du(r),$w(r,o,!0);break;case"textarea":Du(r),Uw(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Rc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=r1(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Jn]=e,t[el]=r,kI(t,e,!1,!1),e.stateNode=t;e:{switch(s=Yp(n,r),n){case"dialog":Le("cancel",t),Le("close",t),i=r;break;case"iframe":case"object":case"embed":Le("load",t),i=r;break;case"video":case"audio":for(i=0;i<ma.length;i++)Le(ma[i],t);i=r;break;case"source":Le("error",t),i=r;break;case"img":case"image":case"link":Le("error",t),Le("load",t),i=r;break;case"details":Le("toggle",t),i=r;break;case"input":Mw(t,r),i=Wp(t,r),Le("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ze({},r,{value:void 0}),Le("invalid",t);break;case"textarea":Fw(t,r),i=qp(t,r),Le("invalid",t);break;default:i=r}Qp(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?s1(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&i1(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ha(t,l):typeof l=="number"&&Ha(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Wa.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Le("scroll",t):l!=null&&Nm(t,o,l,s))}switch(n){case"input":Du(t),$w(t,r,!1);break;case"textarea":Du(t),Uw(t);break;case"option":r.value!=null&&t.setAttribute("value",""+mi(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Xo(t,!!r.multiple,o,!1):r.defaultValue!=null&&Xo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Rc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Nt(e),null;case 6:if(t&&e.stateNode!=null)RI(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(N(166));if(n=Qi(nl.current),Qi(rr.current),Mu(e)){if(r=e.stateNode,n=e.memoizedProps,r[Jn]=e,(o=r.nodeValue!==n)&&(t=hn,t!==null))switch(t.tag){case 3:Lu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Lu(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Jn]=e,e.stateNode=r}return Nt(e),null;case 13:if(Me(Ve),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ue&&un!==null&&e.mode&1&&!(e.flags&128))q1(),ps(),e.flags|=98560,o=!1;else if(o=Mu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(N(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(N(317));o[Jn]=e}else ps(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Nt(e),o=!1}else Bn!==null&&(Rg(Bn),Bn=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ve.current&1?st===0&&(st=3):gv())),e.updateQueue!==null&&(e.flags|=4),Nt(e),null);case 4:return ms(),Eg(t,e),t===null&&Ja(e.stateNode.containerInfo),Nt(e),null;case 10:return Jm(e.type._context),Nt(e),null;case 17:return rn(e.type)&&Ac(),Nt(e),null;case 19:if(Me(Ve),o=e.memoizedState,o===null)return Nt(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)na(o,!1);else{if(st!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Fc(t),s!==null){for(e.flags|=128,na(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ne(Ve,Ve.current&1|2),e.child}t=t.sibling}o.tail!==null&&Ke()>ys&&(e.flags|=128,r=!0,na(o,!1),e.lanes=4194304)}else{if(!r)if(t=Fc(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),na(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Ue)return Nt(e),null}else 2*Ke()-o.renderingStartTime>ys&&n!==1073741824&&(e.flags|=128,r=!0,na(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Ke(),e.sibling=null,n=Ve.current,Ne(Ve,r?n&1|2:n&1),e):(Nt(e),null);case 22:case 23:return pv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ln&1073741824&&(Nt(e),e.subtreeFlags&6&&(e.flags|=8192)):Nt(e),null;case 24:return null;case 25:return null}throw Error(N(156,e.tag))}function AA(t,e){switch(Km(e),e.tag){case 1:return rn(e.type)&&Ac(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ms(),Me(nn),Me(Bt),rv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return nv(e),null;case 13:if(Me(Ve),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(N(340));ps()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Me(Ve),null;case 4:return ms(),null;case 10:return Jm(e.type._context),null;case 22:case 23:return pv(),null;case 24:return null;default:return null}}var Uu=!1,Lt=!1,PA=typeof WeakSet=="function"?WeakSet:Set,W=null;function Ho(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){We(t,e,r)}else n.current=null}function Ig(t,e,n){try{n()}catch(r){We(t,e,r)}}var k0=!1;function NA(t,e){if(sg=Dc,t=O1(),Gm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,d=0,f=t,c=null;t:for(;;){for(var h;f!==n||i!==0&&f.nodeType!==3||(a=s+i),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(h=f.firstChild)!==null;)c=f,f=h;for(;;){if(f===t)break t;if(c===n&&++u===i&&(a=s),c===o&&++d===r&&(l=s),(h=f.nextSibling)!==null)break;f=c,c=f.parentNode}f=h}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ag={focusedElem:t,selectionRange:n},Dc=!1,W=e;W!==null;)if(e=W,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,W=t;else for(;W!==null;){e=W;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var v=p.memoizedProps,b=p.memoizedState,m=e.stateNode,g=m.getSnapshotBeforeUpdate(e.elementType===e.type?v:Fn(e.type,v),b);m.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(N(163))}}catch(w){We(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,W=t;break}W=e.return}return p=k0,k0=!1,p}function Ra(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Ig(e,n,o)}i=i.next}while(i!==r)}}function Gd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Cg(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function AI(t){var e=t.alternate;e!==null&&(t.alternate=null,AI(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Jn],delete e[el],delete e[cg],delete e[gA],delete e[mA])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function PI(t){return t.tag===5||t.tag===3||t.tag===4}function _0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||PI(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function xg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Rc));else if(r!==4&&(t=t.child,t!==null))for(xg(t,e,n),t=t.sibling;t!==null;)xg(t,e,n),t=t.sibling}function Tg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Tg(t,e,n),t=t.sibling;t!==null;)Tg(t,e,n),t=t.sibling}var St=null,Un=!1;function Br(t,e,n){for(n=n.child;n!==null;)NI(t,e,n),n=n.sibling}function NI(t,e,n){if(nr&&typeof nr.onCommitFiberUnmount=="function")try{nr.onCommitFiberUnmount(Fd,n)}catch{}switch(n.tag){case 5:Lt||Ho(n,e);case 6:var r=St,i=Un;St=null,Br(t,e,n),St=r,Un=i,St!==null&&(Un?(t=St,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):St.removeChild(n.stateNode));break;case 18:St!==null&&(Un?(t=St,n=n.stateNode,t.nodeType===8?Nh(t.parentNode,n):t.nodeType===1&&Nh(t,n),Qa(t)):Nh(St,n.stateNode));break;case 4:r=St,i=Un,St=n.stateNode.containerInfo,Un=!0,Br(t,e,n),St=r,Un=i;break;case 0:case 11:case 14:case 15:if(!Lt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Ig(n,e,s),i=i.next}while(i!==r)}Br(t,e,n);break;case 1:if(!Lt&&(Ho(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){We(n,e,a)}Br(t,e,n);break;case 21:Br(t,e,n);break;case 22:n.mode&1?(Lt=(r=Lt)||n.memoizedState!==null,Br(t,e,n),Lt=r):Br(t,e,n);break;default:Br(t,e,n)}}function R0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new PA),e.forEach(function(r){var i=jA.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function $n(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:St=a.stateNode,Un=!1;break e;case 3:St=a.stateNode.containerInfo,Un=!0;break e;case 4:St=a.stateNode.containerInfo,Un=!0;break e}a=a.return}if(St===null)throw Error(N(160));NI(o,s,i),St=null,Un=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){We(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)OI(e,t),e=e.sibling}function OI(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if($n(e,t),Qn(t),r&4){try{Ra(3,t,t.return),Gd(3,t)}catch(v){We(t,t.return,v)}try{Ra(5,t,t.return)}catch(v){We(t,t.return,v)}}break;case 1:$n(e,t),Qn(t),r&512&&n!==null&&Ho(n,n.return);break;case 5:if($n(e,t),Qn(t),r&512&&n!==null&&Ho(n,n.return),t.flags&32){var i=t.stateNode;try{Ha(i,"")}catch(v){We(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&t1(i,o),Yp(a,s);var u=Yp(a,o);for(s=0;s<l.length;s+=2){var d=l[s],f=l[s+1];d==="style"?s1(i,f):d==="dangerouslySetInnerHTML"?i1(i,f):d==="children"?Ha(i,f):Nm(i,d,f,u)}switch(a){case"input":Hp(i,o);break;case"textarea":n1(i,o);break;case"select":var c=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var h=o.value;h!=null?Xo(i,!!o.multiple,h,!1):c!==!!o.multiple&&(o.defaultValue!=null?Xo(i,!!o.multiple,o.defaultValue,!0):Xo(i,!!o.multiple,o.multiple?[]:"",!1))}i[el]=o}catch(v){We(t,t.return,v)}}break;case 6:if($n(e,t),Qn(t),r&4){if(t.stateNode===null)throw Error(N(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(v){We(t,t.return,v)}}break;case 3:if($n(e,t),Qn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Qa(e.containerInfo)}catch(v){We(t,t.return,v)}break;case 4:$n(e,t),Qn(t);break;case 13:$n(e,t),Qn(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(fv=Ke())),r&4&&R0(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Lt=(u=Lt)||d,$n(e,t),Lt=u):$n(e,t),Qn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(W=t,d=t.child;d!==null;){for(f=W=d;W!==null;){switch(c=W,h=c.child,c.tag){case 0:case 11:case 14:case 15:Ra(4,c,c.return);break;case 1:Ho(c,c.return);var p=c.stateNode;if(typeof p.componentWillUnmount=="function"){r=c,n=c.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(v){We(r,n,v)}}break;case 5:Ho(c,c.return);break;case 22:if(c.memoizedState!==null){P0(f);continue}}h!==null?(h.return=c,W=h):P0(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=o1("display",s))}catch(v){We(t,t.return,v)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){We(t,t.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:$n(e,t),Qn(t),r&4&&R0(t);break;case 21:break;default:$n(e,t),Qn(t)}}function Qn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(PI(n)){var r=n;break e}n=n.return}throw Error(N(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ha(i,""),r.flags&=-33);var o=_0(t);Tg(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=_0(t);xg(t,a,s);break;default:throw Error(N(161))}}catch(l){We(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function OA(t,e,n){W=t,LI(t)}function LI(t,e,n){for(var r=(t.mode&1)!==0;W!==null;){var i=W,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Uu;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Lt;a=Uu;var u=Lt;if(Uu=s,(Lt=l)&&!u)for(W=i;W!==null;)s=W,l=s.child,s.tag===22&&s.memoizedState!==null?N0(i):l!==null?(l.return=s,W=l):N0(i);for(;o!==null;)W=o,LI(o),o=o.sibling;W=i,Uu=a,Lt=u}A0(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,W=o):A0(t)}}function A0(t){for(;W!==null;){var e=W;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Lt||Gd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Lt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Fn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&p0(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}p0(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Qa(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(N(163))}Lt||e.flags&512&&Cg(e)}catch(c){We(e,e.return,c)}}if(e===t){W=null;break}if(n=e.sibling,n!==null){n.return=e.return,W=n;break}W=e.return}}function P0(t){for(;W!==null;){var e=W;if(e===t){W=null;break}var n=e.sibling;if(n!==null){n.return=e.return,W=n;break}W=e.return}}function N0(t){for(;W!==null;){var e=W;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Gd(4,e)}catch(l){We(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){We(e,i,l)}}var o=e.return;try{Cg(e)}catch(l){We(e,o,l)}break;case 5:var s=e.return;try{Cg(e)}catch(l){We(e,s,l)}}}catch(l){We(e,e.return,l)}if(e===t){W=null;break}var a=e.sibling;if(a!==null){a.return=e.return,W=a;break}W=e.return}}var LA=Math.ceil,Vc=$r.ReactCurrentDispatcher,cv=$r.ReactCurrentOwner,_n=$r.ReactCurrentBatchConfig,Ee=0,ht=null,tt=null,Tt=0,ln=0,Go=ki(0),st=0,sl=null,fo=0,qd=0,dv=0,Aa=null,Zt=null,fv=0,ys=1/0,yr=null,jc=!1,Dg=null,oi=null,Bu=!1,Zr=null,zc=0,Pa=0,kg=null,cc=-1,dc=0;function Qt(){return Ee&6?Ke():cc!==-1?cc:cc=Ke()}function si(t){return t.mode&1?Ee&2&&Tt!==0?Tt&-Tt:yA.transition!==null?(dc===0&&(dc=y1()),dc):(t=De,t!==0||(t=window.event,t=t===void 0?16:x1(t.type)),t):1}function Hn(t,e,n,r){if(50<Pa)throw Pa=0,kg=null,Error(N(185));Ml(t,n,r),(!(Ee&2)||t!==ht)&&(t===ht&&(!(Ee&2)&&(qd|=n),st===4&&Hr(t,Tt)),on(t,r),n===1&&Ee===0&&!(e.mode&1)&&(ys=Ke()+500,zd&&_i()))}function on(t,e){var n=t.callbackNode;yR(t,e);var r=Tc(t,t===ht?Tt:0);if(r===0)n!==null&&jw(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&jw(n),e===1)t.tag===0?vA(O0.bind(null,t)):W1(O0.bind(null,t)),hA(function(){!(Ee&6)&&_i()}),n=null;else{switch(w1(r)){case 1:n=Fm;break;case 4:n=m1;break;case 16:n=xc;break;case 536870912:n=v1;break;default:n=xc}n=zI(n,MI.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function MI(t,e){if(cc=-1,dc=0,Ee&6)throw Error(N(327));var n=t.callbackNode;if(ns()&&t.callbackNode!==n)return null;var r=Tc(t,t===ht?Tt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Wc(t,r);else{e=r;var i=Ee;Ee|=2;var o=FI();(ht!==t||Tt!==e)&&(yr=null,ys=Ke()+500,to(t,e));do try{FA();break}catch(a){$I(t,a)}while(1);Xm(),Vc.current=o,Ee=i,tt!==null?e=0:(ht=null,Tt=0,e=st)}if(e!==0){if(e===2&&(i=tg(t),i!==0&&(r=i,e=_g(t,i))),e===1)throw n=sl,to(t,0),Hr(t,r),on(t,Ke()),n;if(e===6)Hr(t,r);else{if(i=t.current.alternate,!(r&30)&&!MA(i)&&(e=Wc(t,r),e===2&&(o=tg(t),o!==0&&(r=o,e=_g(t,o))),e===1))throw n=sl,to(t,0),Hr(t,r),on(t,Ke()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(N(345));case 2:Bi(t,Zt,yr);break;case 3:if(Hr(t,r),(r&130023424)===r&&(e=fv+500-Ke(),10<e)){if(Tc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Qt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=ug(Bi.bind(null,t,Zt,yr),e);break}Bi(t,Zt,yr);break;case 4:if(Hr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-Wn(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Ke()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*LA(r/1960))-r,10<r){t.timeoutHandle=ug(Bi.bind(null,t,Zt,yr),r);break}Bi(t,Zt,yr);break;case 5:Bi(t,Zt,yr);break;default:throw Error(N(329))}}}return on(t,Ke()),t.callbackNode===n?MI.bind(null,t):null}function _g(t,e){var n=Aa;return t.current.memoizedState.isDehydrated&&(to(t,e).flags|=256),t=Wc(t,e),t!==2&&(e=Zt,Zt=n,e!==null&&Rg(e)),t}function Rg(t){Zt===null?Zt=t:Zt.push.apply(Zt,t)}function MA(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Gn(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Hr(t,e){for(e&=~dv,e&=~qd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Wn(e),r=1<<n;t[n]=-1,e&=~r}}function O0(t){if(Ee&6)throw Error(N(327));ns();var e=Tc(t,0);if(!(e&1))return on(t,Ke()),null;var n=Wc(t,e);if(t.tag!==0&&n===2){var r=tg(t);r!==0&&(e=r,n=_g(t,r))}if(n===1)throw n=sl,to(t,0),Hr(t,e),on(t,Ke()),n;if(n===6)throw Error(N(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Bi(t,Zt,yr),on(t,Ke()),null}function hv(t,e){var n=Ee;Ee|=1;try{return t(e)}finally{Ee=n,Ee===0&&(ys=Ke()+500,zd&&_i())}}function ho(t){Zr!==null&&Zr.tag===0&&!(Ee&6)&&ns();var e=Ee;Ee|=1;var n=_n.transition,r=De;try{if(_n.transition=null,De=1,t)return t()}finally{De=r,_n.transition=n,Ee=e,!(Ee&6)&&_i()}}function pv(){ln=Go.current,Me(Go)}function to(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,fA(n)),tt!==null)for(n=tt.return;n!==null;){var r=n;switch(Km(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ac();break;case 3:ms(),Me(nn),Me(Bt),rv();break;case 5:nv(r);break;case 4:ms();break;case 13:Me(Ve);break;case 19:Me(Ve);break;case 10:Jm(r.type._context);break;case 22:case 23:pv()}n=n.return}if(ht=t,tt=t=ai(t.current,null),Tt=ln=e,st=0,sl=null,dv=qd=fo=0,Zt=Aa=null,Ki!==null){for(e=0;e<Ki.length;e++)if(n=Ki[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Ki=null}return t}function $I(t,e){do{var n=tt;try{if(Xm(),ac.current=Bc,Uc){for(var r=je.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Uc=!1}if(co=0,ft=it=je=null,_a=!1,rl=0,cv.current=null,n===null||n.return===null){st=1,sl=e,tt=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=Tt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var c=d.alternate;c?(d.updateQueue=c.updateQueue,d.memoizedState=c.memoizedState,d.lanes=c.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=S0(s);if(h!==null){h.flags&=-257,E0(h,s,a,o,e),h.mode&1&&b0(o,u,e),e=h,l=u;var p=e.updateQueue;if(p===null){var v=new Set;v.add(l),e.updateQueue=v}else p.add(l);break e}else{if(!(e&1)){b0(o,u,e),gv();break e}l=Error(N(426))}}else if(Ue&&a.mode&1){var b=S0(s);if(b!==null){!(b.flags&65536)&&(b.flags|=256),E0(b,s,a,o,e),Qm(vs(l,a));break e}}o=l=vs(l,a),st!==4&&(st=2),Aa===null?Aa=[o]:Aa.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var m=bI(o,l,e);h0(o,m);break e;case 1:a=l;var g=o.type,y=o.stateNode;if(!(o.flags&128)&&(typeof g.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(oi===null||!oi.has(y)))){o.flags|=65536,e&=-e,o.lanes|=e;var w=SI(o,a,e);h0(o,w);break e}}o=o.return}while(o!==null)}BI(n)}catch(x){e=x,tt===n&&n!==null&&(tt=n=n.return);continue}break}while(1)}function FI(){var t=Vc.current;return Vc.current=Bc,t===null?Bc:t}function gv(){(st===0||st===3||st===2)&&(st=4),ht===null||!(fo&268435455)&&!(qd&268435455)||Hr(ht,Tt)}function Wc(t,e){var n=Ee;Ee|=2;var r=FI();(ht!==t||Tt!==e)&&(yr=null,to(t,e));do try{$A();break}catch(i){$I(t,i)}while(1);if(Xm(),Ee=n,Vc.current=r,tt!==null)throw Error(N(261));return ht=null,Tt=0,st}function $A(){for(;tt!==null;)UI(tt)}function FA(){for(;tt!==null&&!uR();)UI(tt)}function UI(t){var e=jI(t.alternate,t,ln);t.memoizedProps=t.pendingProps,e===null?BI(t):tt=e,cv.current=null}function BI(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=AA(n,e),n!==null){n.flags&=32767,tt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{st=6,tt=null;return}}else if(n=RA(n,e,ln),n!==null){tt=n;return}if(e=e.sibling,e!==null){tt=e;return}tt=e=t}while(e!==null);st===0&&(st=5)}function Bi(t,e,n){var r=De,i=_n.transition;try{_n.transition=null,De=1,UA(t,e,n,r)}finally{_n.transition=i,De=r}return null}function UA(t,e,n,r){do ns();while(Zr!==null);if(Ee&6)throw Error(N(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(N(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(wR(t,o),t===ht&&(tt=ht=null,Tt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Bu||(Bu=!0,zI(xc,function(){return ns(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=_n.transition,_n.transition=null;var s=De;De=1;var a=Ee;Ee|=4,cv.current=null,NA(t,n),OI(n,t),oA(ag),Dc=!!sg,ag=sg=null,t.current=n,OA(n),cR(),Ee=a,De=s,_n.transition=o}else t.current=n;if(Bu&&(Bu=!1,Zr=t,zc=i),o=t.pendingLanes,o===0&&(oi=null),hR(n.stateNode),on(t,Ke()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(jc)throw jc=!1,t=Dg,Dg=null,t;return zc&1&&t.tag!==0&&ns(),o=t.pendingLanes,o&1?t===kg?Pa++:(Pa=0,kg=t):Pa=0,_i(),null}function ns(){if(Zr!==null){var t=w1(zc),e=_n.transition,n=De;try{if(_n.transition=null,De=16>t?16:t,Zr===null)var r=!1;else{if(t=Zr,Zr=null,zc=0,Ee&6)throw Error(N(331));var i=Ee;for(Ee|=4,W=t.current;W!==null;){var o=W,s=o.child;if(W.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(W=u;W!==null;){var d=W;switch(d.tag){case 0:case 11:case 15:Ra(8,d,o)}var f=d.child;if(f!==null)f.return=d,W=f;else for(;W!==null;){d=W;var c=d.sibling,h=d.return;if(AI(d),d===u){W=null;break}if(c!==null){c.return=h,W=c;break}W=h}}}var p=o.alternate;if(p!==null){var v=p.child;if(v!==null){p.child=null;do{var b=v.sibling;v.sibling=null,v=b}while(v!==null)}}W=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,W=s;else e:for(;W!==null;){if(o=W,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Ra(9,o,o.return)}var m=o.sibling;if(m!==null){m.return=o.return,W=m;break e}W=o.return}}var g=t.current;for(W=g;W!==null;){s=W;var y=s.child;if(s.subtreeFlags&2064&&y!==null)y.return=s,W=y;else e:for(s=g;W!==null;){if(a=W,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Gd(9,a)}}catch(x){We(a,a.return,x)}if(a===s){W=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,W=w;break e}W=a.return}}if(Ee=i,_i(),nr&&typeof nr.onPostCommitFiberRoot=="function")try{nr.onPostCommitFiberRoot(Fd,t)}catch{}r=!0}return r}finally{De=n,_n.transition=e}}return!1}function L0(t,e,n){e=vs(n,e),e=bI(t,e,1),t=ii(t,e,1),e=Qt(),t!==null&&(Ml(t,1,e),on(t,e))}function We(t,e,n){if(t.tag===3)L0(t,t,n);else for(;e!==null;){if(e.tag===3){L0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(oi===null||!oi.has(r))){t=vs(n,t),t=SI(e,t,1),e=ii(e,t,1),t=Qt(),e!==null&&(Ml(e,1,t),on(e,t));break}}e=e.return}}function BA(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Qt(),t.pingedLanes|=t.suspendedLanes&n,ht===t&&(Tt&n)===n&&(st===4||st===3&&(Tt&130023424)===Tt&&500>Ke()-fv?to(t,0):dv|=n),on(t,e)}function VI(t,e){e===0&&(t.mode&1?(e=Ru,Ru<<=1,!(Ru&130023424)&&(Ru=4194304)):e=1);var n=Qt();t=_r(t,e),t!==null&&(Ml(t,e,n),on(t,n))}function VA(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),VI(t,n)}function jA(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(N(314))}r!==null&&r.delete(e),VI(t,n)}var jI;jI=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||nn.current)tn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return tn=!1,_A(t,e,n);tn=!!(t.flags&131072)}else tn=!1,Ue&&e.flags&1048576&&H1(e,Oc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;uc(t,e),t=e.pendingProps;var i=hs(e,Bt.current);ts(e,n),i=ov(null,e,r,t,i,n);var o=sv();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,rn(r)?(o=!0,Pc(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,ev(e),i.updater=Wd,e.stateNode=i,i._reactInternals=e,mg(e,r,t,n),e=wg(null,e,r,!0,o,n)):(e.tag=0,Ue&&o&&qm(e),Gt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(uc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=WA(r),t=Fn(r,t),i){case 0:e=yg(null,e,r,t,n);break e;case 1:e=x0(null,e,r,t,n);break e;case 11:e=I0(null,e,r,t,n);break e;case 14:e=C0(null,e,r,Fn(r.type,t),n);break e}throw Error(N(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Fn(r,i),yg(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Fn(r,i),x0(t,e,r,i,n);case 3:e:{if(xI(e),t===null)throw Error(N(387));r=e.pendingProps,o=e.memoizedState,i=o.element,Q1(t,e),$c(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=vs(Error(N(423)),e),e=T0(t,e,r,n,i);break e}else if(r!==i){i=vs(Error(N(424)),e),e=T0(t,e,r,n,i);break e}else for(un=ri(e.stateNode.containerInfo.firstChild),hn=e,Ue=!0,Bn=null,n=Z1(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ps(),r===i){e=Rr(t,e,n);break e}Gt(t,e,r,n)}e=e.child}return e;case 5:return eI(e),t===null&&hg(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,lg(r,i)?s=null:o!==null&&lg(r,o)&&(e.flags|=32),CI(t,e),Gt(t,e,s,n),e.child;case 6:return t===null&&hg(e),null;case 13:return TI(t,e,n);case 4:return tv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=gs(e,null,r,n):Gt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Fn(r,i),I0(t,e,r,i,n);case 7:return Gt(t,e,e.pendingProps,n),e.child;case 8:return Gt(t,e,e.pendingProps.children,n),e.child;case 12:return Gt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,Ne(Lc,r._currentValue),r._currentValue=s,o!==null)if(Gn(o.value,s)){if(o.children===i.children&&!nn.current){e=Rr(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=xr(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),pg(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(N(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),pg(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Gt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ts(e,n),i=An(i),r=r(i),e.flags|=1,Gt(t,e,r,n),e.child;case 14:return r=e.type,i=Fn(r,e.pendingProps),i=Fn(r.type,i),C0(t,e,r,i,n);case 15:return EI(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Fn(r,i),uc(t,e),e.tag=1,rn(r)?(t=!0,Pc(e)):t=!1,ts(e,n),X1(e,r,i),mg(e,r,i,n),wg(null,e,r,!0,t,n);case 19:return DI(t,e,n);case 22:return II(t,e,n)}throw Error(N(156,e.tag))};function zI(t,e){return g1(t,e)}function zA(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(t,e,n,r){return new zA(t,e,n,r)}function mv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function WA(t){if(typeof t=="function")return mv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Lm)return 11;if(t===Mm)return 14}return 2}function ai(t,e){var n=t.alternate;return n===null?(n=Dn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function fc(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")mv(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Mo:return no(n.children,i,o,e);case Om:s=8,i|=8;break;case Bp:return t=Dn(12,n,e,i|2),t.elementType=Bp,t.lanes=o,t;case Vp:return t=Dn(13,n,e,i),t.elementType=Vp,t.lanes=o,t;case jp:return t=Dn(19,n,e,i),t.elementType=jp,t.lanes=o,t;case JE:return Kd(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case YE:s=10;break e;case XE:s=9;break e;case Lm:s=11;break e;case Mm:s=14;break e;case jr:s=16,r=null;break e}throw Error(N(130,t==null?t:typeof t,""))}return e=Dn(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function no(t,e,n,r){return t=Dn(7,t,r,e),t.lanes=n,t}function Kd(t,e,n,r){return t=Dn(22,t,r,e),t.elementType=JE,t.lanes=n,t.stateNode={isHidden:!1},t}function Vh(t,e,n){return t=Dn(6,t,null,e),t.lanes=n,t}function jh(t,e,n){return e=Dn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function HA(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Eh(0),this.expirationTimes=Eh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Eh(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function vv(t,e,n,r,i,o,s,a,l){return t=new HA(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Dn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ev(o),t}function GA(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Lo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function WI(t){if(!t)return vi;t=t._reactInternals;e:{if(xo(t)!==t||t.tag!==1)throw Error(N(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(rn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(N(171))}if(t.tag===1){var n=t.type;if(rn(n))return z1(t,n,e)}return e}function HI(t,e,n,r,i,o,s,a,l){return t=vv(n,r,!0,t,i,o,s,a,l),t.context=WI(null),n=t.current,r=Qt(),i=si(n),o=xr(r,i),o.callback=e??null,ii(n,o,i),t.current.lanes=i,Ml(t,i,r),on(t,r),t}function Qd(t,e,n,r){var i=e.current,o=Qt(),s=si(i);return n=WI(n),e.context===null?e.context=n:e.pendingContext=n,e=xr(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ii(i,e,s),t!==null&&(Hn(t,i,s,o),sc(t,i,s)),s}function Hc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function M0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function yv(t,e){M0(t,e),(t=t.alternate)&&M0(t,e)}function qA(){return null}var GI=typeof reportError=="function"?reportError:function(t){console.error(t)};function wv(t){this._internalRoot=t}Yd.prototype.render=wv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(N(409));Qd(t,e,null,null)};Yd.prototype.unmount=wv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ho(function(){Qd(null,t,null,null)}),e[kr]=null}};function Yd(t){this._internalRoot=t}Yd.prototype.unstable_scheduleHydration=function(t){if(t){var e=E1();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Wr.length&&e!==0&&e<Wr[n].priority;n++);Wr.splice(n,0,t),n===0&&C1(t)}};function bv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Xd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function $0(){}function KA(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=Hc(s);o.call(u)}}var s=HI(e,r,t,0,null,!1,!1,"",$0);return t._reactRootContainer=s,t[kr]=s.current,Ja(t.nodeType===8?t.parentNode:t),ho(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Hc(l);a.call(u)}}var l=vv(t,0,!1,null,null,!1,!1,"",$0);return t._reactRootContainer=l,t[kr]=l.current,Ja(t.nodeType===8?t.parentNode:t),ho(function(){Qd(e,l,n,r)}),l}function Jd(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=Hc(s);a.call(l)}}Qd(e,s,t,i)}else s=KA(n,e,t,i,r);return Hc(s)}b1=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ga(e.pendingLanes);n!==0&&(Um(e,n|1),on(e,Ke()),!(Ee&6)&&(ys=Ke()+500,_i()))}break;case 13:ho(function(){var r=_r(t,1);if(r!==null){var i=Qt();Hn(r,t,1,i)}}),yv(t,1)}};Bm=function(t){if(t.tag===13){var e=_r(t,134217728);if(e!==null){var n=Qt();Hn(e,t,134217728,n)}yv(t,134217728)}};S1=function(t){if(t.tag===13){var e=si(t),n=_r(t,e);if(n!==null){var r=Qt();Hn(n,t,e,r)}yv(t,e)}};E1=function(){return De};I1=function(t,e){var n=De;try{return De=t,e()}finally{De=n}};Jp=function(t,e,n){switch(e){case"input":if(Hp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=jd(r);if(!i)throw Error(N(90));e1(r),Hp(r,i)}}}break;case"textarea":n1(t,n);break;case"select":e=n.value,e!=null&&Xo(t,!!n.multiple,e,!1)}};u1=hv;c1=ho;var QA={usingClientEntryPoint:!1,Events:[Fl,Bo,jd,a1,l1,hv]},ra={findFiberByHostInstance:qi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},YA={bundleType:ra.bundleType,version:ra.version,rendererPackageName:ra.rendererPackageName,rendererConfig:ra.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$r.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=h1(t),t===null?null:t.stateNode},findFiberByHostInstance:ra.findFiberByHostInstance||qA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vu.isDisabled&&Vu.supportsFiber)try{Fd=Vu.inject(YA),nr=Vu}catch{}}bn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=QA;bn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bv(e))throw Error(N(200));return GA(t,e,null,n)};bn.createRoot=function(t,e){if(!bv(t))throw Error(N(299));var n=!1,r="",i=GI;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=vv(t,1,!1,null,null,n,!1,r,i),t[kr]=e.current,Ja(t.nodeType===8?t.parentNode:t),new wv(e)};bn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(N(188)):(t=Object.keys(t).join(","),Error(N(268,t)));return t=h1(e),t=t===null?null:t.stateNode,t};bn.flushSync=function(t){return ho(t)};bn.hydrate=function(t,e,n){if(!Xd(e))throw Error(N(200));return Jd(null,t,e,!0,n)};bn.hydrateRoot=function(t,e,n){if(!bv(t))throw Error(N(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=GI;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=HI(e,null,t,1,n??null,i,!1,o,s),t[kr]=e.current,Ja(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Yd(e)};bn.render=function(t,e,n){if(!Xd(e))throw Error(N(200));return Jd(null,t,e,!1,n)};bn.unmountComponentAtNode=function(t){if(!Xd(t))throw Error(N(40));return t._reactRootContainer?(ho(function(){Jd(null,null,t,!1,function(){t._reactRootContainer=null,t[kr]=null})}),!0):!1};bn.unstable_batchedUpdates=hv;bn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Xd(n))throw Error(N(200));if(t==null||t._reactInternals===void 0)throw Error(N(38));return Jd(t,e,n,!1,r)};bn.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=bn})(q_);const XA=$E(ao);var F0=ao;$p.createRoot=F0.createRoot,$p.hydrateRoot=F0.hydrateRoot;/**
 * @remix-run/router v1.2.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ae(){return Ae=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ae.apply(this,arguments)}var Je;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Je||(Je={}));const U0="popstate";function JA(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:s,hash:a}=r.location;return al("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:cr(i)}return eP(e,n,null,t)}function de(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ZA(){return Math.random().toString(36).substr(2,8)}function B0(t){return{usr:t.state,key:t.key}}function al(t,e,n,r){return n===void 0&&(n=null),Ae({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Fr(e):e,{state:n,key:e&&e.key||r||ZA()})}function cr(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Fr(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function ll(t){let e=typeof window<"u"&&typeof window.location<"u"&&window.location.origin!=="null"?window.location.origin:window.location.href,n=typeof t=="string"?t:cr(t);return de(e,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,e)}function eP(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=Je.Pop,l=null;function u(){a=Je.Pop,l&&l({action:a,location:c.location})}function d(h,p){a=Je.Push;let v=al(c.location,h,p);n&&n(v,h);let b=B0(v),m=c.createHref(v);try{s.pushState(b,"",m)}catch{i.location.assign(m)}o&&l&&l({action:a,location:c.location})}function f(h,p){a=Je.Replace;let v=al(c.location,h,p);n&&n(v,h);let b=B0(v),m=c.createHref(v);s.replaceState(b,"",m),o&&l&&l({action:a,location:c.location})}let c={get action(){return a},get location(){return t(i,s)},listen(h){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(U0,u),l=h,()=>{i.removeEventListener(U0,u),l=null}},createHref(h){return e(i,h)},encodeLocation(h){let p=ll(typeof h=="string"?h:cr(h));return{pathname:p.pathname,search:p.search,hash:p.hash}},push:d,replace:f,go(h){return s.go(h)}};return c}var It;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(It||(It={}));function tP(t){return t.index===!0}function qI(t,e,n){return e===void 0&&(e=[]),n===void 0&&(n=new Set),t.map((r,i)=>{let o=[...e,i],s=typeof r.id=="string"?r.id:o.join("-");return de(r.index!==!0||!r.children,"Cannot specify children on an index route"),de(!n.has(s),'Found a route id collision on id "'+s+`".  Route id's must be globally unique within Data Router usages`),n.add(s),tP(r)?Ae({},r,{id:s}):Ae({},r,{id:s,children:r.children?qI(r.children,o,n):void 0})})}function va(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Fr(e):e,i=YI(r.pathname||"/",n);if(i==null)return null;let o=KI(t);nP(o);let s=null;for(let a=0;s==null&&a<o.length;++a)s=dP(o[a],pP(i));return s}function KI(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(de(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Tr([r,l.relativePath]),d=n.concat(l);o.children&&o.children.length>0&&(de(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),KI(o.children,e,d,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:uP(u,o.index),routesMeta:d})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of QI(o.path))i(o,s,l)}),e}function QI(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=QI(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function nP(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:cP(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const rP=/^:\w+$/,iP=3,oP=2,sP=1,aP=10,lP=-2,V0=t=>t==="*";function uP(t,e){let n=t.split("/"),r=n.length;return n.some(V0)&&(r+=lP),e&&(r+=oP),n.filter(i=>!V0(i)).reduce((i,o)=>i+(rP.test(o)?iP:o===""?sP:aP),r)}function cP(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function dP(t,e){let{routesMeta:n}=t,r={},i="/",o=[];for(let s=0;s<n.length;++s){let a=n[s],l=s===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",d=fP({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!d)return null;Object.assign(r,d.params);let f=a.route;o.push({params:r,pathname:Tr([i,d.pathname]),pathnameBase:yP(Tr([i,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(i=Tr([i,d.pathnameBase]))}return o}function fP(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=hP(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,d,f)=>{if(d==="*"){let c=a[f]||"";s=o.slice(0,o.length-c.length).replace(/(.)\/+$/,"$1")}return u[d]=gP(a[f]||"",d),u},{}),pathname:o,pathnameBase:s,pattern:t}}function hP(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Sv(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(s,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function pP(t){try{return decodeURI(t)}catch(e){return Sv(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function gP(t,e){try{return decodeURIComponent(t)}catch(n){return Sv(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function YI(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Sv(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function mP(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Fr(t):t;return{pathname:n?n.startsWith("/")?n:vP(n,e):e,search:wP(r),hash:bP(i)}}function vP(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function zh(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Zd(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Ev(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Fr(t):(i=Ae({},t),de(!i.pathname||!i.pathname.includes("?"),zh("?","pathname","search",i)),de(!i.pathname||!i.pathname.includes("#"),zh("#","pathname","hash",i)),de(!i.search||!i.search.includes("#"),zh("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(r||s==null)a=n;else{let f=e.length-1;if(s.startsWith("..")){let c=s.split("/");for(;c[0]==="..";)c.shift(),f-=1;i.pathname=c.join("/")}a=f>=0?e[f]:"/"}let l=mP(i,a),u=s&&s!=="/"&&s.endsWith("/"),d=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const Tr=t=>t.join("/").replace(/\/\/+/g,"/"),yP=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),wP=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,bP=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class j0 extends Error{}class SP{constructor(e){this.pendingKeys=new Set,this.subscriber=void 0,de(e&&typeof e=="object"&&!Array.isArray(e),"defer() only accepts plain objects");let n;this.abortPromise=new Promise((i,o)=>n=o),this.controller=new AbortController;let r=()=>n(new j0("Deferred data aborted"));this.unlistenAbortSignal=()=>this.controller.signal.removeEventListener("abort",r),this.controller.signal.addEventListener("abort",r),this.data=Object.entries(e).reduce((i,o)=>{let[s,a]=o;return Object.assign(i,{[s]:this.trackPromise(s,a)})},{})}trackPromise(e,n){if(!(n instanceof Promise))return n;this.pendingKeys.add(e);let r=Promise.race([n,this.abortPromise]).then(i=>this.onSettle(r,e,null,i),i=>this.onSettle(r,e,i));return r.catch(()=>{}),Object.defineProperty(r,"_tracked",{get:()=>!0}),r}onSettle(e,n,r,i){if(this.controller.signal.aborted&&r instanceof j0)return this.unlistenAbortSignal(),Object.defineProperty(e,"_error",{get:()=>r}),Promise.reject(r);this.pendingKeys.delete(n),this.done&&this.unlistenAbortSignal();const o=this.subscriber;return r?(Object.defineProperty(e,"_error",{get:()=>r}),o&&o(!1),Promise.reject(r)):(Object.defineProperty(e,"_data",{get:()=>i}),o&&o(!1),i)}subscribe(e){this.subscriber=e}cancel(){this.controller.abort(),this.pendingKeys.forEach((n,r)=>this.pendingKeys.delete(r));let e=this.subscriber;e&&e(!0)}async resolveData(e){let n=!1;if(!this.done){let r=()=>this.cancel();e.addEventListener("abort",r),n=await new Promise(i=>{this.subscribe(o=>{e.removeEventListener("abort",r),(o||this.done)&&i(o)})})}return n}get done(){return this.pendingKeys.size===0}get unwrappedData(){return de(this.data!==null&&this.done,"Can only unwrap data on initialized and settled deferreds"),Object.entries(this.data).reduce((e,n)=>{let[r,i]=n;return Object.assign(e,{[r]:IP(i)})},{})}}function EP(t){return t instanceof Promise&&t._tracked===!0}function IP(t){if(!EP(t))return t;if(t._error)throw t._error;return t._data}class ef{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function XI(t){return t instanceof ef}const JI=["post","put","patch","delete"],CP=new Set(JI),xP=["get",...JI],TP=new Set(xP),DP=new Set([301,302,303,307,308]),kP=new Set([307,308]),Wh={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},_P={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},RP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",AP=!RP;function PP(t){de(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let e=qI(t.routes),n=null,r=new Set,i=null,o=null,s=null,a=t.hydrationData!=null,l=va(e,t.history.location,t.basename),u=null;if(l==null){let C=Hi(404,{pathname:t.history.location.pathname}),{matches:S,route:T}=K0(e);l=S,u={[T.id]:C}}let d=!l.some(C=>C.route.loader)||t.hydrationData!=null,f,c={historyAction:t.history.action,location:t.history.location,matches:l,initialized:d,navigation:Wh,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||u,fetchers:new Map},h=Je.Pop,p=!1,v,b=!1,m=!1,g=[],y=[],w=new Map,x=0,D=-1,R=new Map,A=new Set,$=new Map,F=new Map;function U(){return n=t.history.listen(C=>{let{action:S,location:T}=C;return L(S,T)}),c.initialized||L(Je.Pop,c.location),f}function ee(){n&&n(),r.clear(),v&&v.abort(),c.fetchers.forEach((C,S)=>pr(S))}function re(C){return r.add(C),()=>r.delete(C)}function Y(C){c=Ae({},c,C),r.forEach(S=>S(c))}function Ie(C,S){var T;let z=c.actionData!=null&&c.navigation.formMethod!=null&&Gi(c.navigation.formMethod)&&c.navigation.state==="loading"&&((T=C.state)==null?void 0:T._isRedirect)!==!0,B;S.actionData?Object.keys(S.actionData).length>0?B=S.actionData:B=null:z?B=c.actionData:B=null;let ce=S.loaderData?q0(c.loaderData,S.loaderData,S.matches||[],S.errors):c.loaderData;Y(Ae({},S,{actionData:B,loaderData:ce,historyAction:h,location:C,initialized:!0,navigation:Wh,revalidation:"idle",restoreScrollPosition:c.navigation.formData?!1:j(C,S.matches||c.matches),preventScrollReset:p})),b||h===Je.Pop||(h===Je.Push?t.history.push(C,C.state):h===Je.Replace&&t.history.replace(C,C.state)),h=Je.Pop,p=!1,b=!1,m=!1,g=[],y=[]}async function xe(C,S){if(typeof C=="number"){t.history.go(C);return}let{path:T,submission:z,error:B}=z0(C,S),ce=al(c.location,T,S&&S.state);ce=Ae({},ce,t.history.encodeLocation(ce));let le=S&&S.replace!=null?S.replace:void 0,he=Je.Push;le===!0?he=Je.Replace:le===!1||z!=null&&Gi(z.formMethod)&&z.formAction===c.location.pathname+c.location.search&&(he=Je.Replace);let se=S&&"preventScrollReset"in S?S.preventScrollReset===!0:void 0;return await L(he,ce,{submission:z,pendingError:B,preventScrollReset:se,replace:S&&S.replace})}function ct(){if(wt(),Y({revalidation:"loading"}),c.navigation.state!=="submitting"){if(c.navigation.state==="idle"){L(c.historyAction,c.location,{startUninterruptedRevalidation:!0});return}L(h||c.historyAction,c.navigation.location,{overrideNavigation:c.navigation})}}async function L(C,S,T){v&&v.abort(),v=null,h=C,b=(T&&T.startUninterruptedRevalidation)===!0,_(c.location,c.matches),p=(T&&T.preventScrollReset)===!0;let z=T&&T.overrideNavigation,B=va(e,S,t.basename);if(!B){let Re=Hi(404,{pathname:S.pathname}),{matches:Ln,route:Mn}=K0(e);E(),Ie(S,{matches:Ln,loaderData:{},errors:{[Mn.id]:Re}});return}if($P(c.location,S)){Ie(S,{matches:B});return}v=new AbortController;let ce=oa(S,v.signal,T&&T.submission),le,he;if(T&&T.pendingError)he={[qo(B).route.id]:T.pendingError};else if(T&&T.submission&&Gi(T.submission.formMethod)){let Re=await X(ce,S,T.submission,B,{replace:T.replace});if(Re.shortCircuited)return;le=Re.pendingActionData,he=Re.pendingActionError,z=Ae({state:"loading",location:S},T.submission),ce=new Request(ce.url,{signal:ce.signal})}let{shortCircuited:se,loaderData:Ye,errors:ye}=await q(ce,S,B,z,T&&T.submission,T&&T.replace,le,he);se||(v=null,Ie(S,Ae({matches:B},le?{actionData:le}:{},{loaderData:Ye,errors:ye})))}async function X(C,S,T,z,B){wt();let ce=Ae({state:"submitting",location:S},T);Y({navigation:ce});let le,he=J0(z,S);if(!he.route.action)le={type:It.error,error:Hi(405,{method:C.method,pathname:S.pathname,routeId:he.route.id})};else if(le=await ia("action",C,he,z,f.basename),C.signal.aborted)return{shortCircuited:!0};if(rs(le)){let se;return B&&B.replace!=null?se=B.replace:se=le.location===c.location.pathname+c.location.search,await Qe(c,le,{submission:T,replace:se}),{shortCircuited:!0}}if(Na(le)){let se=qo(z,he.route.id);return(B&&B.replace)!==!0&&(h=Je.Push),{pendingActionData:{},pendingActionError:{[se.route.id]:le.error}}}if(Yi(le))throw new Error("defer() is not supported in actions");return{pendingActionData:{[he.route.id]:le.data}}}async function q(C,S,T,z,B,ce,le,he){let se=z;se||(se=Ae({state:"loading",location:S,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},B));let Ye=B||(se.formMethod&&se.formAction&&se.formData&&se.formEncType?{formMethod:se.formMethod,formAction:se.formAction,formData:se.formData,formEncType:se.formEncType}:void 0),[ye,Re]=W0(c,T,Ye,S,m,g,y,le,he,$);if(E(At=>!(T&&T.some(an=>an.route.id===At))||ye&&ye.some(an=>an.route.id===At)),ye.length===0&&Re.length===0)return Ie(S,Ae({matches:T,loaderData:{},errors:he||null},le?{actionData:le}:{})),{shortCircuited:!0};if(!b){Re.forEach(an=>{let[Mi]=an,Ks=c.fetchers.get(Mi),Qs={state:"loading",data:Ks&&Ks.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};c.fetchers.set(Mi,Qs)});let At=le||c.actionData;Y(Ae({navigation:se},At?Object.keys(At).length===0?{actionData:null}:{actionData:At}:{},Re.length>0?{fetchers:new Map(c.fetchers)}:{}))}D=++x,Re.forEach(At=>{let[an]=At;return w.set(an,v)});let{results:Ln,loaderResults:Mn,fetcherResults:qs}=await rt(c.matches,T,ye,Re,C);if(C.signal.aborted)return{shortCircuited:!0};Re.forEach(At=>{let[an]=At;return w.delete(an)});let Iu=Q0(Ln);if(Iu)return await Qe(c,Iu,{replace:ce}),{shortCircuited:!0};let{loaderData:Cu,errors:_o}=G0(c,T,ye,Mn,he,Re,qs,F);F.forEach((At,an)=>{At.subscribe(Mi=>{(Mi||At.done)&&F.delete(an)})}),Li();let mh=Ur(D);return Ae({loaderData:Cu,errors:_o},mh||Re.length>0?{fetchers:new Map(c.fetchers)}:{})}function ve(C){return c.fetchers.get(C)||_P}function fe(C,S,T,z){if(AP)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");w.has(C)&&sn(C);let B=va(e,T,t.basename);if(!B){On(C,S,Hi(404,{pathname:T}));return}let{path:ce,submission:le}=z0(T,z,!0),he=J0(B,ce);if(le&&Gi(le.formMethod)){Jt(C,S,ce,he,B,le);return}$.set(C,[ce,he,B]),Rt(C,S,ce,he,B,le)}async function Jt(C,S,T,z,B,ce){if(wt(),$.delete(C),!z.route.action){let mr=Hi(405,{method:ce.formMethod,pathname:T,routeId:S});On(C,S,mr);return}let le=c.fetchers.get(C),he=Ae({state:"submitting"},ce,{data:le&&le.data," _hasFetcherDoneAnything ":!0});c.fetchers.set(C,he),Y({fetchers:new Map(c.fetchers)});let se=new AbortController,Ye=oa(T,se.signal,ce);w.set(C,se);let ye=await ia("action",Ye,z,B,f.basename);if(Ye.signal.aborted){w.get(C)===se&&w.delete(C);return}if(rs(ye)){w.delete(C),A.add(C);let mr=Ae({state:"loading"},ce,{data:void 0," _hasFetcherDoneAnything ":!0});return c.fetchers.set(C,mr),Y({fetchers:new Map(c.fetchers)}),Qe(c,ye,{isFetchActionRedirect:!0})}if(Na(ye)){On(C,S,ye.error);return}Yi(ye)&&de(!1,"defer() is not supported in actions");let Re=c.navigation.location||c.location,Ln=oa(Re,se.signal),Mn=c.navigation.state!=="idle"?va(e,c.navigation.location,t.basename):c.matches;de(Mn,"Didn't find any matches after fetcher action");let qs=++x;R.set(C,qs);let Iu=Ae({state:"loading",data:ye.data},ce,{" _hasFetcherDoneAnything ":!0});c.fetchers.set(C,Iu);let[Cu,_o]=W0(c,Mn,ce,Re,m,g,y,{[z.route.id]:ye.data},void 0,$);_o.filter(mr=>{let[$i]=mr;return $i!==C}).forEach(mr=>{let[$i]=mr,_w=c.fetchers.get($i),E_={state:"loading",data:_w&&_w.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};c.fetchers.set($i,E_),w.set($i,se)}),Y({fetchers:new Map(c.fetchers)});let{results:mh,loaderResults:At,fetcherResults:an}=await rt(c.matches,Mn,Cu,_o,Ln);if(se.signal.aborted)return;R.delete(C),w.delete(C),_o.forEach(mr=>{let[$i]=mr;return w.delete($i)});let Mi=Q0(mh);if(Mi)return Qe(c,Mi);let{loaderData:Ks,errors:Qs}=G0(c,c.matches,Cu,At,void 0,_o,an,F),b_={state:"idle",data:ye.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};c.fetchers.set(C,b_);let S_=Ur(qs);c.navigation.state==="loading"&&qs>D?(de(h,"Expected pending action"),v&&v.abort(),Ie(c.navigation.location,{matches:Mn,loaderData:Ks,errors:Qs,fetchers:new Map(c.fetchers)})):(Y(Ae({errors:Qs,loaderData:q0(c.loaderData,Ks,Mn,Qs)},S_?{fetchers:new Map(c.fetchers)}:{})),m=!1)}async function Rt(C,S,T,z,B,ce){let le=c.fetchers.get(C),he=Ae({state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},ce,{data:le&&le.data," _hasFetcherDoneAnything ":!0});c.fetchers.set(C,he),Y({fetchers:new Map(c.fetchers)});let se=new AbortController,Ye=oa(T,se.signal);w.set(C,se);let ye=await ia("loader",Ye,z,B,f.basename);if(Yi(ye)&&(ye=await nC(ye,Ye.signal,!0)||ye),w.get(C)===se&&w.delete(C),Ye.signal.aborted)return;if(rs(ye)){await Qe(c,ye);return}if(Na(ye)){let Ln=qo(c.matches,S);c.fetchers.delete(C),Y({fetchers:new Map(c.fetchers),errors:{[Ln.route.id]:ye.error}});return}de(!Yi(ye),"Unhandled fetcher deferred data");let Re={state:"idle",data:ye.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};c.fetchers.set(C,Re),Y({fetchers:new Map(c.fetchers)})}async function Qe(C,S,T){var z;let{submission:B,replace:ce,isFetchActionRedirect:le}=T===void 0?{}:T;S.revalidate&&(m=!0);let he=al(C.location,S.location,Ae({_isRedirect:!0},le?{_isFetchActionRedirect:!0}:{}));if(de(he,"Expected a location on the redirect navigation"),typeof((z=window)==null?void 0:z.location)<"u"){let Mn=ll(S.location).origin;if(window.location.origin!==Mn){ce?window.location.replace(S.location):window.location.assign(S.location);return}}v=null;let se=ce===!0?Je.Replace:Je.Push,{formMethod:Ye,formAction:ye,formEncType:Re,formData:Ln}=C.navigation;!B&&Ye&&ye&&Ln&&Re&&(B={formMethod:Ye,formAction:ye,formEncType:Re,formData:Ln}),kP.has(S.status)&&B&&Gi(B.formMethod)?await L(se,he,{submission:Ae({},B,{formAction:S.location})}):await L(se,he,{overrideNavigation:{state:"loading",location:he,formMethod:B?B.formMethod:void 0,formAction:B?B.formAction:void 0,formEncType:B?B.formEncType:void 0,formData:B?B.formData:void 0}})}async function rt(C,S,T,z,B){let ce=await Promise.all([...T.map(se=>ia("loader",B,se,S,f.basename)),...z.map(se=>{let[,Ye,ye,Re]=se;return ia("loader",oa(Ye,B.signal),ye,Re,f.basename)})]),le=ce.slice(0,T.length),he=ce.slice(T.length);return await Promise.all([Y0(C,T,le,B.signal,!1,c.loaderData),Y0(C,z.map(se=>{let[,,Ye]=se;return Ye}),he,B.signal,!0)]),{results:ce,loaderResults:le,fetcherResults:he}}function wt(){m=!0,g.push(...E()),$.forEach((C,S)=>{w.has(S)&&(y.push(S),sn(S))})}function On(C,S,T){let z=qo(c.matches,S);pr(C),Y({errors:{[z.route.id]:T},fetchers:new Map(c.fetchers)})}function pr(C){w.has(C)&&sn(C),$.delete(C),R.delete(C),A.delete(C),c.fetchers.delete(C)}function sn(C){let S=w.get(C);de(S,"Expected fetch controller: "+C),S.abort(),w.delete(C)}function gr(C){for(let S of C){let z={state:"idle",data:ve(S).data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};c.fetchers.set(S,z)}}function Li(){let C=[];for(let S of A){let T=c.fetchers.get(S);de(T,"Expected fetcher: "+S),T.state==="loading"&&(A.delete(S),C.push(S))}gr(C)}function Ur(C){let S=[];for(let[T,z]of R)if(z<C){let B=c.fetchers.get(T);de(B,"Expected fetcher: "+T),B.state==="loading"&&(sn(T),R.delete(T),S.push(T))}return gr(S),S.length>0}function E(C){let S=[];return F.forEach((T,z)=>{(!C||C(z))&&(T.cancel(),S.push(z),F.delete(z))}),S}function k(C,S,T){if(i=C,s=S,o=T||(z=>z.key),!a&&c.navigation===Wh){a=!0;let z=j(c.location,c.matches);z!=null&&Y({restoreScrollPosition:z})}return()=>{i=null,s=null,o=null}}function _(C,S){if(i&&o&&s){let T=S.map(B=>X0(B,c.loaderData)),z=o(C,T)||C.key;i[z]=s()}}function j(C,S){if(i&&o&&s){let T=S.map(ce=>X0(ce,c.loaderData)),z=o(C,T)||C.key,B=i[z];if(typeof B=="number")return B}return null}return f={get basename(){return t.basename},get state(){return c},get routes(){return e},initialize:U,subscribe:re,enableScrollRestoration:k,navigate:xe,fetch:fe,revalidate:ct,createHref:C=>t.history.createHref(C),encodeLocation:C=>t.history.encodeLocation(C),getFetcher:ve,deleteFetcher:pr,dispose:ee,_internalFetchControllers:w,_internalActiveDeferreds:F},f}function NP(t){return t!=null&&"formData"in t}function z0(t,e,n){n===void 0&&(n=!1);let r=typeof t=="string"?t:cr(t);if(!e||!NP(e))return{path:r};if(e.formMethod&&!UP(e.formMethod))return{path:r,error:Hi(405,{method:e.formMethod})};let i;if(e.formData&&(i={formMethod:e.formMethod||"get",formAction:tC(r),formEncType:e&&e.formEncType||"application/x-www-form-urlencoded",formData:e.formData},Gi(i.formMethod)))return{path:r,submission:i};let o=Fr(r);try{let s=eC(e.formData);n&&o.search&&rC(o.search)&&s.append("index",""),o.search="?"+s}catch{return{path:r,error:Hi(400)}}return{path:cr(o),submission:i}}function OP(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function W0(t,e,n,r,i,o,s,a,l,u){let d=l?Object.values(l)[0]:a?Object.values(a)[0]:void 0,f=l?Object.keys(l)[0]:void 0,h=OP(e,f).filter((v,b)=>v.route.loader!=null&&(LP(t.loaderData,t.matches[b],v)||o.some(m=>m===v.route.id)||H0(t.location,t.matches[b],n,r,v,i,d))),p=[];return u&&u.forEach((v,b)=>{let[m,g,y]=v;s.includes(b)?p.push([b,m,g,y]):i&&H0(m,g,n,m,g,i,d)&&p.push([b,m,g,y])}),[h,p]}function LP(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function ZI(t,e){let n=t.route.path;return t.pathname!==e.pathname||n&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function H0(t,e,n,r,i,o,s){let a=ll(t),l=e.params,u=ll(r),d=i.params,f=ZI(e,i)||a.toString()===u.toString()||a.search!==u.search||o;if(i.route.shouldRevalidate){let c=i.route.shouldRevalidate(Ae({currentUrl:a,currentParams:l,nextUrl:u,nextParams:d},n,{actionResult:s,defaultShouldRevalidate:f}));if(typeof c=="boolean")return c}return f}async function ia(t,e,n,r,i,o,s,a){i===void 0&&(i="/"),o===void 0&&(o=!1),s===void 0&&(s=!1);let l,u,d,f=new Promise((h,p)=>d=p),c=()=>d();e.signal.addEventListener("abort",c);try{let h=n.route[t];de(h,"Could not find the "+t+' to run on the "'+n.route.id+'" route'),u=await Promise.race([h({request:e,params:n.params,context:a}),f]),de(u!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(h){l=It.error,u=h}finally{e.signal.removeEventListener("abort",c)}if(FP(u)){let h=u.status;if(DP.has(h)){let b=u.headers.get("Location");if(de(b,"Redirects returned/thrown from loaders/actions must have a Location header"),!(/^[a-z+]+:\/\//i.test(b)||b.startsWith("//"))){let g=r.slice(0,r.indexOf(n)+1),y=Zd(g).map(x=>x.pathnameBase),w=Ev(b,y,new URL(e.url).pathname);if(de(cr(w),"Unable to resolve redirect location: "+b),i){let x=w.pathname;w.pathname=x==="/"?i:Tr([i,x])}b=cr(w)}if(o)throw u.headers.set("Location",b),u;return{type:It.redirect,status:h,location:b,revalidate:u.headers.get("X-Remix-Revalidate")!==null}}if(s)throw{type:l||It.data,response:u};let p,v=u.headers.get("Content-Type");return v&&/\bapplication\/json\b/.test(v)?p=await u.json():p=await u.text(),l===It.error?{type:l,error:new ef(h,u.statusText,p),headers:u.headers}:{type:It.data,data:p,statusCode:u.status,headers:u.headers}}return l===It.error?{type:l,error:u}:u instanceof SP?{type:It.deferred,deferredData:u}:{type:It.data,data:u}}function oa(t,e,n){let r=ll(tC(t)).toString(),i={signal:e};if(n&&Gi(n.formMethod)){let{formMethod:o,formEncType:s,formData:a}=n;i.method=o.toUpperCase(),i.body=s==="application/x-www-form-urlencoded"?eC(a):a}return new Request(r,i)}function eC(t){let e=new URLSearchParams;for(let[n,r]of t.entries())de(typeof r=="string",'File inputs are not supported with encType "application/x-www-form-urlencoded", please use "multipart/form-data" instead.'),e.append(n,r);return e}function MP(t,e,n,r,i){let o={},s=null,a,l=!1,u={};return n.forEach((d,f)=>{let c=e[f].route.id;if(de(!rs(d),"Cannot handle redirect results in processLoaderData"),Na(d)){let h=qo(t,c),p=d.error;r&&(p=Object.values(r)[0],r=void 0),s=s||{},s[h.route.id]==null&&(s[h.route.id]=p),o[c]=void 0,l||(l=!0,a=XI(d.error)?d.error.status:500),d.headers&&(u[c]=d.headers)}else Yi(d)?(i&&i.set(c,d.deferredData),o[c]=d.deferredData.data):(o[c]=d.data,d.statusCode!=null&&d.statusCode!==200&&!l&&(a=d.statusCode),d.headers&&(u[c]=d.headers))}),r&&(s=r,o[Object.keys(r)[0]]=void 0),{loaderData:o,errors:s,statusCode:a||200,loaderHeaders:u}}function G0(t,e,n,r,i,o,s,a){let{loaderData:l,errors:u}=MP(e,n,r,i,a);for(let d=0;d<o.length;d++){let[f,,c]=o[d];de(s!==void 0&&s[d]!==void 0,"Did not find corresponding fetcher result");let h=s[d];if(Na(h)){let p=qo(t.matches,c.route.id);u&&u[p.route.id]||(u=Ae({},u,{[p.route.id]:h.error})),t.fetchers.delete(f)}else{if(rs(h))throw new Error("Unhandled fetcher revalidation redirect");if(Yi(h))throw new Error("Unhandled fetcher deferred data");{let p={state:"idle",data:h.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};t.fetchers.set(f,p)}}}return{loaderData:l,errors:u}}function q0(t,e,n,r){let i=Ae({},e);for(let o of n){let s=o.route.id;if(e.hasOwnProperty(s)?e[s]!==void 0&&(i[s]=e[s]):t[s]!==void 0&&(i[s]=t[s]),r&&r.hasOwnProperty(s))break}return i}function qo(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function K0(t){let e=t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Hi(t,e){let{pathname:n,routeId:r,method:i}=e===void 0?{}:e,o="Unknown Server Error",s="Unknown @remix-run/router error";return t===400?(o="Bad Request",i&&n&&r?s="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s="Cannot submit binary form data using GET"):t===403?(o="Forbidden",s='Route "'+r+'" does not match URL "'+n+'"'):t===404?(o="Not Found",s='No route matches URL "'+n+'"'):t===405&&(o="Method Not Allowed",i&&n&&r?s="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(s='Invalid request method "'+i.toUpperCase()+'"')),new ef(t||500,o,new Error(s),!0)}function Q0(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(rs(n))return n}}function tC(t){let e=typeof t=="string"?Fr(t):t;return cr(Ae({},e,{hash:""}))}function $P(t,e){return t.pathname===e.pathname&&t.search===e.search&&t.hash!==e.hash}function Yi(t){return t.type===It.deferred}function Na(t){return t.type===It.error}function rs(t){return(t&&t.type)===It.redirect}function FP(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function UP(t){return TP.has(t)}function Gi(t){return CP.has(t)}async function Y0(t,e,n,r,i,o){for(let s=0;s<n.length;s++){let a=n[s],l=e[s],u=t.find(f=>f.route.id===l.route.id),d=u!=null&&!ZI(u,l)&&(o&&o[l.route.id])!==void 0;Yi(a)&&(i||d)&&await nC(a,r,i).then(f=>{f&&(n[s]=f||n[s])})}}async function nC(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:It.data,data:t.deferredData.unwrappedData}}catch(i){return{type:It.error,error:i}}return{type:It.data,data:t.deferredData.data}}}function rC(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function X0(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function J0(t,e){let n=typeof e=="string"?Fr(e).search:e.search;if(t[t.length-1].route.index&&rC(n||""))return t[t.length-1];let r=Zd(t);return r[r.length-1]}/**
 * React Router v6.6.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gc(){return Gc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gc.apply(this,arguments)}function BP(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}const VP=typeof Object.is=="function"?Object.is:BP,{useState:jP,useEffect:zP,useLayoutEffect:WP,useDebugValue:HP}=Mp;function GP(t,e,n){const r=e(),[{inst:i},o]=jP({inst:{value:r,getSnapshot:e}});return WP(()=>{i.value=r,i.getSnapshot=e,Hh(i)&&o({inst:i})},[t,r,e]),zP(()=>(Hh(i)&&o({inst:i}),t(()=>{Hh(i)&&o({inst:i})})),[t]),HP(r),r}function Hh(t){const e=t.getSnapshot,n=t.value;try{const r=e();return!VP(n,r)}catch{return!0}}function qP(t,e,n){return e()}const KP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",QP=!KP,YP=QP?qP:GP,XP="useSyncExternalStore"in Mp?(t=>t.useSyncExternalStore)(Mp):YP,JP=I.createContext(null),iC=I.createContext(null),tf=I.createContext(null),nf=I.createContext(null),rf=I.createContext(null),Os=I.createContext({outlet:null,matches:[]}),oC=I.createContext(null);function ZP(t,e){let{relative:n}=e===void 0?{}:e;Ls()||de(!1);let{basename:r,navigator:i}=I.useContext(nf),{hash:o,pathname:s,search:a}=sC(t,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:Tr([r,s])),i.createHref({pathname:l,search:a,hash:o})}function Ls(){return I.useContext(rf)!=null}function of(){return Ls()||de(!1),I.useContext(rf).location}function Iv(){Ls()||de(!1);let{basename:t,navigator:e}=I.useContext(nf),{matches:n}=I.useContext(Os),{pathname:r}=of(),i=JSON.stringify(Zd(n).map(a=>a.pathnameBase)),o=I.useRef(!1);return I.useEffect(()=>{o.current=!0}),I.useCallback(function(a,l){if(l===void 0&&(l={}),!o.current)return;if(typeof a=="number"){e.go(a);return}let u=Ev(a,JSON.parse(i),r,l.relative==="path");t!=="/"&&(u.pathname=u.pathname==="/"?t:Tr([t,u.pathname])),(l.replace?e.replace:e.push)(u,l.state,l)},[t,e,i,r])}function sC(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=I.useContext(Os),{pathname:i}=of(),o=JSON.stringify(Zd(r).map(s=>s.pathnameBase));return I.useMemo(()=>Ev(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function eN(t,e){Ls()||de(!1);let{navigator:n}=I.useContext(nf),r=I.useContext(tf),{matches:i}=I.useContext(Os),o=i[i.length-1],s=o?o.params:{};o&&o.pathname;let a=o?o.pathnameBase:"/";o&&o.route;let l=of(),u;if(e){var d;let v=typeof e=="string"?Fr(e):e;a==="/"||(d=v.pathname)!=null&&d.startsWith(a)||de(!1),u=v}else u=l;let f=u.pathname||"/",c=a==="/"?f:f.slice(a.length)||"/",h=va(t,{pathname:c}),p=iN(h&&h.map(v=>Object.assign({},v,{params:Object.assign({},s,v.params),pathname:Tr([a,n.encodeLocation?n.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?a:Tr([a,n.encodeLocation?n.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,r||void 0);return e&&p?I.createElement(rf.Provider,{value:{location:Gc({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Je.Pop}},p):p}function tN(){let t=lN(),e=XI(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r};return I.createElement(I.Fragment,null,I.createElement("h2",null,"Unhandled Thrown Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),n?I.createElement("pre",{style:i},n):null,I.createElement("p",null,"💿 Hey developer 👋"),I.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",I.createElement("code",{style:o},"errorElement")," props on ",I.createElement("code",{style:o},"<Route>")))}class nN extends I.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location?{error:e.error,location:e.location}:{error:e.error||n.error,location:n.location}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?I.createElement(Os.Provider,{value:this.props.routeContext},I.createElement(oC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function rN(t){let{routeContext:e,match:n,children:r}=t,i=I.useContext(JP);return i&&n.route.errorElement&&(i._deepestRenderedBoundaryId=n.route.id),I.createElement(Os.Provider,{value:e},r)}function iN(t,e,n){if(e===void 0&&(e=[]),t==null)if(n!=null&&n.errors)t=n.matches;else return null;let r=t,i=n==null?void 0:n.errors;if(i!=null){let o=r.findIndex(s=>s.route.id&&(i==null?void 0:i[s.route.id]));o>=0||de(!1),r=r.slice(0,Math.min(r.length,o+1))}return r.reduceRight((o,s,a)=>{let l=s.route.id?i==null?void 0:i[s.route.id]:null,u=n?s.route.errorElement||I.createElement(tN,null):null,d=e.concat(r.slice(0,a+1)),f=()=>I.createElement(rN,{match:s,routeContext:{outlet:o,matches:d}},l?u:s.route.element!==void 0?s.route.element:o);return n&&(s.route.errorElement||a===0)?I.createElement(nN,{location:n.location,component:u,error:l,children:f(),routeContext:{outlet:null,matches:d}}):f()},null)}var Z0;(function(t){t.UseRevalidator="useRevalidator"})(Z0||(Z0={}));var qc;(function(t){t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator"})(qc||(qc={}));function oN(t){let e=I.useContext(tf);return e||de(!1),e}function sN(t){let e=I.useContext(Os);return e||de(!1),e}function aN(t){let e=sN(),n=e.matches[e.matches.length-1];return n.route.id||de(!1),n.route.id}function lN(){var t;let e=I.useContext(oC),n=oN(qc.UseRouteError),r=aN(qc.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function uN(t){let{fallbackElement:e,router:n}=t,r=XP(n.subscribe,()=>n.state,()=>n.state),i=I.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:s=>n.navigate(s),push:(s,a,l)=>n.navigate(s,{state:a,preventScrollReset:l==null?void 0:l.preventScrollReset}),replace:(s,a,l)=>n.navigate(s,{replace:!0,state:a,preventScrollReset:l==null?void 0:l.preventScrollReset})}),[n]),o=n.basename||"/";return I.createElement(iC.Provider,{value:{router:n,navigator:i,static:!1,basename:o}},I.createElement(tf.Provider,{value:r},I.createElement(dN,{basename:n.basename,location:n.state.location,navigationType:n.state.historyAction,navigator:i},n.state.initialized?I.createElement(fN,null):e)))}function aC(t){let{to:e,replace:n,state:r,relative:i}=t;Ls()||de(!1);let o=I.useContext(tf),s=Iv();return I.useEffect(()=>{o&&o.navigation.state!=="idle"||s(e,{replace:n,state:r,relative:i})}),null}function cN(t){de(!1)}function dN(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Je.Pop,navigator:o,static:s=!1}=t;Ls()&&de(!1);let a=e.replace(/^\/*/,"/"),l=I.useMemo(()=>({basename:a,navigator:o,static:s}),[a,o,s]);typeof r=="string"&&(r=Fr(r));let{pathname:u="/",search:d="",hash:f="",state:c=null,key:h="default"}=r,p=I.useMemo(()=>{let v=YI(u,a);return v==null?null:{pathname:v,search:d,hash:f,state:c,key:h}},[a,u,d,f,c,h]);return p==null?null:I.createElement(nf.Provider,{value:l},I.createElement(rf.Provider,{children:n,value:{location:p,navigationType:i}}))}function fN(t){let{children:e,location:n}=t,r=I.useContext(iC),i=r&&!e?r.router.routes:Ag(e);return eN(i,n)}var eb;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(eb||(eb={}));new Promise(()=>{});function Ag(t,e){e===void 0&&(e=[]);let n=[];return I.Children.forEach(t,(r,i)=>{if(!I.isValidElement(r))return;if(r.type===I.Fragment){n.push.apply(n,Ag(r.props.children,e));return}r.type!==cN&&de(!1),!r.props.index||!r.props.children||de(!1);let o=[...e,i],s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,hasErrorBoundary:r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle};r.props.children&&(s.children=Ag(r.props.children,o)),n.push(s)}),n}function lC(t){return t.map(e=>{let n=Gc({},e);return n.hasErrorBoundary==null&&(n.hasErrorBoundary=n.errorElement!=null),n.children&&(n.children=lC(n.children)),n})}/**
 * React Router DOM v6.6.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Kc(){return Kc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kc.apply(this,arguments)}function hN(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function pN(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function gN(t,e){return t.button===0&&(!e||e==="_self")&&!pN(t)}const mN=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function vN(t,e){return PP({basename:e==null?void 0:e.basename,history:JA({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||yN(),routes:lC(t)}).initialize()}function yN(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Kc({},e,{errors:wN(e.errors)})),e}function wN(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new ef(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){let o=new Error(i.message);o.stack="",n[r]=o}else n[r]=i;return n}const bN=I.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:a,target:l,to:u,preventScrollReset:d}=e,f=hN(e,mN),c=ZP(u,{relative:i}),h=SN(u,{replace:s,state:a,target:l,preventScrollReset:d,relative:i});function p(v){r&&r(v),v.defaultPrevented||h(v)}return I.createElement("a",Kc({},f,{href:c,onClick:o?r:p,ref:n,target:l}))});var tb;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(tb||(tb={}));var nb;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(nb||(nb={}));function SN(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s}=e===void 0?{}:e,a=Iv(),l=of(),u=sC(t,{relative:s});return I.useCallback(d=>{if(gN(d,n)){d.preventDefault();let f=r!==void 0?r:cr(l)===cr(u);a(t,{replace:f,state:i,preventScrollReset:o,relative:s})}},[l,a,u,r,i,n,t,o,s])}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},EN=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},cC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,d=o>>2,f=(o&3)<<4|a>>4;let c=(a&15)<<2|u>>6,h=u&63;l||(h=64,s||(c=64)),r.push(n[d],n[f],n[c],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(uC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):EN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||f==null)throw Error();const c=o<<2|a>>4;if(r.push(c),u!==64){const h=a<<4&240|u>>2;if(r.push(h),f!==64){const p=u<<6&192|f;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},IN=function(t){const e=uC(t);return cC.encodeByteArray(e,!0)},Qc=function(t){return IN(t).replace(/\./g,"")},dC=function(t){try{return cC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN=()=>CN().__FIREBASE_DEFAULTS__,TN=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},DN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&dC(t[1]);return e&&JSON.parse(e)},sf=()=>{try{return xN()||TN()||DN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},fC=t=>{var e,n;return(n=(e=sf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},hC=t=>{const e=fC(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},kN=()=>{var t;return(t=sf())===null||t===void 0?void 0:t.config},pC=t=>{var e;return(e=sf())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Qc(JSON.stringify(n)),Qc(JSON.stringify(s)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function RN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Vt())}function AN(){var t;const e=(t=sf())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function PN(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function NN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ON(){const t=Vt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function LN(){try{return typeof indexedDB=="object"}catch{return!1}}function MN(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N="FirebaseError";class hr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=$N,Object.setPrototypeOf(this,hr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bl.prototype.create)}}class Bl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?FN(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new hr(i,a,r)}}function FN(t,e){return t.replace(UN,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const UN=/\{\$([^}]+)}/g;function BN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Yc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(rb(o)&&rb(s)){if(!Yc(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function rb(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ya(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function wa(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function VN(t,e){const n=new jN(t,e);return n.subscribe.bind(n)}class jN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");zN(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Gh),i.error===void 0&&(i.error=Gh),i.complete===void 0&&(i.complete=Gh);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zN(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Gh(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nt(t){return t&&t._delegate?t._delegate:t}class yi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let WN=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new _N;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(GN(e))try{this.getOrInitializeService({instanceIdentifier:Vi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Vi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Vi){return this.instances.has(e)}getOptions(e=Vi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:HN(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Vi){return this.component?this.component.multipleInstances?e:Vi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function HN(t){return t===Vi?void 0:t}function GN(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new WN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ce;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ce||(Ce={}));const KN={debug:Ce.DEBUG,verbose:Ce.VERBOSE,info:Ce.INFO,warn:Ce.WARN,error:Ce.ERROR,silent:Ce.SILENT},QN=Ce.INFO,YN={[Ce.DEBUG]:"log",[Ce.VERBOSE]:"log",[Ce.INFO]:"info",[Ce.WARN]:"warn",[Ce.ERROR]:"error"},XN=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=YN[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Cv{constructor(e){this.name=e,this._logLevel=QN,this._logHandler=XN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?KN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ce.DEBUG,...e),this._logHandler(this,Ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ce.VERBOSE,...e),this._logHandler(this,Ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ce.INFO,...e),this._logHandler(this,Ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ce.WARN,...e),this._logHandler(this,Ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ce.ERROR,...e),this._logHandler(this,Ce.ERROR,...e)}}const JN=(t,e)=>e.some(n=>t instanceof n);let ib,ob;function ZN(){return ib||(ib=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function eO(){return ob||(ob=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const mC=new WeakMap,Pg=new WeakMap,vC=new WeakMap,qh=new WeakMap,xv=new WeakMap;function tO(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(li(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&mC.set(n,t)}).catch(()=>{}),xv.set(e,t),e}function nO(t){if(Pg.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Pg.set(t,e)}let Ng={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Pg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||vC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return li(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function rO(t){Ng=t(Ng)}function iO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Kh(this),e,...n);return vC.set(r,e.sort?e.sort():[e]),li(r)}:eO().includes(t)?function(...e){return t.apply(Kh(this),e),li(mC.get(this))}:function(...e){return li(t.apply(Kh(this),e))}}function oO(t){return typeof t=="function"?iO(t):(t instanceof IDBTransaction&&nO(t),JN(t,ZN())?new Proxy(t,Ng):t)}function li(t){if(t instanceof IDBRequest)return tO(t);if(qh.has(t))return qh.get(t);const e=oO(t);return e!==t&&(qh.set(t,e),xv.set(e,t)),e}const Kh=t=>xv.get(t);function sO(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=li(s);return r&&s.addEventListener("upgradeneeded",l=>{r(li(s.result),l.oldVersion,l.newVersion,li(s.transaction))}),n&&s.addEventListener("blocked",()=>n()),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const aO=["get","getKey","getAll","getAllKeys","count"],lO=["put","add","delete","clear"],Qh=new Map;function sb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Qh.get(e))return Qh.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=lO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||aO.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Qh.set(e,o),o}rO(t=>({...t,get:(e,n,r)=>sb(e,n)||t.get(e,n,r),has:(e,n)=>!!sb(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(cO(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function cO(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Og="@firebase/app",ab="0.9.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const po=new Cv("@firebase/app"),dO="@firebase/app-compat",fO="@firebase/analytics-compat",hO="@firebase/analytics",pO="@firebase/app-check-compat",gO="@firebase/app-check",mO="@firebase/auth",vO="@firebase/auth-compat",yO="@firebase/database",wO="@firebase/database-compat",bO="@firebase/functions",SO="@firebase/functions-compat",EO="@firebase/installations",IO="@firebase/installations-compat",CO="@firebase/messaging",xO="@firebase/messaging-compat",TO="@firebase/performance",DO="@firebase/performance-compat",kO="@firebase/remote-config",_O="@firebase/remote-config-compat",RO="@firebase/storage",AO="@firebase/storage-compat",PO="@firebase/firestore",NO="@firebase/firestore-compat",OO="firebase",LO="9.16.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lg="[DEFAULT]",MO={[Og]:"fire-core",[dO]:"fire-core-compat",[hO]:"fire-analytics",[fO]:"fire-analytics-compat",[gO]:"fire-app-check",[pO]:"fire-app-check-compat",[mO]:"fire-auth",[vO]:"fire-auth-compat",[yO]:"fire-rtdb",[wO]:"fire-rtdb-compat",[bO]:"fire-fn",[SO]:"fire-fn-compat",[EO]:"fire-iid",[IO]:"fire-iid-compat",[CO]:"fire-fcm",[xO]:"fire-fcm-compat",[TO]:"fire-perf",[DO]:"fire-perf-compat",[kO]:"fire-rc",[_O]:"fire-rc-compat",[RO]:"fire-gcs",[AO]:"fire-gcs-compat",[PO]:"fire-fst",[NO]:"fire-fst-compat","fire-js":"fire-js",[OO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xc=new Map,Mg=new Map;function $O(t,e){try{t.container.addComponent(e)}catch(n){po.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function go(t){const e=t.name;if(Mg.has(e))return po.debug(`There were multiple attempts to register component ${e}.`),!1;Mg.set(e,t);for(const n of Xc.values())$O(n,t);return!0}function af(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FO={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},ui=new Bl("app","Firebase",FO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new yi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ui.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms=LO;function yC(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Lg,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ui.create("bad-app-name",{appName:String(i)});if(n||(n=kN()),!n)throw ui.create("no-options");const o=Xc.get(i);if(o){if(Yc(n,o.options)&&Yc(r,o.config))return o;throw ui.create("duplicate-app",{appName:i})}const s=new qN(i);for(const l of Mg.values())s.addComponent(l);const a=new UO(n,r,s);return Xc.set(i,a),a}function Tv(t=Lg){const e=Xc.get(t);if(!e&&t===Lg)return yC();if(!e)throw ui.create("no-app",{appName:t});return e}function ir(t,e,n){var r;let i=(r=MO[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),po.warn(a.join(" "));return}go(new yi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BO="firebase-heartbeat-database",VO=1,ul="firebase-heartbeat-store";let Yh=null;function wC(){return Yh||(Yh=sO(BO,VO,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ul)}}}).catch(t=>{throw ui.create("idb-open",{originalErrorMessage:t.message})})),Yh}async function jO(t){try{return(await wC()).transaction(ul).objectStore(ul).get(bC(t))}catch(e){if(e instanceof hr)po.warn(e.message);else{const n=ui.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});po.warn(n.message)}}}async function lb(t,e){try{const r=(await wC()).transaction(ul,"readwrite");return await r.objectStore(ul).put(e,bC(t)),r.done}catch(n){if(n instanceof hr)po.warn(n.message);else{const r=ui.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});po.warn(r.message)}}}function bC(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zO=1024,WO=30*24*60*60*1e3;class HO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new qO(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=ub();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const o=new Date(i.date).valueOf();return Date.now()-o<=WO}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=ub(),{heartbeatsToSend:n,unsentEntries:r}=GO(this._heartbeatsCache.heartbeats),i=Qc(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function ub(){return new Date().toISOString().substring(0,10)}function GO(t,e=zO){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),cb(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),cb(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class qO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return LN()?MN().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await jO(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return lb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return lb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function cb(t){return Qc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KO(t){go(new yi("platform-logger",e=>new uO(e),"PRIVATE")),go(new yi("heartbeat",e=>new HO(e),"PRIVATE")),ir(Og,ab,t),ir(Og,ab,"esm2017"),ir("fire-js","")}KO("");function Dv(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function SC(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const QO=SC,EC=new Bl("auth","Firebase",SC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db=new Cv("@firebase/auth");function hc(t,...e){db.logLevel<=Ce.ERROR&&db.error(`Auth (${Ms}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qn(t,...e){throw kv(t,...e)}function or(t,...e){return kv(t,...e)}function YO(t,e,n){const r=Object.assign(Object.assign({},QO()),{[e]:n});return new Bl("auth","Firebase",r).create(e,{appName:t.name})}function kv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return EC.create(t,...e)}function ne(t,e,...n){if(!t)throw kv(e,...n)}function Er(t){const e="INTERNAL ASSERTION FAILED: "+t;throw hc(e),new Error(e)}function Ar(t,e){t||Er(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb=new Map;function Ir(t){Ar(t instanceof Function,"Expected a class definition");let e=fb.get(t);return e?(Ar(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,fb.set(t,e),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XO(t,e){const n=af(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(Yc(o,e??{}))return i;qn(i,"already-initialized")}return n.initialize({options:e})}function JO(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ir);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $g(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function ZO(){return hb()==="http:"||hb()==="https:"}function hb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ZO()||PN()||"connection"in navigator)?navigator.onLine:!0}function tL(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ar(n>e,"Short delay should be less than long delay!"),this.isMobile=RN()||NN()}get(){return eL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _v(t,e){Ar(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Er("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Er("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Er("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rL=new jl(3e4,6e4);function zl(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Wl(t,e,n,r,i={}){return CC(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=Vl(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),IC.fetch()(xC(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},o))})}async function CC(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},nL),e);try{const i=new iL(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw ju(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw ju(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw ju(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw ju(t,"user-disabled",s);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw YO(t,d,u);qn(t,d)}}catch(i){if(i instanceof hr)throw i;qn(t,"network-request-failed")}}async function Hl(t,e,n,r,i={}){const o=await Wl(t,e,n,r,i);return"mfaPendingCredential"in o&&qn(t,"multi-factor-auth-required",{_serverResponse:o}),o}function xC(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?_v(t.config,i):`${t.config.apiScheme}://${i}`}class iL{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(or(this.auth,"network-request-failed")),rL.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ju(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=or(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oL(t,e){return Wl(t,"POST","/v1/accounts:delete",e)}async function sL(t,e){return Wl(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oa(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function aL(t,e=!1){const n=nt(t),r=await n.getIdToken(e),i=Rv(r);ne(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Oa(Xh(i.auth_time)),issuedAtTime:Oa(Xh(i.iat)),expirationTime:Oa(Xh(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Xh(t){return Number(t)*1e3}function Rv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return hc("JWT malformed, contained fewer than 3 sections"),null;try{const i=dC(n);return i?JSON.parse(i):(hc("Failed to decode base64 JWT payload"),null)}catch(i){return hc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function lL(t){const e=Rv(t);return ne(e,"internal-error"),ne(typeof e.exp<"u","internal-error"),ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof hr&&uL(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function uL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Oa(this.lastLoginAt),this.creationTime=Oa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jc(t){var e;const n=t.auth,r=await t.getIdToken(),i=await cl(t,sL(n,{idToken:r}));ne(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?hL(o.providerUserInfo):[],a=fL(t.providerData,s),l=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),d=l?u:!1,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new TC(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function dL(t){const e=nt(t);await Jc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function fL(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function hL(t){return t.map(e=>{var{providerId:n}=e,r=Dv(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pL(t,e){const n=await CC(t,{},async()=>{const r=Vl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=xC(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",IC.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ne(e.idToken,"internal-error"),ne(typeof e.idToken<"u","internal-error"),ne(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):lL(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return ne(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await pL(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new dl;return r&&(ne(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(ne(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(ne(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new dl,this.toJSON())}_performRefresh(){return Er("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vr(t,e){ne(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ro{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Dv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new cL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new TC(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await cl(this,this.stsTokenManager.getToken(this.auth,e));return ne(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return aL(this,e)}reload(){return dL(this)}_assign(e){this!==e&&(ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new ro(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Jc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await cl(this,oL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,l,u,d;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,c=(i=n.email)!==null&&i!==void 0?i:void 0,h=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,p=(s=n.photoURL)!==null&&s!==void 0?s:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,b=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,m=(u=n.createdAt)!==null&&u!==void 0?u:void 0,g=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:y,emailVerified:w,isAnonymous:x,providerData:D,stsTokenManager:R}=n;ne(y&&R,e,"internal-error");const A=dl.fromJSON(this.name,R);ne(typeof y=="string",e,"internal-error"),Vr(f,e.name),Vr(c,e.name),ne(typeof w=="boolean",e,"internal-error"),ne(typeof x=="boolean",e,"internal-error"),Vr(h,e.name),Vr(p,e.name),Vr(v,e.name),Vr(b,e.name),Vr(m,e.name),Vr(g,e.name);const $=new ro({uid:y,auth:e,email:c,emailVerified:w,displayName:f,isAnonymous:x,photoURL:p,phoneNumber:h,tenantId:v,stsTokenManager:A,createdAt:m,lastLoginAt:g});return D&&Array.isArray(D)&&($.providerData=D.map(F=>Object.assign({},F))),b&&($._redirectEventId=b),$}static async _fromIdTokenResponse(e,n,r=!1){const i=new dl;i.updateFromServerResponse(n);const o=new ro({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Jc(o),o}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}DC.type="NONE";const pb=DC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pc(t,e,n){return`firebase:${t}:${e}:${n}`}class is{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=pc(this.userKey,i.apiKey,o),this.fullPersistenceKey=pc("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ro._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new is(Ir(pb),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||Ir(pb);const s=pc(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(s);if(d){const f=ro._fromJSON(e,d);u!==o&&(a=f),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new is(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(s)}catch{}})),new is(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gb(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(RC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(kC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(PC(e))return"Blackberry";if(NC(e))return"Webos";if(Av(e))return"Safari";if((e.includes("chrome/")||_C(e))&&!e.includes("edge/"))return"Chrome";if(AC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function kC(t=Vt()){return/firefox\//i.test(t)}function Av(t=Vt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _C(t=Vt()){return/crios\//i.test(t)}function RC(t=Vt()){return/iemobile/i.test(t)}function AC(t=Vt()){return/android/i.test(t)}function PC(t=Vt()){return/blackberry/i.test(t)}function NC(t=Vt()){return/webos/i.test(t)}function lf(t=Vt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function gL(t=Vt()){var e;return lf(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function mL(){return ON()&&document.documentMode===10}function OC(t=Vt()){return lf(t)||AC(t)||NC(t)||PC(t)||/windows phone/i.test(t)||RC(t)}function vL(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LC(t,e=[]){let n;switch(t){case"Browser":n=gb(Vt());break;case"Worker":n=`${gb(Vt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ms}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{constructor(e,n,r){this.app=e,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mb(this),this.idTokenSubscription=new mb(this),this.beforeStateQueue=new yL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=EC,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ir(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await is.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Jc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=tL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?nt(e):null;return n&&ne(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Ir(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Bl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ir(e)||this._popupRedirectResolver;ne(n,this,"argument-error"),this.redirectPersistenceManager=await is.create(this,[Ir(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n),s=this._isInitialized?Promise.resolve():this._initializationPromise;return ne(s,this,"internal-error"),s.then(()=>o(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=LC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());return r&&(n["X-Firebase-Client"]=r),n}}function Gl(t){return nt(t)}class mb{constructor(e){this.auth=e,this.observer=null,this.addObserver=VN(n=>this.observer=n)}get next(){return ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function bL(t,e,n){const r=Gl(t);ne(r._canInitEmulator,r,"emulator-config-failed"),ne(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),o=MC(e),{host:s,port:a}=SL(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||EL()}function MC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function SL(t){const e=MC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:vb(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:vb(s)}}}function vb(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function EL(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Er("not implemented")}_getIdTokenResponse(e){return Er("not implemented")}_linkToIdToken(e,n){return Er("not implemented")}_getReauthenticationResolver(e){return Er("not implemented")}}async function IL(t,e){return Wl(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CL(t,e){return Hl(t,"POST","/v1/accounts:signInWithPassword",zl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xL(t,e){return Hl(t,"POST","/v1/accounts:signInWithEmailLink",zl(t,e))}async function TL(t,e){return Hl(t,"POST","/v1/accounts:signInWithEmailLink",zl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl extends Pv{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new fl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new fl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return CL(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return xL(e,{email:this._email,oobCode:this._password});default:qn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return IL(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return TL(e,{idToken:n,email:this._email,oobCode:this._password});default:qn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function os(t,e){return Hl(t,"POST","/v1/accounts:signInWithIdp",zl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DL="http://localhost";class mo extends Pv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new mo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):qn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=Dv(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new mo(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return os(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,os(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,os(e,n)}buildRequest(){const e={requestUri:DL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Vl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kL(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function _L(t){const e=ya(wa(t)).link,n=e?ya(wa(e)).deep_link_id:null,r=ya(wa(t)).deep_link_id;return(r?ya(wa(r)).link:null)||r||n||e||t}class Nv{constructor(e){var n,r,i,o,s,a;const l=ya(wa(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,f=kL((i=l.mode)!==null&&i!==void 0?i:null);ne(u&&d&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=d,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=l.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=_L(e);try{return new Nv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(){this.providerId=$s.PROVIDER_ID}static credential(e,n){return fl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Nv.parseLink(n);return ne(r,"argument-error"),fl._fromEmailAndCode(e,r.code,r.tenantId)}}$s.PROVIDER_ID="password";$s.EMAIL_PASSWORD_SIGN_IN_METHOD="password";$s.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql extends $C{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr extends ql{constructor(){super("facebook.com")}static credential(e){return mo._fromParams({providerId:Gr.PROVIDER_ID,signInMethod:Gr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gr.credentialFromTaggedObject(e)}static credentialFromError(e){return Gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gr.credential(e.oauthAccessToken)}catch{return null}}}Gr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Gr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr extends ql{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return mo._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return qr.credentialFromTaggedObject(e)}static credentialFromError(e){return qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return qr.credential(n,r)}catch{return null}}}qr.GOOGLE_SIGN_IN_METHOD="google.com";qr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr extends ql{constructor(){super("github.com")}static credential(e){return mo._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Kr.credentialFromTaggedObject(e)}static credentialFromError(e){return Kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Kr.credential(e.oauthAccessToken)}catch{return null}}}Kr.GITHUB_SIGN_IN_METHOD="github.com";Kr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr extends ql{constructor(){super("twitter.com")}static credential(e,n){return mo._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Qr.credentialFromTaggedObject(e)}static credentialFromError(e){return Qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Qr.credential(n,r)}catch{return null}}}Qr.TWITTER_SIGN_IN_METHOD="twitter.com";Qr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RL(t,e){return Hl(t,"POST","/v1/accounts:signUp",zl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await ro._fromIdTokenResponse(e,r,i),s=yb(r);return new vo({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=yb(r);return new vo({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function yb(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc extends hr{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Zc.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Zc(e,n,r,i)}}function FC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Zc._fromErrorAndOperation(t,o,e,r):o})}async function AL(t,e,n=!1){const r=await cl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return vo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PL(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const o=await cl(t,FC(r,i,e,t),n);ne(o.idToken,r,"internal-error");const s=Rv(o.idToken);ne(s,r,"internal-error");const{sub:a}=s;return ne(t.uid===a,r,"user-mismatch"),vo._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&qn(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UC(t,e,n=!1){const r="signIn",i=await FC(t,r,e),o=await vo._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function NL(t,e){return UC(Gl(t),e)}async function OL(t,e,n){const r=Gl(t),i=await RL(r,{returnSecureToken:!0,email:e,password:n}),o=await vo._fromIdTokenResponse(r,"signIn",i);return await r._updateCurrentUser(o.user),o}function LL(t,e,n){return NL(nt(t),$s.credential(e,n))}function ML(t,e,n,r){return nt(t).onIdTokenChanged(e,n,r)}function $L(t,e,n){return nt(t).beforeAuthStateChanged(e,n)}function FL(t,e,n,r){return nt(t).onAuthStateChanged(e,n,r)}function UL(t){return nt(t).signOut()}const ed="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ed,"1"),this.storage.removeItem(ed),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BL(){const t=Vt();return Av(t)||lf(t)}const VL=1e3,jL=10;class VC extends BC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=BL()&&vL(),this.fallbackToPolling=OC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const s=this.storage.getItem(r);if(e.newValue!==s)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);mL()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,jL):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},VL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}VC.type="LOCAL";const zL=VC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC extends BC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}jC.type="SESSION";const zC=jC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WL(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new uf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async u=>u(n.origin,o)),l=await WL(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}uf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ov(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const u=Ov("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(f){const c=f;if(c.data.eventId===u)switch(c.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(c.data.response);break;default:clearTimeout(d),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sr(){return window}function GL(t){sr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WC(){return typeof sr().WorkerGlobalScope<"u"&&typeof sr().importScripts=="function"}async function qL(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function KL(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function QL(){return WC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC="firebaseLocalStorageDb",YL=1,td="firebaseLocalStorage",GC="fbase_key";class Kl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function cf(t,e){return t.transaction([td],e?"readwrite":"readonly").objectStore(td)}function XL(){const t=indexedDB.deleteDatabase(HC);return new Kl(t).toPromise()}function Fg(){const t=indexedDB.open(HC,YL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(td,{keyPath:GC})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(td)?e(r):(r.close(),await XL(),e(await Fg()))})})}async function wb(t,e,n){const r=cf(t,!0).put({[GC]:e,value:n});return new Kl(r).toPromise()}async function JL(t,e){const n=cf(t,!1).get(e),r=await new Kl(n).toPromise();return r===void 0?null:r.value}function bb(t,e){const n=cf(t,!0).delete(e);return new Kl(n).toPromise()}const ZL=800,eM=3;class qC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Fg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>eM)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return WC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=uf._getInstance(QL()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await qL(),!this.activeServiceWorker)return;this.sender=new HL(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||KL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Fg();return await wb(e,ed,"1"),await bb(e,ed),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>wb(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>JL(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>bb(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=cf(i,!1).getAll();return new Kl(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ZL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}qC.type="LOCAL";const tM=qC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nM(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function rM(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=or("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",nM().appendChild(r)})}function iM(t){return`__${t}${Math.floor(Math.random()*1e6)}`}new jl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oM(t,e){return e?Ir(e):(ne(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv extends Pv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return os(e,this._buildIdpRequest())}_linkToIdToken(e,n){return os(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return os(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function sM(t){return UC(t.auth,new Lv(t),t.bypassAuthState)}function aM(t){const{auth:e,user:n}=t;return ne(n,e,"internal-error"),PL(n,new Lv(t),t.bypassAuthState)}async function lM(t){const{auth:e,user:n}=t;return ne(n,e,"internal-error"),AL(n,new Lv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return sM;case"linkViaPopup":case"linkViaRedirect":return lM;case"reauthViaPopup":case"reauthViaRedirect":return aM;default:qn(this.auth,"internal-error")}}resolve(e){Ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uM=new jl(2e3,1e4);class Ko extends KC{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Ko.currentPopupAction&&Ko.currentPopupAction.cancel(),Ko.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ne(e,this.auth,"internal-error"),e}async onExecution(){Ar(this.filter.length===1,"Popup operations only handle one event");const e=Ov();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(or(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(or(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ko.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(or(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,uM.get())};e()}}Ko.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cM="pendingRedirect",gc=new Map;class dM extends KC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=gc.get(this.auth._key());if(!e){try{const r=await fM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}gc.set(this.auth._key(),e)}return this.bypassAuthState||gc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function fM(t,e){const n=gM(e),r=pM(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function hM(t,e){gc.set(t._key(),e)}function pM(t){return Ir(t._redirectPersistence)}function gM(t){return pc(cM,t.config.apiKey,t.name)}async function mM(t,e,n=!1){const r=Gl(t),i=oM(r,e),s=await new dM(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vM=10*60*1e3;class yM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!wM(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!QC(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(or(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=vM&&this.cachedEventUids.clear(),this.cachedEventUids.has(Sb(e))}saveEventToCache(e){this.cachedEventUids.add(Sb(e)),this.lastProcessedEventTime=Date.now()}}function Sb(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function QC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function wM(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return QC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bM(t,e={}){return Wl(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,EM=/^https?/;async function IM(t){if(t.config.emulator)return;const{authorizedDomains:e}=await bM(t);for(const n of e)try{if(CM(n))return}catch{}qn(t,"unauthorized-domain")}function CM(t){const e=$g(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!EM.test(n))return!1;if(SM.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xM=new jl(3e4,6e4);function Eb(){const t=sr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function TM(t){return new Promise((e,n)=>{var r,i,o;function s(){Eb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Eb(),n(or(t,"network-request-failed"))},timeout:xM.get()})}if(!((i=(r=sr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=sr().gapi)===null||o===void 0)&&o.load)s();else{const a=iM("iframefcb");return sr()[a]=()=>{gapi.load?s():n(or(t,"network-request-failed"))},rM(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw mc=null,e})}let mc=null;function DM(t){return mc=mc||TM(t),mc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kM=new jl(5e3,15e3),_M="__/auth/iframe",RM="emulator/auth/iframe",AM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},PM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function NM(t){const e=t.config;ne(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?_v(e,RM):`https://${t.config.authDomain}/${_M}`,r={apiKey:e.apiKey,appName:t.name,v:Ms},i=PM.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Vl(r).slice(1)}`}async function OM(t){const e=await DM(t),n=sr().gapi;return ne(n,t,"internal-error"),e.open({where:document.body,url:NM(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:AM,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=or(t,"network-request-failed"),a=sr().setTimeout(()=>{o(s)},kM.get());function l(){sr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},MM=500,$M=600,FM="_blank",UM="http://localhost";class Ib{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function BM(t,e,n,r=MM,i=$M){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},LM),{width:r.toString(),height:i.toString(),top:o,left:s}),u=Vt().toLowerCase();n&&(a=_C(u)?FM:n),kC(u)&&(e=e||UM,l.scrollbars="yes");const d=Object.entries(l).reduce((c,[h,p])=>`${c}${h}=${p},`,"");if(gL(u)&&a!=="_self")return VM(e||"",a),new Ib(null);const f=window.open(e||"",a,d);ne(f,t,"popup-blocked");try{f.focus()}catch{}return new Ib(f)}function VM(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jM="__/auth/handler",zM="emulator/auth/handler";function Cb(t,e,n,r,i,o){ne(t.config.authDomain,t,"auth-domain-config-required"),ne(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ms,eventId:i};if(e instanceof $C){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",BN(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,u]of Object.entries(o||{}))s[l]=u}if(e instanceof ql){const l=e.getScopes().filter(u=>u!=="");l.length>0&&(s.scopes=l.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const l of Object.keys(a))a[l]===void 0&&delete a[l];return`${WM(t)}?${Vl(a).slice(1)}`}function WM({config:t}){return t.emulator?_v(t,zM):`https://${t.authDomain}/${jM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jh="webStorageSupport";class HM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zC,this._completeRedirectFn=mM,this._overrideRedirectResult=hM}async _openPopup(e,n,r,i){var o;Ar((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=Cb(e,n,r,$g(),i);return BM(e,s,Ov())}async _openRedirect(e,n,r,i){return await this._originValidation(e),GL(Cb(e,n,r,$g(),i)),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Ar(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await OM(e),r=new yM(e);return n.register("authEvent",i=>(ne(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Jh,{type:Jh},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[Jh];s!==void 0&&n(!!s),qn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=IM(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return OC()||Av()||lf()}}const GM=HM;var xb="@firebase/auth",Tb="0.21.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KM(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function QM(t){go(new yi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:o,authDomain:s}=r.options;return((a,l)=>{ne(o&&!o.includes(":"),"invalid-api-key",{appName:a.name}),ne(!(s!=null&&s.includes(":")),"argument-error",{appName:a.name});const u={apiKey:o,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:LC(t)},d=new wL(a,l,u);return JO(d,n),d})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),go(new yi("auth-internal",e=>{const n=Gl(e.getProvider("auth").getImmediate());return(r=>new qM(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ir(xb,Tb,KM(t)),ir(xb,Tb,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YM=5*60,XM=pC("authIdTokenMaxAge")||YM;let Db=null;const JM=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>XM)return;const i=n==null?void 0:n.token;Db!==i&&(Db=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function ZM(t=Tv()){const e=af(t,"auth");if(e.isInitialized())return e.getImmediate();const n=XO(t,{popupRedirectResolver:GM,persistence:[tM,zL,zC]}),r=pC("authTokenSyncURL");if(r){const o=JM(r);$L(n,o,()=>o(n.currentUser)),ML(n,s=>o(s))}const i=fC("auth");return i&&bL(n,`http://${i}`),n}QM("Browser");var Ug={},e$={get exports(){return Ug},set exports(t){Ug=t}},YC={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ws=I;function t$(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var n$=typeof Object.is=="function"?Object.is:t$,r$=ws.useState,i$=ws.useEffect,o$=ws.useLayoutEffect,s$=ws.useDebugValue;function a$(t,e){var n=e(),r=r$({inst:{value:n,getSnapshot:e}}),i=r[0].inst,o=r[1];return o$(function(){i.value=n,i.getSnapshot=e,Zh(i)&&o({inst:i})},[t,n,e]),i$(function(){return Zh(i)&&o({inst:i}),t(function(){Zh(i)&&o({inst:i})})},[t]),s$(n),n}function Zh(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!n$(t,n)}catch{return!0}}function l$(t,e){return e()}var u$=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?l$:a$;YC.useSyncExternalStore=ws.useSyncExternalStore!==void 0?ws.useSyncExternalStore:u$;(function(t){t.exports=YC})(e$);var Bg={},c$={get exports(){return Bg},set exports(t){Bg=t}},XC={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var df=I,d$=Ug;function f$(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var h$=typeof Object.is=="function"?Object.is:f$,p$=d$.useSyncExternalStore,g$=df.useRef,m$=df.useEffect,v$=df.useMemo,y$=df.useDebugValue;XC.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var o=g$(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=v$(function(){function l(h){if(!u){if(u=!0,d=h,h=r(h),i!==void 0&&s.hasValue){var p=s.value;if(i(p,h))return f=p}return f=h}if(p=f,h$(d,h))return p;var v=r(h);return i!==void 0&&i(p,v)?p:(d=h,f=v)}var u=!1,d,f,c=n===void 0?null:n;return[function(){return l(e())},c===null?void 0:function(){return l(c())}]},[e,n,r,i]);var a=p$(t,o[0],o[1]);return m$(function(){s.hasValue=!0,s.value=a},[a]),y$(a),a};(function(t){t.exports=XC})(c$);function w$(t){t()}let JC=w$;const b$=t=>JC=t,S$=()=>JC,wi=I.createContext(null);function ZC(){return I.useContext(wi)}const E$=()=>{throw new Error("uSES not initialized!")};let ex=E$;const I$=t=>{ex=t},C$=(t,e)=>t===e;function x$(t=wi){const e=t===wi?ZC:()=>I.useContext(t);return function(r,i=C$){const{store:o,subscription:s,getServerState:a}=e(),l=ex(s.addNestedSub,o.getState,a||o.getState,r,i);return I.useDebugValue(l),l}}const T$=x$();function J(){return J=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},J.apply(this,arguments)}function nd(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Vg={},D$={get exports(){return Vg},set exports(t){Vg=t}},ke={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yt=typeof Symbol=="function"&&Symbol.for,Mv=yt?Symbol.for("react.element"):60103,$v=yt?Symbol.for("react.portal"):60106,ff=yt?Symbol.for("react.fragment"):60107,hf=yt?Symbol.for("react.strict_mode"):60108,pf=yt?Symbol.for("react.profiler"):60114,gf=yt?Symbol.for("react.provider"):60109,mf=yt?Symbol.for("react.context"):60110,Fv=yt?Symbol.for("react.async_mode"):60111,vf=yt?Symbol.for("react.concurrent_mode"):60111,yf=yt?Symbol.for("react.forward_ref"):60112,wf=yt?Symbol.for("react.suspense"):60113,k$=yt?Symbol.for("react.suspense_list"):60120,bf=yt?Symbol.for("react.memo"):60115,Sf=yt?Symbol.for("react.lazy"):60116,_$=yt?Symbol.for("react.block"):60121,R$=yt?Symbol.for("react.fundamental"):60117,A$=yt?Symbol.for("react.responder"):60118,P$=yt?Symbol.for("react.scope"):60119;function En(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Mv:switch(t=t.type,t){case Fv:case vf:case ff:case pf:case hf:case wf:return t;default:switch(t=t&&t.$$typeof,t){case mf:case yf:case Sf:case bf:case gf:return t;default:return e}}case $v:return e}}}function tx(t){return En(t)===vf}ke.AsyncMode=Fv;ke.ConcurrentMode=vf;ke.ContextConsumer=mf;ke.ContextProvider=gf;ke.Element=Mv;ke.ForwardRef=yf;ke.Fragment=ff;ke.Lazy=Sf;ke.Memo=bf;ke.Portal=$v;ke.Profiler=pf;ke.StrictMode=hf;ke.Suspense=wf;ke.isAsyncMode=function(t){return tx(t)||En(t)===Fv};ke.isConcurrentMode=tx;ke.isContextConsumer=function(t){return En(t)===mf};ke.isContextProvider=function(t){return En(t)===gf};ke.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Mv};ke.isForwardRef=function(t){return En(t)===yf};ke.isFragment=function(t){return En(t)===ff};ke.isLazy=function(t){return En(t)===Sf};ke.isMemo=function(t){return En(t)===bf};ke.isPortal=function(t){return En(t)===$v};ke.isProfiler=function(t){return En(t)===pf};ke.isStrictMode=function(t){return En(t)===hf};ke.isSuspense=function(t){return En(t)===wf};ke.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===ff||t===vf||t===pf||t===hf||t===wf||t===k$||typeof t=="object"&&t!==null&&(t.$$typeof===Sf||t.$$typeof===bf||t.$$typeof===gf||t.$$typeof===mf||t.$$typeof===yf||t.$$typeof===R$||t.$$typeof===A$||t.$$typeof===P$||t.$$typeof===_$)};ke.typeOf=En;(function(t){t.exports=ke})(D$);var Uv=Vg,N$={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},O$={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},L$={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},nx={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Bv={};Bv[Uv.ForwardRef]=L$;Bv[Uv.Memo]=nx;function kb(t){return Uv.isMemo(t)?nx:Bv[t.$$typeof]||N$}var M$=Object.defineProperty,$$=Object.getOwnPropertyNames,_b=Object.getOwnPropertySymbols,F$=Object.getOwnPropertyDescriptor,U$=Object.getPrototypeOf,Rb=Object.prototype;function rx(t,e,n){if(typeof e!="string"){if(Rb){var r=U$(e);r&&r!==Rb&&rx(t,r,n)}var i=$$(e);_b&&(i=i.concat(_b(e)));for(var o=kb(t),s=kb(e),a=0;a<i.length;++a){var l=i[a];if(!O$[l]&&!(n&&n[l])&&!(s&&s[l])&&!(o&&o[l])){var u=F$(e,l);try{M$(t,l,u)}catch{}}}}return t}var Ab=rx,Pb={},B$={get exports(){return Pb},set exports(t){Pb=t}},_e={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vv=Symbol.for("react.element"),jv=Symbol.for("react.portal"),Ef=Symbol.for("react.fragment"),If=Symbol.for("react.strict_mode"),Cf=Symbol.for("react.profiler"),xf=Symbol.for("react.provider"),Tf=Symbol.for("react.context"),V$=Symbol.for("react.server_context"),Df=Symbol.for("react.forward_ref"),kf=Symbol.for("react.suspense"),_f=Symbol.for("react.suspense_list"),Rf=Symbol.for("react.memo"),Af=Symbol.for("react.lazy"),j$=Symbol.for("react.offscreen"),ix;ix=Symbol.for("react.module.reference");function Nn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Vv:switch(t=t.type,t){case Ef:case Cf:case If:case kf:case _f:return t;default:switch(t=t&&t.$$typeof,t){case V$:case Tf:case Df:case Af:case Rf:case xf:return t;default:return e}}case jv:return e}}}_e.ContextConsumer=Tf;_e.ContextProvider=xf;_e.Element=Vv;_e.ForwardRef=Df;_e.Fragment=Ef;_e.Lazy=Af;_e.Memo=Rf;_e.Portal=jv;_e.Profiler=Cf;_e.StrictMode=If;_e.Suspense=kf;_e.SuspenseList=_f;_e.isAsyncMode=function(){return!1};_e.isConcurrentMode=function(){return!1};_e.isContextConsumer=function(t){return Nn(t)===Tf};_e.isContextProvider=function(t){return Nn(t)===xf};_e.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Vv};_e.isForwardRef=function(t){return Nn(t)===Df};_e.isFragment=function(t){return Nn(t)===Ef};_e.isLazy=function(t){return Nn(t)===Af};_e.isMemo=function(t){return Nn(t)===Rf};_e.isPortal=function(t){return Nn(t)===jv};_e.isProfiler=function(t){return Nn(t)===Cf};_e.isStrictMode=function(t){return Nn(t)===If};_e.isSuspense=function(t){return Nn(t)===kf};_e.isSuspenseList=function(t){return Nn(t)===_f};_e.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Ef||t===Cf||t===If||t===kf||t===_f||t===j$||typeof t=="object"&&t!==null&&(t.$$typeof===Af||t.$$typeof===Rf||t.$$typeof===xf||t.$$typeof===Tf||t.$$typeof===Df||t.$$typeof===ix||t.getModuleId!==void 0)};_e.typeOf=Nn;(function(t){t.exports=_e})(B$);function z$(){const t=S$();let e=null,n=null;return{clear(){e=null,n=null},notify(){t(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){let r=[],i=e;for(;i;)r.push(i),i=i.next;return r},subscribe(r){let i=!0,o=n={callback:r,next:null,prev:n};return o.prev?o.prev.next=o:e=o,function(){!i||e===null||(i=!1,o.next?o.next.prev=o.prev:n=o.prev,o.prev?o.prev.next=o.next:e=o.next)}}}}const Nb={notify(){},get:()=>[]};function W$(t,e){let n,r=Nb;function i(f){return l(),r.subscribe(f)}function o(){r.notify()}function s(){d.onStateChange&&d.onStateChange()}function a(){return Boolean(n)}function l(){n||(n=e?e.addNestedSub(s):t.subscribe(s),r=z$())}function u(){n&&(n(),n=void 0,r.clear(),r=Nb)}const d={addNestedSub:i,notifyNestedSubs:o,handleChangeWrapper:s,isSubscribed:a,trySubscribe:l,tryUnsubscribe:u,getListeners:()=>r};return d}const H$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",G$=H$?I.useLayoutEffect:I.useEffect;function q$({store:t,context:e,children:n,serverState:r}){const i=I.useMemo(()=>{const a=W$(t);return{store:t,subscription:a,getServerState:r?()=>r:void 0}},[t,r]),o=I.useMemo(()=>t.getState(),[t]);G$(()=>{const{subscription:a}=i;return a.onStateChange=a.notifyNestedSubs,a.trySubscribe(),o!==t.getState()&&a.notifyNestedSubs(),()=>{a.tryUnsubscribe(),a.onStateChange=void 0}},[i,o]);const s=e||wi;return pe.createElement(s.Provider,{value:i},n)}function ox(t=wi){const e=t===wi?ZC:()=>I.useContext(t);return function(){const{store:r}=e();return r}}const K$=ox();function Q$(t=wi){const e=t===wi?K$:ox(t);return function(){return e().dispatch}}const zv=Q$();I$(Bg.useSyncExternalStoreWithSelector);b$(ao.unstable_batchedUpdates);const Y$="/vite-todo-list/logo_lg.png",X$="/vite-todo-list/logo.png";function sx({isBig:t}){return P("div",{className:t?"":"h-full",children:P("img",{src:t?Y$:X$,alt:"Logo",className:"h-full"})})}const J$={member:{name:"",uid:"",isSign:!1,url:""},setMember:()=>{}},Ri=I.createContext(J$);function Z$({clickHandler:t}){return P("button",{className:"ml-5",type:"button",onClick:t,children:"登出"})}var eF="firebase",tF="9.16.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ir(eF,tF,"app");var nF=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},G,Wv=Wv||{},ie=nF||self;function rd(){}function Pf(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Ql(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function rF(t){return Object.prototype.hasOwnProperty.call(t,ep)&&t[ep]||(t[ep]=++iF)}var ep="closure_uid_"+(1e9*Math.random()>>>0),iF=0;function oF(t,e,n){return t.call.apply(t.bind,arguments)}function sF(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Ft(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ft=oF:Ft=sF,Ft.apply(null,arguments)}function zu(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function _t(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Wb=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function Ai(){this.s=this.s,this.o=this.o}var aF=0;Ai.prototype.s=!1;Ai.prototype.na=function(){!this.s&&(this.s=!0,this.M(),aF!=0)&&rF(this)};Ai.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ax=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Hv(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Ob(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Pf(r)){const i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function Ut(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Ut.prototype.h=function(){this.defaultPrevented=!0};var lF=function(){if(!ie.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ie.addEventListener("test",rd,e),ie.removeEventListener("test",rd,e)}catch{}return t}();function id(t){return/^[\s\xa0]*$/.test(t)}var Lb=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function tp(t,e){return t<e?-1:t>e?1:0}function Nf(){var t=ie.navigator;return t&&(t=t.userAgent)?t:""}function Zn(t){return Nf().indexOf(t)!=-1}function Gv(t){return Gv[" "](t),t}Gv[" "]=rd;function uF(t){var e=fF;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var cF=Zn("Opera"),bs=Zn("Trident")||Zn("MSIE"),lx=Zn("Edge"),jg=lx||bs,ux=Zn("Gecko")&&!(Nf().toLowerCase().indexOf("webkit")!=-1&&!Zn("Edge"))&&!(Zn("Trident")||Zn("MSIE"))&&!Zn("Edge"),dF=Nf().toLowerCase().indexOf("webkit")!=-1&&!Zn("Edge");function cx(){var t=ie.document;return t?t.documentMode:void 0}var od;e:{var np="",rp=function(){var t=Nf();if(ux)return/rv:([^\);]+)(\)|;)/.exec(t);if(lx)return/Edge\/([\d\.]+)/.exec(t);if(bs)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(dF)return/WebKit\/(\S+)/.exec(t);if(cF)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(rp&&(np=rp?rp[1]:""),bs){var ip=cx();if(ip!=null&&ip>parseFloat(np)){od=String(ip);break e}}od=np}var fF={};function hF(){return uF(function(){let t=0;const e=Lb(String(od)).split("."),n=Lb("9").split("."),r=Math.max(e.length,n.length);for(let s=0;t==0&&s<r;s++){var i=e[s]||"",o=n[s]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],i[0].length==0&&o[0].length==0)break;t=tp(i[1].length==0?0:parseInt(i[1],10),o[1].length==0?0:parseInt(o[1],10))||tp(i[2].length==0,o[2].length==0)||tp(i[2],o[2]),i=i[3],o=o[3]}while(t==0)}return 0<=t})}var zg;if(ie.document&&bs){var Mb=cx();zg=Mb||parseInt(od,10)||void 0}else zg=void 0;var pF=zg;function hl(t,e){if(Ut.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(ux){e:{try{Gv(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:gF[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&hl.X.h.call(this)}}_t(hl,Ut);var gF={2:"touch",3:"pen",4:"mouse"};hl.prototype.h=function(){hl.X.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Yl="closure_listenable_"+(1e6*Math.random()|0),mF=0;function vF(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ha=i,this.key=++mF,this.ba=this.ea=!1}function Of(t){t.ba=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function qv(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function dx(t){const e={};for(const n in t)e[n]=t[n];return e}const $b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function fx(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let o=0;o<$b.length;o++)n=$b[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Lf(t){this.src=t,this.g={},this.h=0}Lf.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var s=Hg(t,e,r,i);return-1<s?(e=t[s],n||(e.ea=!1)):(e=new vF(e,this.src,o,!!r,i),e.ea=n,t.push(e)),e};function Wg(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=ax(r,e),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(Of(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Hg(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ba&&o.listener==e&&o.capture==!!n&&o.ha==r)return i}return-1}var Kv="closure_lm_"+(1e6*Math.random()|0),op={};function hx(t,e,n,r,i){if(r&&r.once)return gx(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)hx(t,e[o],n,r,i);return null}return n=Xv(n),t&&t[Yl]?t.N(e,n,Ql(r)?!!r.capture:!!r,i):px(t,e,n,!1,r,i)}function px(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Ql(i)?!!i.capture:!!i,a=Yv(t);if(a||(t[Kv]=a=new Lf(t)),n=a.add(e,n,r,s,o),n.proxy)return n;if(r=yF(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)lF||(i=s),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(vx(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function yF(){function t(n){return e.call(t.src,t.listener,n)}const e=wF;return t}function gx(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)gx(t,e[o],n,r,i);return null}return n=Xv(n),t&&t[Yl]?t.O(e,n,Ql(r)?!!r.capture:!!r,i):px(t,e,n,!0,r,i)}function mx(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)mx(t,e[o],n,r,i);else r=Ql(r)?!!r.capture:!!r,n=Xv(n),t&&t[Yl]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=Hg(o,n,r,i),-1<n&&(Of(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=Yv(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Hg(e,n,r,i)),(n=-1<t?e[t]:null)&&Qv(n))}function Qv(t){if(typeof t!="number"&&t&&!t.ba){var e=t.src;if(e&&e[Yl])Wg(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(vx(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Yv(e))?(Wg(n,t),n.h==0&&(n.src=null,e[Kv]=null)):Of(t)}}}function vx(t){return t in op?op[t]:op[t]="on"+t}function wF(t,e){if(t.ba)t=!0;else{e=new hl(e,this);var n=t.listener,r=t.ha||t.src;t.ea&&Qv(t),t=n.call(r,e)}return t}function Yv(t){return t=t[Kv],t instanceof Lf?t:null}var sp="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xv(t){return typeof t=="function"?t:(t[sp]||(t[sp]=function(e){return t.handleEvent(e)}),t[sp])}function gt(){Ai.call(this),this.i=new Lf(this),this.P=this,this.I=null}_t(gt,Ai);gt.prototype[Yl]=!0;gt.prototype.removeEventListener=function(t,e,n,r){mx(this,t,e,n,r)};function Dt(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,typeof e=="string")e=new Ut(e,t);else if(e instanceof Ut)e.target=e.target||t;else{var i=e;e=new Ut(r,t),fx(e,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=Wu(s,r,!0,e)&&i}if(s=e.g=t,i=Wu(s,r,!0,e)&&i,i=Wu(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)s=e.g=n[o],i=Wu(s,r,!1,e)&&i}gt.prototype.M=function(){if(gt.X.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Of(n[r]);delete t.g[e],t.h--}}this.I=null};gt.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};gt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Wu(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.ba&&s.capture==n){var a=s.listener,l=s.ha||s.src;s.ea&&Wg(t.i,s),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var Jv=ie.JSON.stringify;function bF(){var t=bx;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class SF{constructor(){this.h=this.g=null}add(e,n){const r=yx.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var yx=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new EF,t=>t.reset());class EF{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function IF(t){ie.setTimeout(()=>{throw t},0)}function wx(t,e){Gg||CF(),qg||(Gg(),qg=!0),bx.add(t,e)}var Gg;function CF(){var t=ie.Promise.resolve(void 0);Gg=function(){t.then(xF)}}var qg=!1,bx=new SF;function xF(){for(var t;t=bF();){try{t.h.call(t.g)}catch(n){IF(n)}var e=yx;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}qg=!1}function Mf(t,e){gt.call(this),this.h=t||1,this.g=e||ie,this.j=Ft(this.lb,this),this.l=Date.now()}_t(Mf,gt);G=Mf.prototype;G.ca=!1;G.R=null;G.lb=function(){if(this.ca){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-t):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Dt(this,"tick"),this.ca&&(Zv(this),this.start()))}};G.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Zv(t){t.ca=!1,t.R&&(t.g.clearTimeout(t.R),t.R=null)}G.M=function(){Mf.X.M.call(this),Zv(this),delete this.g};function ey(t,e,n){if(typeof t=="function")n&&(t=Ft(t,n));else if(t&&typeof t.handleEvent=="function")t=Ft(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:ie.setTimeout(t,e||0)}function Sx(t){t.g=ey(()=>{t.g=null,t.i&&(t.i=!1,Sx(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class TF extends Ai{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Sx(this)}M(){super.M(),this.g&&(ie.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pl(t){Ai.call(this),this.h=t,this.g={}}_t(pl,Ai);var Fb=[];function Ex(t,e,n,r){Array.isArray(n)||(n&&(Fb[0]=n.toString()),n=Fb);for(var i=0;i<n.length;i++){var o=hx(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function Ix(t){qv(t.g,function(e,n){this.g.hasOwnProperty(n)&&Qv(e)},t),t.g={}}pl.prototype.M=function(){pl.X.M.call(this),Ix(this)};pl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function $f(){this.g=!0}$f.prototype.Aa=function(){this.g=!1};function DF(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var d=u[0];u=u[1];var f=d.split("_");s=2<=f.length&&f[1]=="type"?s+(d+"="+u+"&"):s+(d+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+s})}function kF(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+o+" "+s})}function Qo(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+RF(t,n)+(r?" "+r:"")})}function _F(t,e){t.info(function(){return"TIMEOUT: "+e})}$f.prototype.info=function(){};function RF(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<i.length;s++)i[s]=""}}}}return Jv(n)}catch{return e}}var To={},Ub=null;function Ff(){return Ub=Ub||new gt}To.Pa="serverreachability";function Cx(t){Ut.call(this,To.Pa,t)}_t(Cx,Ut);function gl(t){const e=Ff();Dt(e,new Cx(e))}To.STAT_EVENT="statevent";function xx(t,e){Ut.call(this,To.STAT_EVENT,t),this.stat=e}_t(xx,Ut);function Kt(t){const e=Ff();Dt(e,new xx(e,t))}To.Qa="timingevent";function Tx(t,e){Ut.call(this,To.Qa,t),this.size=e}_t(Tx,Ut);function Xl(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return ie.setTimeout(function(){t()},e)}var Uf={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Dx={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function ty(){}ty.prototype.h=null;function Bb(t){return t.h||(t.h=t.i())}function kx(){}var Jl={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function ny(){Ut.call(this,"d")}_t(ny,Ut);function ry(){Ut.call(this,"c")}_t(ry,Ut);var Kg;function Bf(){}_t(Bf,ty);Bf.prototype.g=function(){return new XMLHttpRequest};Bf.prototype.i=function(){return{}};Kg=new Bf;function Zl(t,e,n,r){this.l=t,this.j=e,this.m=n,this.U=r||1,this.S=new pl(this),this.O=AF,t=jg?125:void 0,this.T=new Mf(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new _x}function _x(){this.i=null,this.g="",this.h=!1}var AF=45e3,Qg={},sd={};G=Zl.prototype;G.setTimeout=function(t){this.O=t};function Yg(t,e,n){t.K=1,t.v=jf(Pr(e)),t.s=n,t.P=!0,Rx(t,null)}function Rx(t,e){t.F=Date.now(),eu(t),t.A=Pr(t.v);var n=t.A,r=t.U;Array.isArray(r)||(r=[String(r)]),Fx(n.i,"t",r),t.C=0,n=t.l.H,t.h=new _x,t.g=oT(t.l,n?e:null,!t.s),0<t.N&&(t.L=new TF(Ft(t.La,t,t.g),t.N)),Ex(t.S,t.g,"readystatechange",t.ib),e=t.H?dx(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.da(t.A,t.u,t.s,e)):(t.u="GET",t.g.da(t.A,t.u,null,e)),gl(),DF(t.j,t.u,t.A,t.m,t.U,t.s)}G.ib=function(t){t=t.target;const e=this.L;e&&Cr(t)==3?e.l():this.La(t)};G.La=function(t){try{if(t==this.g)e:{const d=Cr(this.g);var e=this.g.Ea();const f=this.g.aa();if(!(3>d)&&(d!=3||jg||this.g&&(this.h.h||this.g.fa()||Wb(this.g)))){this.I||d!=4||e==7||(e==8||0>=f?gl(3):gl(2)),Vf(this);var n=this.g.aa();this.Y=n;t:if(Ax(this)){var r=Wb(this.g);t="";var i=r.length,o=Cr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Xi(this),La(this);var s="";break t}this.h.i=new ie.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,s=this.h.g}else s=this.g.fa();if(this.i=n==200,kF(this.j,this.u,this.A,this.m,this.U,d,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!id(a)){var u=a;break t}}u=null}if(n=u)Qo(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Xg(this,n);else{this.i=!1,this.o=3,Kt(12),Xi(this),La(this);break e}}this.P?(Px(this,d,s),jg&&this.i&&d==3&&(Ex(this.S,this.T,"tick",this.hb),this.T.start())):(Qo(this.j,this.m,s,null),Xg(this,s)),d==4&&Xi(this),this.i&&!this.I&&(d==4?tT(this.l,this):(this.i=!1,eu(this)))}else n==400&&0<s.indexOf("Unknown SID")?(this.o=3,Kt(12)):(this.o=0,Kt(13)),Xi(this),La(this)}}}catch{}finally{}};function Ax(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Da:!1}function Px(t,e,n){let r=!0,i;for(;!t.I&&t.C<n.length;)if(i=PF(t,n),i==sd){e==4&&(t.o=4,Kt(14),r=!1),Qo(t.j,t.m,null,"[Incomplete Response]");break}else if(i==Qg){t.o=4,Kt(15),Qo(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Qo(t.j,t.m,i,null),Xg(t,i);Ax(t)&&i!=sd&&i!=Qg&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Kt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.$&&(t.$=!0,e=t.l,e.g==t&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),cy(e),e.K=!0,Kt(11))):(Qo(t.j,t.m,n,"[Invalid Chunked Response]"),Xi(t),La(t))}G.hb=function(){if(this.g){var t=Cr(this.g),e=this.g.fa();this.C<e.length&&(Vf(this),Px(this,t,e),this.i&&t!=4&&eu(this))}};function PF(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?sd:(n=Number(e.substring(n,r)),isNaN(n)?Qg:(r+=1,r+n>e.length?sd:(e=e.substr(r,n),t.C=r+n,e)))}G.cancel=function(){this.I=!0,Xi(this)};function eu(t){t.V=Date.now()+t.O,Nx(t,t.O)}function Nx(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Xl(Ft(t.gb,t),e)}function Vf(t){t.B&&(ie.clearTimeout(t.B),t.B=null)}G.gb=function(){this.B=null;const t=Date.now();0<=t-this.V?(_F(this.j,this.A),this.K!=2&&(gl(),Kt(17)),Xi(this),this.o=2,La(this)):Nx(this,this.V-t)};function La(t){t.l.G==0||t.I||tT(t.l,t)}function Xi(t){Vf(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,Zv(t.T),Ix(t.S),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Xg(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||Jg(n.h,t))){if(!t.J&&Jg(n.h,t)&&n.G==3){try{var r=n.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)ud(n),Hf(n);else break e;uy(n),Kt(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&n.A==0&&!n.v&&(n.v=Xl(Ft(n.cb,n),6e3));if(1>=Vx(n.h)&&n.ja){try{n.ja()}catch{}n.ja=void 0}}else Ji(n,11)}else if((t.J||n.g==t)&&ud(n),!id(e))for(i=n.Fa.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.T=u[0],u=u[1],n.G==2)if(u[0]=="c"){n.I=u[1],n.ka=u[2];const d=u[3];d!=null&&(n.ma=d,n.j.info("VER="+n.ma));const f=u[4];f!=null&&(n.Ca=f,n.j.info("SVER="+n.Ca));const c=u[5];c!=null&&typeof c=="number"&&0<c&&(r=1.5*c,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=t.g;if(h){const p=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var o=r.h;o.g||p.indexOf("spdy")==-1&&p.indexOf("quic")==-1&&p.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(iy(o,o.h),o.h=null))}if(r.D){const v=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;v&&(r.za=v,Be(r.F,r.D,v))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-t.F,n.j.info("Handshake RTT: "+n.P+"ms")),r=n;var s=t;if(r.sa=iT(r,r.H?r.ka:null,r.V),s.J){jx(r.h,s);var a=s,l=r.J;l&&a.setTimeout(l),a.B&&(Vf(a),eu(a)),r.g=s}else Zx(r);0<n.i.length&&Gf(n)}else u[0]!="stop"&&u[0]!="close"||Ji(n,7);else n.G==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Ji(n,7):ly(n):u[0]!="noop"&&n.l&&n.l.wa(u),n.A=0)}}gl(4)}catch{}}function NF(t){if(t.W&&typeof t.W=="function")return t.W();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Pf(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function OF(t){if(t.oa&&typeof t.oa=="function")return t.oa();if(!t.W||typeof t.W!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Pf(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function Ox(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Pf(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=OF(t),r=NF(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}var Lx=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function LF(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function io(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof io){this.h=e!==void 0?e:t.h,ad(this,t.j),this.s=t.s,this.g=t.g,ld(this,t.m),this.l=t.l,e=t.i;var n=new ml;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Vb(this,n),this.o=t.o}else t&&(n=String(t).match(Lx))?(this.h=!!e,ad(this,n[1]||"",!0),this.s=ba(n[2]||""),this.g=ba(n[3]||"",!0),ld(this,n[4]),this.l=ba(n[5]||"",!0),Vb(this,n[6]||"",!0),this.o=ba(n[7]||"")):(this.h=!!e,this.i=new ml(null,this.h))}io.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Sa(e,jb,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Sa(e,jb,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Sa(n,n.charAt(0)=="/"?FF:$F,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Sa(n,BF)),t.join("")};function Pr(t){return new io(t)}function ad(t,e,n){t.j=n?ba(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function ld(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Vb(t,e,n){e instanceof ml?(t.i=e,VF(t.i,t.h)):(n||(e=Sa(e,UF)),t.i=new ml(e,t.h))}function Be(t,e,n){t.i.set(e,n)}function jf(t){return Be(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function ba(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Sa(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,MF),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function MF(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var jb=/[#\/\?@]/g,$F=/[#\?:]/g,FF=/[#\?]/g,UF=/[#\?@]/g,BF=/#/g;function ml(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Pi(t){t.g||(t.g=new Map,t.h=0,t.i&&LF(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}G=ml.prototype;G.add=function(t,e){Pi(this),this.i=null,t=Fs(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function Mx(t,e){Pi(t),e=Fs(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function $x(t,e){return Pi(t),e=Fs(t,e),t.g.has(e)}G.forEach=function(t,e){Pi(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};G.oa=function(){Pi(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n};G.W=function(t){Pi(this);let e=[];if(typeof t=="string")$x(this,t)&&(e=e.concat(this.g.get(Fs(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};G.set=function(t,e){return Pi(this),this.i=null,t=Fs(this,t),$x(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};G.get=function(t,e){return t?(t=this.W(t),0<t.length?String(t[0]):e):e};function Fx(t,e,n){Mx(t,e),0<n.length&&(t.i=null,t.g.set(Fs(t,e),Hv(n)),t.h+=n.length)}G.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),s=this.W(r);for(r=0;r<s.length;r++){var i=o;s[r]!==""&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};function Fs(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function VF(t,e){e&&!t.j&&(Pi(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(Mx(this,r),Fx(this,i,n))},t)),t.j=e}var jF=class{constructor(e,n){this.h=e,this.g=n}};function Ux(t){this.l=t||zF,ie.PerformanceNavigationTiming?(t=ie.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(ie.g&&ie.g.Ga&&ie.g.Ga()&&ie.g.Ga().$b),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var zF=10;function Bx(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function Vx(t){return t.h?1:t.g?t.g.size:0}function Jg(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function iy(t,e){t.g?t.g.add(e):t.h=e}function jx(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}Ux.prototype.cancel=function(){if(this.i=zx(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function zx(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return Hv(t.i)}function oy(){}oy.prototype.stringify=function(t){return ie.JSON.stringify(t,void 0)};oy.prototype.parse=function(t){return ie.JSON.parse(t,void 0)};function WF(){this.g=new oy}function HF(t,e,n){const r=n||"";try{Ox(t,function(i,o){let s=i;Ql(i)&&(s=Jv(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function GF(t,e){const n=new $f;if(ie.Image){const r=new Image;r.onload=zu(Hu,n,r,"TestLoadImage: loaded",!0,e),r.onerror=zu(Hu,n,r,"TestLoadImage: error",!1,e),r.onabort=zu(Hu,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=zu(Hu,n,r,"TestLoadImage: timeout",!1,e),ie.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Hu(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function tu(t){this.l=t.ac||null,this.j=t.jb||!1}_t(tu,ty);tu.prototype.g=function(){return new zf(this.l,this.j)};tu.prototype.i=function(t){return function(){return t}}({});function zf(t,e){gt.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=sy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}_t(zf,gt);var sy=0;G=zf.prototype;G.open=function(t,e){if(this.readyState!=sy)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,vl(this)};G.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||ie).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))};G.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,nu(this)),this.readyState=sy};G.Wa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,vl(this)),this.g&&(this.readyState=3,vl(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof ie.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Wx(this)}else t.text().then(this.Va.bind(this),this.ga.bind(this))};function Wx(t){t.j.read().then(t.Ta.bind(t)).catch(t.ga.bind(t))}G.Ta=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?nu(this):vl(this),this.readyState==3&&Wx(this)}};G.Va=function(t){this.g&&(this.response=this.responseText=t,nu(this))};G.Ua=function(t){this.g&&(this.response=t,nu(this))};G.ga=function(){this.g&&nu(this)};function nu(t){t.readyState=4,t.l=null,t.j=null,t.A=null,vl(t)}G.setRequestHeader=function(t,e){this.v.append(t,e)};G.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};G.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function vl(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(zf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var qF=ie.JSON.parse;function Ge(t){gt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Hx,this.K=this.L=!1}_t(Ge,gt);var Hx="",KF=/^https?$/i,QF=["POST","PUT"];G=Ge.prototype;G.Ka=function(t){this.L=t};G.da=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Kg.g(),this.C=this.u?Bb(this.u):Bb(Kg),this.g.onreadystatechange=Ft(this.Ha,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(o){zb(this,o);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const o of r.keys())n.set(o,r.get(o));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),i=ie.FormData&&t instanceof ie.FormData,!(0<=ax(QF,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Kx(this),0<this.B&&((this.K=YF(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ft(this.qa,this)):this.A=ey(this.qa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){zb(this,o)}};function YF(t){return bs&&hF()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}G.qa=function(){typeof Wv<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Dt(this,"timeout"),this.abort(8))};function zb(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Gx(t),Wf(t)}function Gx(t){t.D||(t.D=!0,Dt(t,"complete"),Dt(t,"error"))}G.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Dt(this,"complete"),Dt(this,"abort"),Wf(this))};G.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Wf(this,!0)),Ge.X.M.call(this)};G.Ha=function(){this.s||(this.F||this.v||this.l?qx(this):this.fb())};G.fb=function(){qx(this)};function qx(t){if(t.h&&typeof Wv<"u"&&(!t.C[1]||Cr(t)!=4||t.aa()!=2)){if(t.v&&Cr(t)==4)ey(t.Ha,0,t);else if(Dt(t,"readystatechange"),Cr(t)==4){t.h=!1;try{const a=t.aa();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=a===0){var i=String(t.H).match(Lx)[1]||null;if(!i&&ie.self&&ie.self.location){var o=ie.self.location.protocol;i=o.substr(0,o.length-1)}r=!KF.test(i?i.toLowerCase():"")}n=r}if(n)Dt(t,"complete"),Dt(t,"success");else{t.m=6;try{var s=2<Cr(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.aa()+"]",Gx(t)}}finally{Wf(t)}}}}function Wf(t,e){if(t.g){Kx(t);const n=t.g,r=t.C[0]?rd:null;t.g=null,t.C=null,e||Dt(t,"ready");try{n.onreadystatechange=r}catch{}}}function Kx(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(ie.clearTimeout(t.A),t.A=null)}function Cr(t){return t.g?t.g.readyState:0}G.aa=function(){try{return 2<Cr(this)?this.g.status:-1}catch{return-1}};G.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}};G.Sa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),qF(e)}};function Wb(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case Hx:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}G.Ea=function(){return this.m};G.Oa=function(){return typeof this.j=="string"?this.j:String(this.j)};function Qx(t){let e="";return qv(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function ay(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Qx(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Be(t,e,n))}function sa(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Yx(t){this.Ca=0,this.i=[],this.j=new $f,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=sa("failFast",!1,t),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=sa("baseRetryDelayMs",5e3,t),this.bb=sa("retryDelaySeedMs",1e4,t),this.$a=sa("forwardChannelMaxRetries",2,t),this.ta=sa("forwardChannelRequestTimeoutMs",2e4,t),this.ra=t&&t.xmlHttpFactory||void 0,this.Da=t&&t.Zb||!1,this.J=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.I="",this.h=new Ux(t&&t.concurrentRequestLimit),this.Fa=new WF,this.O=t&&t.fastHandshake||!1,this.N=t&&t.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=t&&t.Xb||!1,t&&t.Aa&&this.j.Aa(),t&&t.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&t&&t.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}G=Yx.prototype;G.ma=8;G.G=1;function ly(t){if(Xx(t),t.G==3){var e=t.U++,n=Pr(t.F);Be(n,"SID",t.I),Be(n,"RID",e),Be(n,"TYPE","terminate"),ru(t,n),e=new Zl(t,t.j,e,void 0),e.K=2,e.v=jf(Pr(n)),n=!1,ie.navigator&&ie.navigator.sendBeacon&&(n=ie.navigator.sendBeacon(e.v.toString(),"")),!n&&ie.Image&&(new Image().src=e.v,n=!0),n||(e.g=oT(e.l,null),e.g.da(e.v)),e.F=Date.now(),eu(e)}rT(t)}function Hf(t){t.g&&(cy(t),t.g.cancel(),t.g=null)}function Xx(t){Hf(t),t.u&&(ie.clearTimeout(t.u),t.u=null),ud(t),t.h.cancel(),t.m&&(typeof t.m=="number"&&ie.clearTimeout(t.m),t.m=null)}function Gf(t){Bx(t.h)||t.m||(t.m=!0,wx(t.Ja,t),t.C=0)}function XF(t,e){return Vx(t.h)>=t.h.j-(t.m?1:0)?!1:t.m?(t.i=e.D.concat(t.i),!0):t.G==1||t.G==2||t.C>=(t.Za?0:t.$a)?!1:(t.m=Xl(Ft(t.Ja,t,e),nT(t,t.C)),t.C++,!0)}G.Ja=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const i=new Zl(this,this.j,t,void 0);let o=this.s;if(this.S&&(o?(o=dx(o),fx(o,this.S)):o=this.S),this.o!==null||this.N||(i.H=o,o=null),this.O)e:{for(var e=0,n=0;n<this.i.length;n++){t:{var r=this.i[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Jx(this,i,e),n=Pr(this.F),Be(n,"RID",t),Be(n,"CVER",22),this.D&&Be(n,"X-HTTP-Session-Id",this.D),ru(this,n),o&&(this.N?e="headers="+encodeURIComponent(String(Qx(o)))+"&"+e:this.o&&ay(n,this.o,o)),iy(this.h,i),this.Ya&&Be(n,"TYPE","init"),this.O?(Be(n,"$req",e),Be(n,"SID","null"),i.Z=!0,Yg(i,n,null)):Yg(i,n,e),this.G=2}}else this.G==3&&(t?Hb(this,t):this.i.length==0||Bx(this.h)||Hb(this))};function Hb(t,e){var n;e?n=e.m:n=t.U++;const r=Pr(t.F);Be(r,"SID",t.I),Be(r,"RID",n),Be(r,"AID",t.T),ru(t,r),t.o&&t.s&&ay(r,t.o,t.s),n=new Zl(t,t.j,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.i=e.D.concat(t.i)),e=Jx(t,n,1e3),n.setTimeout(Math.round(.5*t.ta)+Math.round(.5*t.ta*Math.random())),iy(t.h,n),Yg(n,r,e)}function ru(t,e){t.ia&&qv(t.ia,function(n,r){Be(e,r,n)}),t.l&&Ox({},function(n,r){Be(e,r,n)})}function Jx(t,e,n){n=Math.min(t.i.length,n);var r=t.l?Ft(t.l.Ra,t.l,t):null;e:{var i=t.i;let o=-1;for(;;){const s=["count="+n];o==-1?0<n?(o=i[0].h,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let l=0;l<n;l++){let u=i[l].h;const d=i[l].g;if(u-=o,0>u)o=Math.max(0,i[l].h-100),a=!1;else try{HF(d,s,"req"+u+"_")}catch{r&&r(d)}}if(a){r=s.join("&");break e}}}return t=t.i.splice(0,n),e.D=t,r}function Zx(t){t.g||t.u||(t.Z=1,wx(t.Ia,t),t.A=0)}function uy(t){return t.g||t.u||3<=t.A?!1:(t.Z++,t.u=Xl(Ft(t.Ia,t),nT(t,t.A)),t.A++,!0)}G.Ia=function(){if(this.u=null,eT(this),this.$&&!(this.K||this.g==null||0>=this.P)){var t=2*this.P;this.j.info("BP detection timer enabled: "+t),this.B=Xl(Ft(this.eb,this),t)}};G.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Kt(10),Hf(this),eT(this))};function cy(t){t.B!=null&&(ie.clearTimeout(t.B),t.B=null)}function eT(t){t.g=new Zl(t,t.j,"rpc",t.Z),t.o===null&&(t.g.H=t.s),t.g.N=0;var e=Pr(t.sa);Be(e,"RID","rpc"),Be(e,"SID",t.I),Be(e,"CI",t.L?"0":"1"),Be(e,"AID",t.T),Be(e,"TYPE","xmlhttp"),ru(t,e),t.o&&t.s&&ay(e,t.o,t.s),t.J&&t.g.setTimeout(t.J);var n=t.g;t=t.ka,n.K=1,n.v=jf(Pr(e)),n.s=null,n.P=!0,Rx(n,t)}G.cb=function(){this.v!=null&&(this.v=null,Hf(this),uy(this),Kt(19))};function ud(t){t.v!=null&&(ie.clearTimeout(t.v),t.v=null)}function tT(t,e){var n=null;if(t.g==e){ud(t),cy(t),t.g=null;var r=2}else if(Jg(t.h,e))n=e.D,jx(t.h,e),r=1;else return;if(t.G!=0){if(t.pa=e.Y,e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;r=Ff(),Dt(r,new Tx(r,n)),Gf(t)}else Zx(t);else if(i=e.o,i==3||i==0&&0<t.pa||!(r==1&&XF(t,e)||r==2&&uy(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),i){case 1:Ji(t,5);break;case 4:Ji(t,10);break;case 3:Ji(t,6);break;default:Ji(t,2)}}}function nT(t,e){let n=t.Xa+Math.floor(Math.random()*t.bb);return t.l||(n*=2),n*e}function Ji(t,e){if(t.j.info("Error code "+e),e==2){var n=null;t.l&&(n=null);var r=Ft(t.kb,t);n||(n=new io("//www.google.com/images/cleardot.gif"),ie.location&&ie.location.protocol=="http"||ad(n,"https"),jf(n)),GF(n.toString(),r)}else Kt(2);t.G=0,t.l&&t.l.va(e),rT(t),Xx(t)}G.kb=function(t){t?(this.j.info("Successfully pinged google.com"),Kt(2)):(this.j.info("Failed to ping google.com"),Kt(1))};function rT(t){if(t.G=0,t.la=[],t.l){const e=zx(t.h);(e.length!=0||t.i.length!=0)&&(Ob(t.la,e),Ob(t.la,t.i),t.h.i.length=0,Hv(t.i),t.i.length=0),t.l.ua()}}function iT(t,e,n){var r=n instanceof io?Pr(n):new io(n,void 0);if(r.g!="")e&&(r.g=e+"."+r.g),ld(r,r.m);else{var i=ie.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new io(null,void 0);r&&ad(o,r),e&&(o.g=e),i&&ld(o,i),n&&(o.l=n),r=o}return n=t.D,e=t.za,n&&e&&Be(r,n,e),Be(r,"VER",t.ma),ru(t,r),r}function oT(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Da&&!t.ra?new Ge(new tu({jb:!0})):new Ge(t.ra),e.Ka(t.H),e}function sT(){}G=sT.prototype;G.xa=function(){};G.wa=function(){};G.va=function(){};G.ua=function(){};G.Ra=function(){};function cd(){if(bs&&!(10<=Number(pF)))throw Error("Environmental error: no available transport.")}cd.prototype.g=function(t,e){return new yn(t,e)};function yn(t,e){gt.call(this),this.g=new Yx(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.S=t,(t=e&&e.Yb)&&!id(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!id(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Us(this)}_t(yn,gt);yn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;Kt(0),t.V=e,t.ia=n||{},t.L=t.Y,t.F=iT(t,null,t.V),Gf(t)};yn.prototype.close=function(){ly(this.g)};yn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Jv(t),t=n);e.i.push(new jF(e.ab++,t)),e.G==3&&Gf(e)};yn.prototype.M=function(){this.g.l=null,delete this.j,ly(this.g),delete this.g,yn.X.M.call(this)};function aT(t){ny.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}_t(aT,ny);function lT(){ry.call(this),this.status=1}_t(lT,ry);function Us(t){this.g=t}_t(Us,sT);Us.prototype.xa=function(){Dt(this.g,"a")};Us.prototype.wa=function(t){Dt(this.g,new aT(t))};Us.prototype.va=function(t){Dt(this.g,new lT)};Us.prototype.ua=function(){Dt(this.g,"b")};cd.prototype.createWebChannel=cd.prototype.g;yn.prototype.send=yn.prototype.u;yn.prototype.open=yn.prototype.m;yn.prototype.close=yn.prototype.close;Uf.NO_ERROR=0;Uf.TIMEOUT=8;Uf.HTTP_ERROR=6;Dx.COMPLETE="complete";kx.EventType=Jl;Jl.OPEN="a";Jl.CLOSE="b";Jl.ERROR="c";Jl.MESSAGE="d";gt.prototype.listen=gt.prototype.N;Ge.prototype.listenOnce=Ge.prototype.O;Ge.prototype.getLastError=Ge.prototype.Oa;Ge.prototype.getLastErrorCode=Ge.prototype.Ea;Ge.prototype.getStatus=Ge.prototype.aa;Ge.prototype.getResponseJson=Ge.prototype.Sa;Ge.prototype.getResponseText=Ge.prototype.fa;Ge.prototype.send=Ge.prototype.da;Ge.prototype.setWithCredentials=Ge.prototype.Ka;var JF=function(){return new cd},ZF=function(){return Ff()},ap=Uf,eU=Dx,tU=To,Gb={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},nU=tu,Gu=kx,rU=Ge;const qb="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ot=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ot.UNAUTHENTICATED=new Ot(null),Ot.GOOGLE_CREDENTIALS=new Ot("google-credentials-uid"),Ot.FIRST_PARTY=new Ot("first-party-uid"),Ot.MOCK_USER=new Ot("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bs="9.16.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yo=new Cv("@firebase/firestore");function Kb(){return yo.logLevel}function K(t,...e){if(yo.logLevel<=Ce.DEBUG){const n=e.map(dy);yo.debug(`Firestore (${Bs}): ${t}`,...n)}}function Nr(t,...e){if(yo.logLevel<=Ce.ERROR){const n=e.map(dy);yo.error(`Firestore (${Bs}): ${t}`,...n)}}function Zg(t,...e){if(yo.logLevel<=Ce.WARN){const n=e.map(dy);yo.warn(`Firestore (${Bs}): ${t}`,...n)}}function dy(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oe(t="Unexpected state"){const e=`FIRESTORE (${Bs}) INTERNAL ASSERTION FAILED: `+t;throw Nr(e),new Error(e)}function Oe(t,e){t||oe()}function ue(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};let te=class extends hr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ci=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uT=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}};class iU{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ot.UNAUTHENTICATED))}shutdown(){}}let oU=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},sU=class{constructor(e){this.t=e,this.currentUser=Ot.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new ci;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ci,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{K("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(K("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ci)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(K("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Oe(typeof r.accessToken=="string"),new uT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Oe(e===null||typeof e=="string"),new Ot(e)}},aU=class{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=Ot.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Oe(!(typeof this.h!="object"||this.h===null||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}},lU=class{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i}getToken(){return Promise.resolve(new aU(this.h,this.l,this.m,this.g))}start(e,n){e.enqueueRetryable(()=>n(Ot.FIRST_PARTY))}shutdown(){}invalidateToken(){}},uU=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},cU=class{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,n){const r=o=>{o.error!=null&&K("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.A;return this.A=o.token,K("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{K("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.T.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.T.getImmediate({optional:!0});o?i(o):K("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Oe(typeof n.token=="string"),this.A=n.token,new uU(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dU(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cT=class{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=dU(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}};function Te(t,e){return t<e?-1:t>e?1:0}function Ss(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new te(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new te(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new te(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new te(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return at.fromMillis(Date.now())}static fromDate(e){return at.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new at(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Te(this.nanoseconds,e.nanoseconds):Te(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ae(e)}static min(){return new ae(new at(0,0))}static max(){return new ae(new at(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e,n,r){n===void 0?n=0:n>e.length&&oe(),r===void 0?r=e.length-n:r>e.length-n&&oe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return yl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof yl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class He extends yl{construct(e,n,r){return new He(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new te(M.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new He(n)}static emptyPath(){return new He([])}}const fU=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $t extends yl{construct(e,n,r){return new $t(e,n,r)}static isValidIdentifier(e){return fU.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new $t(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new te(M.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new te(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new te(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new te(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $t(n)}static emptyPath(){return new $t([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.path=e}static fromPath(e){return new Z(He.fromString(e))}static fromName(e){return new Z(He.fromString(e).popFirst(5))}static empty(){return new Z(He.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&He.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return He.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Z(new He(e.slice()))}}function hU(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ae.fromTimestamp(r===1e9?new at(n+1,0):new at(n,r));return new bi(i,Z.empty(),e)}function pU(t){return new bi(t.readTime,t.key,-1)}class bi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new bi(ae.min(),Z.empty(),-1)}static max(){return new bi(ae.max(),Z.empty(),-1)}}function gU(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Z.comparator(t.documentKey,e.documentKey),n!==0?n:Te(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vU{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iu(t){if(t.code!==M.FAILED_PRECONDITION||t.message!==mU)throw t;K("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&oe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new O((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof O?n:O.resolve(n)}catch(n){return O.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):O.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):O.reject(n)}static resolve(e){return new O((n,r)=>{n(e)})}static reject(e){return new O((n,r)=>{r(e)})}static waitFor(e){return new O((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=O.resolve(!1);for(const r of e)n=n.next(i=>i?O.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new O((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(d=>{s[u]=d,++a,a===o&&r(s)},d=>i(d))}})}static doWhile(e,n){return new O((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function ou(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>n.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}fy.at=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yU{constructor(e,n,r,i,o,s,a,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.useFetchStreams=l}}class wl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new wl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof wl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qb(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Do(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function dT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qf(t){return t==null}function dd(t){return t===0&&1/t==-1/0}function wU(t){return typeof t=="number"&&Number.isInteger(t)&&!dd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new jt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let o=0;o<r.length;++o)i+=String.fromCharCode(r[o]);return i}(e);return new jt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Te(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}jt.EMPTY_BYTE_STRING=new jt("");const bU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Si(t){if(Oe(!!t),typeof t=="string"){let e=0;const n=bU.exec(t);if(Oe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ze(t.seconds),nanos:Ze(t.nanos)}}function Ze(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Es(t){return typeof t=="string"?jt.fromBase64String(t):jt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fT(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function hT(t){const e=t.mapValue.fields.__previous_value__;return fT(e)?hT(e):e}function bl(t){const e=Si(t.mapValue.fields.__local_write_time__.timestampValue);return new at(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function wo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?fT(t)?4:SU(t)?9007199254740991:10:oe()}function dr(t,e){if(t===e)return!0;const n=wo(t);if(n!==wo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return bl(t).isEqual(bl(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const o=Si(r.timestampValue),s=Si(i.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return Es(r.bytesValue).isEqual(Es(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Ze(r.geoPointValue.latitude)===Ze(i.geoPointValue.latitude)&&Ze(r.geoPointValue.longitude)===Ze(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Ze(r.integerValue)===Ze(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const o=Ze(r.doubleValue),s=Ze(i.doubleValue);return o===s?dd(o)===dd(s):isNaN(o)&&isNaN(s)}return!1}(t,e);case 9:return Ss(t.arrayValue.values||[],e.arrayValue.values||[],dr);case 10:return function(r,i){const o=r.mapValue.fields||{},s=i.mapValue.fields||{};if(Qb(o)!==Qb(s))return!1;for(const a in o)if(o.hasOwnProperty(a)&&(s[a]===void 0||!dr(o[a],s[a])))return!1;return!0}(t,e);default:return oe()}}function Sl(t,e){return(t.values||[]).find(n=>dr(n,e))!==void 0}function Is(t,e){if(t===e)return 0;const n=wo(t),r=wo(e);if(n!==r)return Te(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Te(t.booleanValue,e.booleanValue);case 2:return function(i,o){const s=Ze(i.integerValue||i.doubleValue),a=Ze(o.integerValue||o.doubleValue);return s<a?-1:s>a?1:s===a?0:isNaN(s)?isNaN(a)?0:-1:1}(t,e);case 3:return Yb(t.timestampValue,e.timestampValue);case 4:return Yb(bl(t),bl(e));case 5:return Te(t.stringValue,e.stringValue);case 6:return function(i,o){const s=Es(i),a=Es(o);return s.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const s=i.split("/"),a=o.split("/");for(let l=0;l<s.length&&l<a.length;l++){const u=Te(s[l],a[l]);if(u!==0)return u}return Te(s.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const s=Te(Ze(i.latitude),Ze(o.latitude));return s!==0?s:Te(Ze(i.longitude),Ze(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,o){const s=i.values||[],a=o.values||[];for(let l=0;l<s.length&&l<a.length;++l){const u=Is(s[l],a[l]);if(u)return u}return Te(s.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,o){if(i===qu.mapValue&&o===qu.mapValue)return 0;if(i===qu.mapValue)return 1;if(o===qu.mapValue)return-1;const s=i.fields||{},a=Object.keys(s),l=o.fields||{},u=Object.keys(l);a.sort(),u.sort();for(let d=0;d<a.length&&d<u.length;++d){const f=Te(a[d],u[d]);if(f!==0)return f;const c=Is(s[a[d]],l[u[d]]);if(c!==0)return c}return Te(a.length,u.length)}(t.mapValue,e.mapValue);default:throw oe()}}function Yb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Te(t,e);const n=Si(t),r=Si(e),i=Te(n.seconds,r.seconds);return i!==0?i:Te(n.nanos,r.nanos)}function Cs(t){return em(t)}function em(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Si(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Es(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,Z.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",o=!0;for(const s of r.values||[])o?o=!1:i+=",",i+=em(s);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let o="{",s=!0;for(const a of i)s?s=!1:o+=",",o+=`${a}:${em(r.fields[a])}`;return o+"}"}(t.mapValue):oe();var e,n}function tm(t){return!!t&&"integerValue"in t}function hy(t){return!!t&&"arrayValue"in t}function Xb(t){return!!t&&"nullValue"in t}function Jb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function vc(t){return!!t&&"mapValue"in t}function Ma(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Do(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ma(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ma(t.arrayValue.values[n]);return e}return Object.assign({},t)}function SU(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(e,n){this.position=e,this.inclusive=n}}function Zb(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=Z.comparator(Z.fromName(s.referenceValue),n.key):r=Is(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function eS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!dr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{}class ot extends pT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new IU(e,n,r):n==="array-contains"?new TU(e,r):n==="in"?new DU(e,r):n==="not-in"?new kU(e,r):n==="array-contains-any"?new _U(e,r):new ot(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new CU(e,r):new xU(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Is(n,this.value)):n!==null&&wo(this.value)===wo(n)&&this.matchesComparison(Is(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return oe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class fr extends pT{constructor(e,n){super(),this.filters=e,this.op=n,this.ht=null}static create(e,n){return new fr(e,n)}matches(e){return gT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ht!==null||(this.ht=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(n=>n.isInequality());return e!==null?e.field:null}lt(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function gT(t){return t.op==="and"}function mT(t){return EU(t)&&gT(t)}function EU(t){for(const e of t.filters)if(e instanceof fr)return!1;return!0}function nm(t){if(t instanceof ot)return t.field.canonicalString()+t.op.toString()+Cs(t.value);if(mT(t))return t.filters.map(e=>nm(e)).join(",");{const e=t.filters.map(n=>nm(n)).join(",");return`${t.op}(${e})`}}function vT(t,e){return t instanceof ot?function(n,r){return r instanceof ot&&n.op===r.op&&n.field.isEqual(r.field)&&dr(n.value,r.value)}(t,e):t instanceof fr?function(n,r){return r instanceof fr&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,o,s)=>i&&vT(o,r.filters[s]),!0):!1}(t,e):void oe()}function yT(t){return t instanceof ot?function(e){return`${e.field.canonicalString()} ${e.op} ${Cs(e.value)}`}(t):t instanceof fr?function(e){return e.op.toString()+" {"+e.getFilters().map(yT).join(" ,")+"}"}(t):"Filter"}class IU extends ot{constructor(e,n,r){super(e,n,r),this.key=Z.fromName(r.referenceValue)}matches(e){const n=Z.comparator(e.key,this.key);return this.matchesComparison(n)}}class CU extends ot{constructor(e,n){super(e,"in",n),this.keys=wT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class xU extends ot{constructor(e,n){super(e,"not-in",n),this.keys=wT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function wT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Z.fromName(r.referenceValue))}class TU extends ot{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return hy(n)&&Sl(n.arrayValue,this.value)}}class DU extends ot{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Sl(this.value.arrayValue,n)}}class kU extends ot{constructor(e,n){super(e,"not-in",n)}matches(e){if(Sl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Sl(this.value.arrayValue,n)}}class _U extends ot{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!hy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Sl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e,n="asc"){this.field=e,this.dir=n}}function RU(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,n){this.comparator=e,this.root=n||Ct.EMPTY}insert(e,n){return new ut(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ct.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ct.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ku(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ku(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ku(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ku(this.root,e,this.comparator,!0)}}class Ku{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ct{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Ct.RED,this.left=i??Ct.EMPTY,this.right=o??Ct.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Ct(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ct.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ct.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ct.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ct.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw oe();const e=this.left.check();if(e!==this.right.check())throw oe();return e+(this.isRed()?0:1)}}Ct.EMPTY=null,Ct.RED=!0,Ct.BLACK=!1;Ct.EMPTY=new class{constructor(){this.size=0}get key(){throw oe()}get value(){throw oe()}get color(){throw oe()}get left(){throw oe()}get right(){throw oe()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Ct(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new tS(this.data.getIterator())}getIteratorFrom(e){return new tS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof lt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new lt(this.comparator);return n.data=e,n}}class tS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.fields=e,e.sort($t.comparator)}static empty(){return new cn([])}unionWith(e){let n=new lt($t.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new cn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ss(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.value=e}static empty(){return new en({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!vc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ma(n)}setAll(e){let n=$t.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Ma(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());vc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return dr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];vc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Do(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new en(Ma(this.value))}}function bT(t){const e=[];return Do(t.fields,(n,r)=>{const i=new $t([n]);if(vc(r)){const o=bT(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new cn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Mt(e,0,ae.min(),ae.min(),ae.min(),en.empty(),0)}static newFoundDocument(e,n,r,i){return new Mt(e,1,n,ae.min(),r,i,0)}static newNoDocument(e,n){return new Mt(e,2,n,ae.min(),ae.min(),en.empty(),0)}static newUnknownDocument(e,n){return new Mt(e,3,n,ae.min(),ae.min(),en.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=en.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=en.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Mt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Mt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let AU=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ft=null}};function nS(t,e=null,n=[],r=[],i=null,o=null,s=null){return new AU(t,e,n,r,i,o,s)}function py(t){const e=ue(t);if(e.ft===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>nm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),qf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Cs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Cs(r)).join(",")),e.ft=n}return e.ft}function gy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!RU(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!vT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!eS(t.startAt,e.startAt)&&eS(t.endAt,e.endAt)}function rm(t){return Z.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kf=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.dt=null,this._t=null,this.startAt,this.endAt}};function PU(t,e,n,r,i,o,s,a){return new Kf(t,e,n,r,i,o,s,a)}function my(t){return new Kf(t)}function rS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function NU(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function OU(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function LU(t){return t.collectionGroup!==null}function ss(t){const e=ue(t);if(e.dt===null){e.dt=[];const n=OU(e),r=NU(e);if(n!==null&&r===null)n.isKeyField()||e.dt.push(new $a(n)),e.dt.push(new $a($t.keyField(),"asc"));else{let i=!1;for(const o of e.explicitOrderBy)e.dt.push(o),o.field.isKeyField()&&(i=!0);if(!i){const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new $a($t.keyField(),o))}}}return e.dt}function Or(t){const e=ue(t);if(!e._t)if(e.limitType==="F")e._t=nS(e.path,e.collectionGroup,ss(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const o of ss(e)){const s=o.dir==="desc"?"asc":"desc";n.push(new $a(o.field,s))}const r=e.endAt?new fd(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new fd(e.startAt.position,e.startAt.inclusive):null;e._t=nS(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function im(t,e,n){return new Kf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Qf(t,e){return gy(Or(t),Or(e))&&t.limitType===e.limitType}function ST(t){return`${py(Or(t))}|lt:${t.limitType}`}function om(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>yT(r)).join(", ")}]`),qf(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Cs(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Cs(r)).join(",")),`Target(${n})`}(Or(t))}; limitType=${t.limitType})`}function vy(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):Z.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of ss(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,o,s){const a=Zb(i,o,s);return i.inclusive?a<=0:a<0}(n.startAt,ss(n),r)||n.endAt&&!function(i,o,s){const a=Zb(i,o,s);return i.inclusive?a>=0:a>0}(n.endAt,ss(n),r))}(t,e)}function MU(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function ET(t){return(e,n)=>{let r=!1;for(const i of ss(t)){const o=$U(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function $U(t,e,n){const r=t.field.isKeyField()?Z.comparator(e.key,n.key):function(i,o,s){const a=o.data.field(i),l=s.data.field(i);return a!==null&&l!==null?Is(a,l):oe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return oe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IT(t,e){if(t.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dd(e)?"-0":e}}function CT(t){return{integerValue:""+t}}function FU(t,e){return wU(e)?CT(e):IT(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(){this._=void 0}}function UU(t,e,n){return t instanceof hd?function(r,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof El?TT(t,e):t instanceof Il?DT(t,e):function(r,i){const o=xT(r,i),s=iS(o)+iS(r.gt);return tm(o)&&tm(r.gt)?CT(s):IT(r.yt,s)}(t,e)}function BU(t,e,n){return t instanceof El?TT(t,e):t instanceof Il?DT(t,e):n}function xT(t,e){return t instanceof pd?tm(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class hd extends Yf{}class El extends Yf{constructor(e){super(),this.elements=e}}function TT(t,e){const n=kT(e);for(const r of t.elements)n.some(i=>dr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Il extends Yf{constructor(e){super(),this.elements=e}}function DT(t,e){let n=kT(e);for(const r of t.elements)n=n.filter(i=>!dr(i,r));return{arrayValue:{values:n}}}class pd extends Yf{constructor(e,n){super(),this.yt=e,this.gt=n}}function iS(t){return Ze(t.integerValue||t.doubleValue)}function kT(t){return hy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function VU(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof El&&r instanceof El||n instanceof Il&&r instanceof Il?Ss(n.elements,r.elements,dr):n instanceof pd&&r instanceof pd?dr(n.gt,r.gt):n instanceof hd&&r instanceof hd}(t.transform,e.transform)}class jU{constructor(e,n){this.version=e,this.transformResults=n}}class ar{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ar}static exists(e){return new ar(void 0,e)}static updateTime(e){return new ar(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function yc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Xf{}function _T(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new AT(t.key,ar.none()):new su(t.key,t.data,ar.none());{const n=t.data,r=en.empty();let i=new lt($t.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Ni(t.key,r,new cn(i.toArray()),ar.none())}}function zU(t,e,n){t instanceof su?function(r,i,o){const s=r.value.clone(),a=sS(r.fieldTransforms,i,o.transformResults);s.setAll(a),i.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(t,e,n):t instanceof Ni?function(r,i,o){if(!yc(r.precondition,i))return void i.convertToUnknownDocument(o.version);const s=sS(r.fieldTransforms,i,o.transformResults),a=i.data;a.setAll(RT(r)),a.setAll(s),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):function(r,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Fa(t,e,n,r){return t instanceof su?function(i,o,s,a){if(!yc(i.precondition,o))return s;const l=i.value.clone(),u=aS(i.fieldTransforms,a,o);return l.setAll(u),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ni?function(i,o,s,a){if(!yc(i.precondition,o))return s;const l=aS(i.fieldTransforms,a,o),u=o.data;return u.setAll(RT(i)),u.setAll(l),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),s===null?null:s.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(i,o,s){return yc(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):s}(t,e,n)}function WU(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=xT(r.transform,i||null);o!=null&&(n===null&&(n=en.empty()),n.set(r.field,o))}return n||null}function oS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Ss(n,r,(i,o)=>VU(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class su extends Xf{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ni extends Xf{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function RT(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function sS(t,e,n){const r=new Map;Oe(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,BU(s,a,n[i]))}return r}function aS(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,UU(o,s,e))}return r}let AT=class extends Xf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}};class HU extends Xf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GU{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xe,we;function qU(t){switch(t){default:return oe();case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0}}function PT(t){if(t===void 0)return Nr("GRPC error has no .code"),M.UNKNOWN;switch(t){case Xe.OK:return M.OK;case Xe.CANCELLED:return M.CANCELLED;case Xe.UNKNOWN:return M.UNKNOWN;case Xe.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case Xe.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case Xe.INTERNAL:return M.INTERNAL;case Xe.UNAVAILABLE:return M.UNAVAILABLE;case Xe.UNAUTHENTICATED:return M.UNAUTHENTICATED;case Xe.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case Xe.NOT_FOUND:return M.NOT_FOUND;case Xe.ALREADY_EXISTS:return M.ALREADY_EXISTS;case Xe.PERMISSION_DENIED:return M.PERMISSION_DENIED;case Xe.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case Xe.ABORTED:return M.ABORTED;case Xe.OUT_OF_RANGE:return M.OUT_OF_RANGE;case Xe.UNIMPLEMENTED:return M.UNIMPLEMENTED;case Xe.DATA_LOSS:return M.DATA_LOSS;default:return oe()}}(we=Xe||(Xe={}))[we.OK=0]="OK",we[we.CANCELLED=1]="CANCELLED",we[we.UNKNOWN=2]="UNKNOWN",we[we.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",we[we.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",we[we.NOT_FOUND=5]="NOT_FOUND",we[we.ALREADY_EXISTS=6]="ALREADY_EXISTS",we[we.PERMISSION_DENIED=7]="PERMISSION_DENIED",we[we.UNAUTHENTICATED=16]="UNAUTHENTICATED",we[we.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",we[we.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",we[we.ABORTED=10]="ABORTED",we[we.OUT_OF_RANGE=11]="OUT_OF_RANGE",we[we.UNIMPLEMENTED=12]="UNIMPLEMENTED",we[we.INTERNAL=13]="INTERNAL",we[we.UNAVAILABLE=14]="UNAVAILABLE",we[we.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Do(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return dT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KU=new ut(Z.comparator);function Lr(){return KU}const NT=new ut(Z.comparator);function Ea(...t){let e=NT;for(const n of t)e=e.insert(n.key,n);return e}function OT(t){let e=NT;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Zi(){return Ua()}function LT(){return Ua()}function Ua(){return new Vs(t=>t.toString(),(t,e)=>t.isEqual(e))}const QU=new ut(Z.comparator),YU=new lt(Z.comparator);function ge(...t){let e=YU;for(const n of t)e=e.add(n);return e}const XU=new lt(Te);function MT(){return XU}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,au.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Jf(ae.min(),i,MT(),Lr(),ge())}}class au{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new au(r,n,ge(),ge(),ge())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(e,n,r,i){this.It=e,this.removedTargetIds=n,this.key=r,this.Tt=i}}class $T{constructor(e,n){this.targetId=e,this.Et=n}}class FT{constructor(e,n,r=jt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class lS{constructor(){this.At=0,this.Rt=cS(),this.bt=jt.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return this.At!==0}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=ge(),n=ge(),r=ge();return this.Rt.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:oe()}}),new au(this.bt,this.Pt,e,n,r)}xt(){this.vt=!1,this.Rt=cS()}Nt(e,n){this.vt=!0,this.Rt=this.Rt.insert(e,n)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class JU{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=Lr(),this.qt=uS(),this.Ut=new lt(Te)}Kt(e){for(const n of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(n,e.Tt):this.Qt(n,e.key,e.Tt);for(const n of e.removedTargetIds)this.Qt(n,e.key,e.Tt)}jt(e){this.forEachTarget(e,n=>{const r=this.Wt(n);switch(e.state){case 0:this.zt(n)&&r.Dt(e.resumeToken);break;case 1:r.Mt(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.Mt(),r.Vt||this.removeTarget(n);break;case 3:this.zt(n)&&(r.Ft(),r.Dt(e.resumeToken));break;case 4:this.zt(n)&&(this.Ht(n),r.Dt(e.resumeToken));break;default:oe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Bt.forEach((r,i)=>{this.zt(i)&&n(i)})}Jt(e){const n=e.targetId,r=e.Et.count,i=this.Yt(n);if(i){const o=i.target;if(rm(o))if(r===0){const s=new Z(o.path);this.Qt(n,s,Mt.newNoDocument(s,ae.min()))}else Oe(r===1);else this.Xt(n)!==r&&(this.Ht(n),this.Ut=this.Ut.add(n))}}Zt(e){const n=new Map;this.Bt.forEach((o,s)=>{const a=this.Yt(s);if(a){if(o.current&&rm(a.target)){const l=new Z(a.target.path);this.Lt.get(l)!==null||this.te(s,l)||this.Qt(s,l,Mt.newNoDocument(l,e))}o.St&&(n.set(s,o.Ct()),o.xt())}});let r=ge();this.qt.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.Yt(l);return!u||u.purpose===2||(a=!1,!1)}),a&&(r=r.add(o))}),this.Lt.forEach((o,s)=>s.setReadTime(e));const i=new Jf(e,n,this.Ut,this.Lt,r);return this.Lt=Lr(),this.qt=uS(),this.Ut=new lt(Te),i}Gt(e,n){if(!this.zt(e))return;const r=this.te(e,n.key)?2:0;this.Wt(e).Nt(n.key,r),this.Lt=this.Lt.insert(n.key,n),this.qt=this.qt.insert(n.key,this.ee(n.key).add(e))}Qt(e,n,r){if(!this.zt(e))return;const i=this.Wt(e);this.te(e,n)?i.Nt(n,1):i.kt(n),this.qt=this.qt.insert(n,this.ee(n).delete(e)),r&&(this.Lt=this.Lt.insert(n,r))}removeTarget(e){this.Bt.delete(e)}Xt(e){const n=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let n=this.Bt.get(e);return n||(n=new lS,this.Bt.set(e,n)),n}ee(e){let n=this.qt.get(e);return n||(n=new lt(Te),this.qt=this.qt.insert(e,n)),n}zt(e){const n=this.Yt(e)!==null;return n||K("WatchChangeAggregator","Detected inactive target",e),n}Yt(e){const n=this.Bt.get(e);return n&&n.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new lS),this.$t.getRemoteKeysForTarget(e).forEach(n=>{this.Qt(e,n,null)})}te(e,n){return this.$t.getRemoteKeysForTarget(e).has(n)}}function uS(){return new ut(Z.comparator)}function cS(){return new ut(Z.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZU=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),eB=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),tB=(()=>({and:"AND",or:"OR"}))();class nB{constructor(e,n){this.databaseId=e,this.wt=n}}function gd(t,e){return t.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function UT(t,e){return t.wt?e.toBase64():e.toUint8Array()}function rB(t,e){return gd(t,e.toTimestamp())}function lr(t){return Oe(!!t),ae.fromTimestamp(function(e){const n=Si(e);return new at(n.seconds,n.nanos)}(t))}function yy(t,e){return function(n){return new He(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function BT(t){const e=He.fromString(t);return Oe(WT(e)),e}function sm(t,e){return yy(t.databaseId,e.path)}function lp(t,e){const n=BT(e);if(n.get(1)!==t.databaseId.projectId)throw new te(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new te(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Z(VT(n))}function am(t,e){return yy(t.databaseId,e)}function iB(t){const e=BT(t);return e.length===4?He.emptyPath():VT(e)}function lm(t){return new He(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function VT(t){return Oe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function dS(t,e,n){return{name:sm(t,e),fields:n.value.mapValue.fields}}function oB(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:oe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,u){return l.wt?(Oe(u===void 0||typeof u=="string"),jt.fromBase64String(u||"")):(Oe(u===void 0||u instanceof Uint8Array),jt.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){const u=l.code===void 0?M.UNKNOWN:PT(l.code);return new te(u,l.message||"")}(s);n=new FT(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=lp(t,r.document.name),o=lr(r.document.updateTime),s=r.document.createTime?lr(r.document.createTime):ae.min(),a=new en({mapValue:{fields:r.document.fields}}),l=Mt.newFoundDocument(i,o,s,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new wc(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=lp(t,r.document),o=r.readTime?lr(r.readTime):ae.min(),s=Mt.newNoDocument(i,o),a=r.removedTargetIds||[];n=new wc([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=lp(t,r.document),o=r.removedTargetIds||[];n=new wc([],o,i,null)}else{if(!("filter"in e))return oe();{e.filter;const r=e.filter;r.targetId;const i=r.count||0,o=new GU(i),s=r.targetId;n=new $T(s,o)}}return n}function sB(t,e){let n;if(e instanceof su)n={update:dS(t,e.key,e.value)};else if(e instanceof AT)n={delete:sm(t,e.key)};else if(e instanceof Ni)n={update:dS(t,e.key,e.data),updateMask:gB(e.fieldMask)};else{if(!(e instanceof HU))return oe();n={verify:sm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const s=o.transform;if(s instanceof hd)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof El)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof Il)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof pd)return{fieldPath:o.field.canonicalString(),increment:s.gt};throw oe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:rB(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:oe()}(t,e.precondition)),n}function aB(t,e){return t&&t.length>0?(Oe(e!==void 0),t.map(n=>function(r,i){let o=r.updateTime?lr(r.updateTime):lr(i);return o.isEqual(ae.min())&&(o=lr(i)),new jU(o,r.transformResults||[])}(n,e))):[]}function lB(t,e){return{documents:[am(t,e.path)]}}function uB(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=am(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=am(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return zT(fr.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(l){if(l.length!==0)return l.map(u=>function(d){return{field:No(d.field),direction:fB(d.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const s=function(l,u){return l.wt||qf(u)?u:{value:u}}(t,e.limit);var a;return s!==null&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function cB(t){let e=iB(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Oe(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let o=[];n.where&&(o=function(d){const f=jT(d);return f instanceof fr&&mT(f)?f.getFilters():[f]}(n.where));let s=[];n.orderBy&&(s=n.orderBy.map(d=>function(f){return new $a(Oo(f.field),function(c){switch(c){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(f.direction))}(d)));let a=null;n.limit&&(a=function(d){let f;return f=typeof d=="object"?d.value:d,qf(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(d){const f=!!d.before,c=d.values||[];return new fd(c,f)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const f=!d.before,c=d.values||[];return new fd(c,f)}(n.endAt)),PU(e,i,s,o,a,"F",l,u)}function dB(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return oe()}}(0,e.purpose);return n==null?null:{"goog-listen-tags":n}}function jT(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Oo(e.unaryFilter.field);return ot.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Oo(e.unaryFilter.field);return ot.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Oo(e.unaryFilter.field);return ot.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Oo(e.unaryFilter.field);return ot.create(o,"!=",{nullValue:"NULL_VALUE"});default:return oe()}}(t):t.fieldFilter!==void 0?function(e){return ot.create(Oo(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return oe()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return fr.create(e.compositeFilter.filters.map(n=>jT(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return oe()}}(e.compositeFilter.op))}(t):oe()}function fB(t){return ZU[t]}function hB(t){return eB[t]}function pB(t){return tB[t]}function No(t){return{fieldPath:t.canonicalString()}}function Oo(t){return $t.fromServerFormat(t.fieldPath)}function zT(t){return t instanceof ot?function(e){if(e.op==="=="){if(Jb(e.value))return{unaryFilter:{field:No(e.field),op:"IS_NAN"}};if(Xb(e.value))return{unaryFilter:{field:No(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(Jb(e.value))return{unaryFilter:{field:No(e.field),op:"IS_NOT_NAN"}};if(Xb(e.value))return{unaryFilter:{field:No(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:No(e.field),op:hB(e.op),value:e.value}}}(t):t instanceof fr?function(e){const n=e.getFilters().map(r=>zT(r));return n.length===1?n[0]:{compositeFilter:{op:pB(e.op),filters:n}}}(t):oe()}function gB(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function WT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mB{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&zU(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Fa(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Fa(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=LT();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=_T(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(ae.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ge())}isEqual(e){return this.batchId===e.batchId&&Ss(this.mutations,e.mutations,(n,r)=>oS(n,r))&&Ss(this.baseMutations,e.baseMutations,(n,r)=>oS(n,r))}}class wy{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Oe(e.mutations.length===r.length);let i=QU;const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new wy(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vB{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e,n,r,i,o=ae.min(),s=ae.min(),a=jt.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a}withSequenceNumber(e){return new oo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new oo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new oo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yB{constructor(e){this.ie=e}}function wB(t){const e=cB({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?im(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bB{constructor(){this.Je=new SB}addToCollectionParentIndex(e,n){return this.Je.add(n),O.resolve()}getCollectionParents(e,n){return O.resolve(this.Je.getEntries(n))}addFieldIndex(e,n){return O.resolve()}deleteFieldIndex(e,n){return O.resolve()}getDocumentsMatchingTarget(e,n){return O.resolve(null)}getIndexType(e,n){return O.resolve(0)}getFieldIndexes(e,n){return O.resolve([])}getNextCollectionGroupToUpdate(e){return O.resolve(null)}getMinOffset(e,n){return O.resolve(bi.min())}getMinOffsetFromCollectionGroup(e,n){return O.resolve(bi.min())}updateCollectionGroup(e,n,r){return O.resolve()}updateIndexEntries(e,n){return O.resolve()}}class SB{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new lt(He.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new lt(He.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new xs(0)}static vn(){return new xs(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EB{constructor(){this.changes=new Vs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Mt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?O.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IB{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CB{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Fa(r.mutation,i,cn.empty(),at.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ge()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ge()){const i=Zi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Ea();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Zi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ge()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Lr();const s=Ua(),a=Ua();return n.forEach((l,u)=>{const d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof Ni)?o=o.insert(u.key,u):d!==void 0?(s.set(u.key,d.mutation.getFieldMask()),Fa(d.mutation,u,d.mutation.getFieldMask(),at.now())):s.set(u.key,cn.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,d)=>s.set(u,d)),n.forEach((u,d)=>{var f;return a.set(u,new IB(d,(f=s.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Ua();let i=new ut((s,a)=>s-a),o=ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||cn.empty();d=a.applyToLocalView(u,d),r.set(l,d);const f=(i.get(a.batchId)||ge()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,d=l.value,f=LT();d.forEach(c=>{if(!o.has(c)){const h=_T(n.get(c),r.get(c));h!==null&&f.set(c,h),o=o.add(c)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,f))}return O.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return Z.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):LU(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):O.resolve(Zi());let a=-1,l=o;return s.next(u=>O.forEach(u,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(d)?O.resolve():this.remoteDocumentCache.getEntry(e,d).next(c=>{l=l.insert(d,c)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,ge())).next(d=>({batchId:a,changes:OT(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Z(n)).next(r=>{let i=Ea();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let o=Ea();return this.indexManager.getCollectionParents(e,i).next(s=>O.forEach(s,a=>{const l=function(u,d){return new Kf(d,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(u=>{u.forEach((d,f)=>{o=o.insert(d,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,n.path,r).next(o=>(i=o,this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId))).next(o=>{o.forEach((a,l)=>{const u=l.getKey();i.get(u)===null&&(i=i.insert(u,Mt.newInvalidDocument(u)))});let s=Ea();return i.forEach((a,l)=>{const u=o.get(a);u!==void 0&&Fa(u.mutation,l,cn.empty(),at.now()),vy(n,l)&&(s=s.insert(a,l))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xB{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,n){return O.resolve(this.Zn.get(n))}saveBundleMetadata(e,n){var r;return this.Zn.set(n.id,{id:(r=n).id,version:r.version,createTime:lr(r.createTime)}),O.resolve()}getNamedQuery(e,n){return O.resolve(this.ts.get(n))}saveNamedQuery(e,n){return this.ts.set(n.name,function(r){return{name:r.name,query:wB(r.bundledQuery),readTime:lr(r.readTime)}}(n)),O.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TB{constructor(){this.overlays=new ut(Z.comparator),this.es=new Map}getOverlay(e,n){return O.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Zi();return O.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.oe(e,n,o)}),O.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.es.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.es.delete(r)),O.resolve()}getOverlaysForCollection(e,n,r){const i=Zi(),o=n.length+1,s=new Z(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return O.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new ut((u,d)=>u-d);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=o.get(u.largestBatchId);d===null&&(d=Zi(),o=o.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=Zi(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=i)););return O.resolve(a)}oe(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new vB(n,r));let o=this.es.get(n);o===void 0&&(o=ge(),this.es.set(n,o)),this.es.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(){this.ns=new lt(dt.ss),this.rs=new lt(dt.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,n){const r=new dt(e,n);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.cs(new dt(e,n))}hs(e,n){e.forEach(r=>this.removeReference(r,n))}ls(e){const n=new Z(new He([])),r=new dt(n,e),i=new dt(n,e+1),o=[];return this.rs.forEachInRange([r,i],s=>{this.cs(s),o.push(s.key)}),o}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const n=new Z(new He([])),r=new dt(n,e),i=new dt(n,e+1);let o=ge();return this.rs.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new dt(e,0),r=this.ns.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class dt{constructor(e,n){this.key=e,this._s=n}static ss(e,n){return Z.comparator(e.key,n.key)||Te(e._s,n._s)}static os(e,n){return Te(e._s,n._s)||Z.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DB{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new lt(dt.ss)}checkEmpty(e){return O.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new mB(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.gs=this.gs.add(new dt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return O.resolve(s)}lookupMutationBatch(e,n){return O.resolve(this.ys(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ps(r),o=i<0?0:i;return O.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return O.resolve(this.mutationQueue.length===0?-1:this.ws-1)}getAllMutationBatches(e){return O.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new dt(n,0),i=new dt(n,Number.POSITIVE_INFINITY),o=[];return this.gs.forEachInRange([r,i],s=>{const a=this.ys(s._s);o.push(a)}),O.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new lt(Te);return n.forEach(i=>{const o=new dt(i,0),s=new dt(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([o,s],a=>{r=r.add(a._s)})}),O.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;Z.isDocumentKey(o)||(o=o.child(""));const s=new dt(new Z(o),0);let a=new lt(Te);return this.gs.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l._s)),!0)},s),O.resolve(this.Is(a))}Is(e){const n=[];return e.forEach(r=>{const i=this.ys(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Oe(this.Ts(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.gs;return O.forEach(n.mutations,i=>{const o=new dt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,n){const r=new dt(n,0),i=this.gs.firstAfterOrEqual(r);return O.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,O.resolve()}Ts(e,n){return this.ps(e)}ps(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ys(e){const n=this.ps(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kB{constructor(e){this.Es=e,this.docs=new ut(Z.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Es(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return O.resolve(r?r.document.mutableCopy():Mt.newInvalidDocument(n))}getEntries(e,n){let r=Lr();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Mt.newInvalidDocument(i))}),O.resolve(r)}getAllFromCollection(e,n,r){let i=Lr();const o=new Z(n.child("")),s=this.docs.getIteratorFrom(o);for(;s.hasNext();){const{key:a,value:{document:l}}=s.getNext();if(!n.isPrefixOf(a.path))break;a.path.length>n.length+1||gU(pU(l),r)<=0||(i=i.insert(l.key,l.mutableCopy()))}return O.resolve(i)}getAllFromCollectionGroup(e,n,r,i){oe()}As(e,n){return O.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new _B(this)}getSize(e){return O.resolve(this.size)}}class _B extends EB{constructor(e){super(),this.Yn=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),O.waitFor(n)}getFromCache(e,n){return this.Yn.getEntry(e,n)}getAllFromCache(e,n){return this.Yn.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RB{constructor(e){this.persistence=e,this.Rs=new Vs(n=>py(n),gy),this.lastRemoteSnapshotVersion=ae.min(),this.highestTargetId=0,this.bs=0,this.Ps=new by,this.targetCount=0,this.vs=xs.Pn()}forEachTarget(e,n){return this.Rs.forEach((r,i)=>n(i)),O.resolve()}getLastRemoteSnapshotVersion(e){return O.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return O.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),O.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.bs&&(this.bs=n),O.resolve()}Dn(e){this.Rs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.vs=new xs(n),this.highestTargetId=n),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,n){return this.Dn(n),this.targetCount+=1,O.resolve()}updateTargetData(e,n){return this.Dn(n),O.resolve()}removeTargetData(e,n){return this.Rs.delete(n.target),this.Ps.ls(n.targetId),this.targetCount-=1,O.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Rs.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Rs.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),O.waitFor(o).next(()=>i)}getTargetCount(e){return O.resolve(this.targetCount)}getTargetData(e,n){const r=this.Rs.get(n)||null;return O.resolve(r)}addMatchingKeys(e,n,r){return this.Ps.us(n,r),O.resolve()}removeMatchingKeys(e,n,r){this.Ps.hs(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),O.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Ps.ls(n),O.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Ps.ds(n);return O.resolve(r)}containsKey(e,n){return O.resolve(this.Ps.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AB{constructor(e,n){this.Vs={},this.overlays={},this.Ss=new fy(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new RB(this),this.indexManager=new bB,this.remoteDocumentCache=function(r){return new kB(r)}(r=>this.referenceDelegate.xs(r)),this.yt=new yB(n),this.Ns=new xB(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new TB,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Vs[e.toKey()];return r||(r=new DB(n,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,n,r){K("MemoryPersistence","Starting transaction:",e);const i=new PB(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(o=>this.referenceDelegate.Os(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ms(e,n){return O.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,n)))}}class PB extends vU{constructor(e){super(),this.currentSequenceNumber=e}}class Sy{constructor(e){this.persistence=e,this.Fs=new by,this.$s=null}static Bs(e){return new Sy(e)}get Ls(){if(this.$s)return this.$s;throw oe()}addReference(e,n,r){return this.Fs.addReference(r,n),this.Ls.delete(r.toString()),O.resolve()}removeReference(e,n,r){return this.Fs.removeReference(r,n),this.Ls.add(r.toString()),O.resolve()}markPotentiallyOrphaned(e,n){return this.Ls.add(n.toString()),O.resolve()}removeTarget(e,n){this.Fs.ls(n.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Ls.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}ks(){this.$s=new Set}Os(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return O.forEach(this.Ls,r=>{const i=Z.fromPath(r);return this.qs(e,i).next(o=>{o||n.removeEntry(i,ae.min())})}).next(()=>(this.$s=null,n.apply(e)))}updateLimboDocument(e,n){return this.qs(e,n).next(r=>{r?this.Ls.delete(n.toString()):this.Ls.add(n.toString())})}xs(e){return 0}qs(e,n){return O.or([()=>O.resolve(this.Fs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ms(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Si=r,this.Di=i}static Ci(e,n){let r=ge(),i=ge();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Ey(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NB{constructor(){this.xi=!1}initialize(e,n){this.Ni=e,this.indexManager=n,this.xi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.ki(e,n).next(o=>o||this.Oi(e,n,i,r)).next(o=>o||this.Mi(e,n))}ki(e,n){if(rS(n))return O.resolve(null);let r=Or(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=im(n,null,"F"),r=Or(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=ge(...o);return this.Ni.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Fi(n,a);return this.$i(n,u,s,l.readTime)?this.ki(e,im(n,null,"F")):this.Bi(e,u,n,l)}))})))}Oi(e,n,r,i){return rS(n)||i.isEqual(ae.min())?this.Mi(e,n):this.Ni.getDocuments(e,r).next(o=>{const s=this.Fi(n,o);return this.$i(n,s,r,i)?this.Mi(e,n):(Kb()<=Ce.DEBUG&&K("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),om(n)),this.Bi(e,s,n,hU(i,-1)))})}Fi(e,n){let r=new lt(ET(e));return n.forEach((i,o)=>{vy(e,o)&&(r=r.add(o))}),r}$i(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Mi(e,n){return Kb()<=Ce.DEBUG&&K("QueryEngine","Using full collection scan to execute query:",om(n)),this.Ni.getDocumentsMatchingQuery(e,n,bi.min())}Bi(e,n,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OB{constructor(e,n,r,i){this.persistence=e,this.Li=n,this.yt=i,this.qi=new ut(Te),this.Ui=new Vs(o=>py(o),gy),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new CB(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.qi))}}function LB(t,e,n,r){return new OB(t,e,n,r)}async function HT(t,e){const n=ue(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Qi(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=ge();for(const u of i){s.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of o){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({ji:u,removedBatchIds:s,addedBatchIds:a}))})})}function MB(t,e){const n=ue(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.Gi.newChangeBuffer({trackRemovals:!0});return function(s,a,l,u){const d=l.batch,f=d.keys();let c=O.resolve();return f.forEach(h=>{c=c.next(()=>u.getEntry(a,h)).next(p=>{const v=l.docVersions.get(h);Oe(v!==null),p.version.compareTo(v)<0&&(d.applyToRemoteDocument(p,l),p.isValidDocument()&&(p.setReadTime(l.commitVersion),u.addEntry(p)))})}),c.next(()=>s.mutationQueue.removeMutationBatch(a,d))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(s){let a=ge();for(let l=0;l<s.mutationResults.length;++l)s.mutationResults[l].transformResults.length>0&&(a=a.add(s.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function GT(t){const e=ue(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Cs.getLastRemoteSnapshotVersion(n))}function $B(t,e){const n=ue(t),r=e.snapshotVersion;let i=n.qi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.qi;const a=[];e.targetChanges.forEach((d,f)=>{const c=i.get(f);if(!c)return;a.push(n.Cs.removeMatchingKeys(o,d.removedDocuments,f).next(()=>n.Cs.addMatchingKeys(o,d.addedDocuments,f)));let h=c.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.has(f)?h=h.withResumeToken(jt.EMPTY_BYTE_STRING,ae.min()).withLastLimboFreeSnapshotVersion(ae.min()):d.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(d.resumeToken,r)),i=i.insert(f,h),function(p,v,b){return p.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(c,h,d)&&a.push(n.Cs.updateTargetData(o,h))});let l=Lr(),u=ge();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,d))}),a.push(FB(o,s,e.documentUpdates).next(d=>{l=d.Wi,u=d.zi})),!r.isEqual(ae.min())){const d=n.Cs.getLastRemoteSnapshotVersion(o).next(f=>n.Cs.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(d)}return O.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.qi=i,o))}function FB(t,e,n){let r=ge(),i=ge();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Lr();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ae.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):K("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Wi:s,zi:i}})}function UB(t,e){const n=ue(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function BB(t,e){const n=ue(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Cs.getTargetData(r,e).next(o=>o?(i=o,O.resolve(i)):n.Cs.allocateTargetId(r).next(s=>(i=new oo(e,s,0,r.currentSequenceNumber),n.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.qi.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.qi=n.qi.insert(r.targetId,r),n.Ui.set(e,r.targetId)),r})}async function um(t,e,n){const r=ue(t),i=r.qi.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!ou(s))throw s;K("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.qi=r.qi.remove(e),r.Ui.delete(i.target)}function fS(t,e,n){const r=ue(t);let i=ae.min(),o=ge();return r.persistence.runTransaction("Execute query","readonly",s=>function(a,l,u){const d=ue(a),f=d.Ui.get(u);return f!==void 0?O.resolve(d.qi.get(f)):d.Cs.getTargetData(l,u)}(r,s,Or(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.Li.getDocumentsMatchingQuery(s,e,n?i:ae.min(),n?o:ge())).next(a=>(VB(r,MU(e),a),{documents:a,Hi:o})))}function VB(t,e,n){let r=t.Ki.get(e)||ae.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Ki.set(e,r)}class hS{constructor(){this.activeTargetIds=MT()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class jB{constructor(){this.Lr=new hS,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,n,r){this.qr[e]=n}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new hS,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zB{Ur(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){K("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){K("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HB{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GB extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.oo=n+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,n,r,i,o){const s=this.ho(e,n);K("RestConnection","Sending: ",s,r);const a={};return this.lo(a,i,o),this.fo(e,s,a,r).then(l=>(K("RestConnection","Received: ",l),l),l=>{throw Zg("RestConnection",`${e} failed with error: `,l,"url: ",s,"request:",r),l})}_o(e,n,r,i,o,s){return this.ao(e,n,r,i,o)}lo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Bs,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}ho(e,n){const r=WB[e];return`${this.oo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,n,r,i){return new Promise((o,s)=>{const a=new rU;a.setWithCredentials(!0),a.listenOnce(eU.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case ap.NO_ERROR:const u=a.getResponseJson();K("Connection","XHR received:",JSON.stringify(u)),o(u);break;case ap.TIMEOUT:K("Connection",'RPC "'+e+'" timed out'),s(new te(M.DEADLINE_EXCEEDED,"Request time out"));break;case ap.HTTP_ERROR:const d=a.getStatus();if(K("Connection",'RPC "'+e+'" failed with status:',d,"response text:",a.getResponseText()),d>0){let f=a.getResponseJson();Array.isArray(f)&&(f=f[0]);const c=f==null?void 0:f.error;if(c&&c.status&&c.message){const h=function(p){const v=p.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(v)>=0?v:M.UNKNOWN}(c.status);s(new te(h,c.message))}else s(new te(M.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new te(M.UNAVAILABLE,"Connection failed."));break;default:oe()}}finally{K("Connection",'RPC "'+e+'" completed.')}});const l=JSON.stringify(i);a.send(n,"POST",l,r,15)})}wo(e,n,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=JF(),s=ZF(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new nU({})),this.lo(a.initMessageHeaders,n,r),a.encodeInitMessageHeaders=!0;const l=i.join("");K("Connection","Creating WebChannel: "+l,a);const u=o.createWebChannel(l,a);let d=!1,f=!1;const c=new HB({Hr:p=>{f?K("Connection","Not sending because WebChannel is closed:",p):(d||(K("Connection","Opening WebChannel transport."),u.open(),d=!0),K("Connection","WebChannel sending:",p),u.send(p))},Jr:()=>u.close()}),h=(p,v,b)=>{p.listen(v,m=>{try{b(m)}catch(g){setTimeout(()=>{throw g},0)}})};return h(u,Gu.EventType.OPEN,()=>{f||K("Connection","WebChannel transport opened.")}),h(u,Gu.EventType.CLOSE,()=>{f||(f=!0,K("Connection","WebChannel transport closed"),c.io())}),h(u,Gu.EventType.ERROR,p=>{f||(f=!0,Zg("Connection","WebChannel transport errored:",p),c.io(new te(M.UNAVAILABLE,"The operation could not be completed")))}),h(u,Gu.EventType.MESSAGE,p=>{var v;if(!f){const b=p.data[0];Oe(!!b);const m=b,g=m.error||((v=m[0])===null||v===void 0?void 0:v.error);if(g){K("Connection","WebChannel received error:",g);const y=g.status;let w=function(D){const R=Xe[D];if(R!==void 0)return PT(R)}(y),x=g.message;w===void 0&&(w=M.INTERNAL,x="Unknown error status: "+y+" with message "+g.message),f=!0,c.io(new te(w,x)),u.close()}else K("Connection","WebChannel received:",b),c.ro(b)}}),h(s,tU.STAT_EVENT,p=>{p.stat===Gb.PROXY?K("Connection","Detected buffering proxy"):p.stat===Gb.NOPROXY&&K("Connection","Detected no buffering proxy")}),setTimeout(()=>{c.so()},0),c}}function up(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zf(t){return new nB(t,!0)}class qT{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Hs=e,this.timerId=n,this.mo=r,this.yo=i,this.po=o,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&K("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){this.To!==null&&(this.To.skipDelay(),this.To=null)}cancel(){this.To!==null&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(e,n,r,i,o,s,a,l){this.Hs=e,this.vo=r,this.Vo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new qT(e,n)}No(){return this.state===1||this.state===5||this.ko()}ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Oo()}async stop(){this.No()&&await this.close(0)}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&this.Do===null&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}async $o(){if(this.ko())return this.close(0)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}async close(e,n){this.Lo(),this.qo(),this.xo.cancel(),this.So++,e!==4?this.xo.reset():n&&n.code===M.RESOURCE_EXHAUSTED?(Nr(n.toString()),Nr("Using maximum backoff delay to prevent overloading the backend."),this.xo.Ao()):n&&n.code===M.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Uo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zr(n)}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===n&&this.Go(r,i)},r=>{e(()=>{const i=new te(M.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,n){const r=this.Ko(this.So);this.stream=this.jo(e,n),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){this.state=5,this.xo.Ro(async()=>{this.state=0,this.start()})}Qo(e){return K("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return n=>{this.Hs.enqueueAndForget(()=>this.So===e?n():(K("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class qB extends KT{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.yt=o}jo(e,n){return this.connection.wo("Listen",e,n)}onMessage(e){this.xo.reset();const n=oB(this.yt,e),r=function(i){if(!("targetChange"in i))return ae.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ae.min():o.readTime?lr(o.readTime):ae.min()}(e);return this.listener.Wo(n,r)}zo(e){const n={};n.database=lm(this.yt),n.addTarget=function(i,o){let s;const a=o.target;return s=rm(a)?{documents:lB(i,a)}:{query:uB(i,a)},s.targetId=o.targetId,o.resumeToken.approximateByteSize()>0?s.resumeToken=UT(i,o.resumeToken):o.snapshotVersion.compareTo(ae.min())>0&&(s.readTime=gd(i,o.snapshotVersion.toTimestamp())),s}(this.yt,e);const r=dB(this.yt,e);r&&(n.labels=r),this.Bo(n)}Ho(e){const n={};n.database=lm(this.yt),n.removeTarget=e,this.Bo(n)}}class KB extends KT{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.yt=o,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,n){return this.connection.wo("Write",e,n)}onMessage(e){if(Oe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const n=aB(e.writeResults,e.commitTime),r=lr(e.commitTime);return this.listener.Zo(r,n)}return Oe(!e.writeResults||e.writeResults.length===0),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=lm(this.yt),this.Bo(e)}Xo(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>sB(this.yt,r))};this.Bo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QB extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.yt=i,this.nu=!1}su(){if(this.nu)throw new te(M.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,n,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.ao(e,n,r,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new te(M.UNKNOWN,i.toString())})}_o(e,n,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection._o(e,n,r,o,s,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new te(M.UNKNOWN,o.toString())})}terminate(){this.nu=!0}}class YB{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){this.iu===0&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){this.state==="Online"?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,e==="Online"&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Nr(n),this.ou=!1):K("OnlineStateTracker",n)}lu(){this.ru!==null&&(this.ru.cancel(),this.ru=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XB{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=o,this.mu.Ur(s=>{r.enqueueAndForget(async()=>{ko(this)&&(K("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=ue(a);l._u.add(4),await lu(l),l.gu.set("Unknown"),l._u.delete(4),await eh(l)}(this))})}),this.gu=new YB(r,i)}}async function eh(t){if(ko(t))for(const e of t.wu)await e(!0)}async function lu(t){for(const e of t.wu)await e(!1)}function QT(t,e){const n=ue(t);n.du.has(e.targetId)||(n.du.set(e.targetId,e),xy(n)?Cy(n):js(n).ko()&&Iy(n,e))}function YT(t,e){const n=ue(t),r=js(n);n.du.delete(e),r.ko()&&XT(n,e),n.du.size===0&&(r.ko()?r.Fo():ko(n)&&n.gu.set("Unknown"))}function Iy(t,e){t.yu.Ot(e.targetId),js(t).zo(e)}function XT(t,e){t.yu.Ot(e),js(t).Ho(e)}function Cy(t){t.yu=new JU({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>t.du.get(e)||null}),js(t).start(),t.gu.uu()}function xy(t){return ko(t)&&!js(t).No()&&t.du.size>0}function ko(t){return ue(t)._u.size===0}function JT(t){t.yu=void 0}async function JB(t){t.du.forEach((e,n)=>{Iy(t,e)})}async function ZB(t,e){JT(t),xy(t)?(t.gu.hu(e),Cy(t)):t.gu.set("Unknown")}async function e2(t,e,n){if(t.gu.set("Online"),e instanceof FT&&e.state===2&&e.cause)try{await async function(r,i){const o=i.cause;for(const s of i.targetIds)r.du.has(s)&&(await r.remoteSyncer.rejectListen(s,o),r.du.delete(s),r.yu.removeTarget(s))}(t,e)}catch(r){K("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await md(t,r)}else if(e instanceof wc?t.yu.Kt(e):e instanceof $T?t.yu.Jt(e):t.yu.jt(e),!n.isEqual(ae.min()))try{const r=await GT(t.localStore);n.compareTo(r)>=0&&await function(i,o){const s=i.yu.Zt(o);return s.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const u=i.du.get(l);u&&i.du.set(l,u.withResumeToken(a.resumeToken,o))}}),s.targetMismatches.forEach(a=>{const l=i.du.get(a);if(!l)return;i.du.set(a,l.withResumeToken(jt.EMPTY_BYTE_STRING,l.snapshotVersion)),XT(i,a);const u=new oo(l.target,a,1,l.sequenceNumber);Iy(i,u)}),i.remoteSyncer.applyRemoteEvent(s)}(t,n)}catch(r){K("RemoteStore","Failed to raise snapshot:",r),await md(t,r)}}async function md(t,e,n){if(!ou(e))throw e;t._u.add(1),await lu(t),t.gu.set("Offline"),n||(n=()=>GT(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{K("RemoteStore","Retrying IndexedDB access"),await n(),t._u.delete(1),await eh(t)})}function ZT(t,e){return e().catch(n=>md(t,n,e))}async function th(t){const e=ue(t),n=Ei(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;t2(e);)try{const i=await UB(e.localStore,r);if(i===null){e.fu.length===0&&n.Fo();break}r=i.batchId,n2(e,i)}catch(i){await md(e,i)}eD(e)&&tD(e)}function t2(t){return ko(t)&&t.fu.length<10}function n2(t,e){t.fu.push(e);const n=Ei(t);n.ko()&&n.Yo&&n.Xo(e.mutations)}function eD(t){return ko(t)&&!Ei(t).No()&&t.fu.length>0}function tD(t){Ei(t).start()}async function r2(t){Ei(t).eu()}async function i2(t){const e=Ei(t);for(const n of t.fu)e.Xo(n.mutations)}async function o2(t,e,n){const r=t.fu.shift(),i=wy.from(r,e,n);await ZT(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await th(t)}async function s2(t,e){e&&Ei(t).Yo&&await async function(n,r){if(i=r.code,qU(i)&&i!==M.ABORTED){const o=n.fu.shift();Ei(n).Mo(),await ZT(n,()=>n.remoteSyncer.rejectFailedWrite(o.batchId,r)),await th(n)}var i}(t,e),eD(t)&&tD(t)}async function gS(t,e){const n=ue(t);n.asyncQueue.verifyOperationInProgress(),K("RemoteStore","RemoteStore received new credentials");const r=ko(n);n._u.add(3),await lu(n),r&&n.gu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n._u.delete(3),await eh(n)}async function a2(t,e){const n=ue(t);e?(n._u.delete(2),await eh(n)):e||(n._u.add(2),await lu(n),n.gu.set("Unknown"))}function js(t){return t.pu||(t.pu=function(e,n,r){const i=ue(e);return i.su(),new qB(n,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(t.datastore,t.asyncQueue,{Yr:JB.bind(null,t),Zr:ZB.bind(null,t),Wo:e2.bind(null,t)}),t.wu.push(async e=>{e?(t.pu.Mo(),xy(t)?Cy(t):t.gu.set("Unknown")):(await t.pu.stop(),JT(t))})),t.pu}function Ei(t){return t.Iu||(t.Iu=function(e,n,r){const i=ue(e);return i.su(),new KB(n,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(t.datastore,t.asyncQueue,{Yr:r2.bind(null,t),Zr:s2.bind(null,t),tu:i2.bind(null,t),Zo:o2.bind(null,t)}),t.wu.push(async e=>{e?(t.Iu.Mo(),await th(t)):(await t.Iu.stop(),t.fu.length>0&&(K("RemoteStore",`Stopping write stream with ${t.fu.length} pending writes`),t.fu=[]))})),t.Iu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new ci,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new Ty(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new te(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Dy(t,e){if(Nr("AsyncQueue",`${e}: ${t}`),ou(t))return new te(M.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Z.comparator(n.key,r.key):(n,r)=>Z.comparator(n.key,r.key),this.keyedMap=Ea(),this.sortedSet=new ut(this.comparator)}static emptySet(e){return new as(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof as)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new as;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(){this.Tu=new ut(Z.comparator)}track(e){const n=e.doc.key,r=this.Tu.get(n);r?e.type!==0&&r.type===3?this.Tu=this.Tu.insert(n,e):e.type===3&&r.type!==1?this.Tu=this.Tu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Tu=this.Tu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Tu=this.Tu.remove(n):e.type===1&&r.type===2?this.Tu=this.Tu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):oe():this.Tu=this.Tu.insert(n,e)}Eu(){const e=[];return this.Tu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ts{constructor(e,n,r,i,o,s,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new Ts(e,n,as.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(){this.Au=void 0,this.listeners=[]}}class u2{constructor(){this.queries=new Vs(e=>ST(e),Qf),this.onlineState="Unknown",this.Ru=new Set}}async function c2(t,e){const n=ue(t),r=e.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new l2),i)try{o.Au=await n.onListen(r)}catch(s){const a=Dy(s,`Initialization of query '${om(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,o),o.listeners.push(e),e.bu(n.onlineState),o.Au&&e.Pu(o.Au)&&ky(n)}async function d2(t,e){const n=ue(t),r=e.query;let i=!1;const o=n.queries.get(r);if(o){const s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),i=o.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function f2(t,e){const n=ue(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.listeners)a.Pu(i)&&(r=!0);s.Au=i}}r&&ky(n)}function h2(t,e,n){const r=ue(t),i=r.queries.get(e);if(i)for(const o of i.listeners)o.onError(n);r.queries.delete(e)}function ky(t){t.Ru.forEach(e=>{e.next()})}class p2{constructor(e,n,r){this.query=e,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ts(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),n=!0):this.Cu(e,this.onlineState)&&(this.xu(e),n=!0),this.Su=e,n}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let n=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),n=!0),n}Cu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Nu||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Du(e){if(e.docChanges.length>0)return!0;const n=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}xu(e){e=Ts.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(e){this.key=e}}class rD{constructor(e){this.key=e}}class g2{constructor(e,n){this.query=e,this.qu=n,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=ge(),this.mutatedKeys=ge(),this.Gu=ET(e),this.Qu=new as(this.Gu)}get ju(){return this.qu}Wu(e,n){const r=n?n.zu:new mS,i=n?n.Qu:this.Qu;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{const c=i.get(d),h=vy(this.query,f)?f:null,p=!!c&&this.mutatedKeys.has(c.key),v=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let b=!1;c&&h?c.data.isEqual(h.data)?p!==v&&(r.track({type:3,doc:h}),b=!0):this.Hu(c,h)||(r.track({type:2,doc:h}),b=!0,(l&&this.Gu(h,l)>0||u&&this.Gu(h,u)<0)&&(a=!0)):!c&&h?(r.track({type:0,doc:h}),b=!0):c&&!h&&(r.track({type:1,doc:c}),b=!0,(l||u)&&(a=!0)),b&&(h?(s=s.add(h),o=v?o.add(d):o.delete(d)):(s=s.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{Qu:s,zu:r,$i:a,mutatedKeys:o}}Hu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const o=e.zu.Eu();o.sort((u,d)=>function(f,c){const h=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return oe()}};return h(f)-h(c)}(u.type,d.type)||this.Gu(u.doc,d.doc)),this.Ju(r);const s=n?this.Yu():[],a=this.Ku.size===0&&this.current?1:0,l=a!==this.Uu;return this.Uu=a,o.length!==0||l?{snapshot:new Ts(this.query,e.Qu,i,o,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Xu:s}:{Xu:s}}bu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new mS,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(n=>this.qu=this.qu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.qu=this.qu.delete(n)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=ge(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const n=[];return e.forEach(r=>{this.Ku.has(r)||n.push(new rD(r))}),this.Ku.forEach(r=>{e.has(r)||n.push(new nD(r))}),n}tc(e){this.qu=e.Hi,this.Ku=ge();const n=this.Wu(e.documents);return this.applyChanges(n,!0)}ec(){return Ts.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,this.Uu===0,this.hasCachedResults)}}class m2{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class v2{constructor(e){this.key=e,this.nc=!1}}class y2{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.sc={},this.ic=new Vs(a=>ST(a),Qf),this.rc=new Map,this.oc=new Set,this.uc=new ut(Z.comparator),this.cc=new Map,this.ac=new by,this.hc={},this.lc=new Map,this.fc=xs.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return this.dc===!0}}async function w2(t,e){const n=_2(t);let r,i;const o=n.ic.get(e);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.ec();else{const s=await BB(n.localStore,Or(e));n.isPrimaryClient&&QT(n.remoteStore,s);const a=n.sharedClientState.addLocalQueryTarget(s.targetId);r=s.targetId,i=await b2(n,e,r,a==="current",s.resumeToken)}return i}async function b2(t,e,n,r,i){t._c=(f,c,h)=>async function(p,v,b,m){let g=v.view.Wu(b);g.$i&&(g=await fS(p.localStore,v.query,!1).then(({documents:x})=>v.view.Wu(x,g)));const y=m&&m.targetChanges.get(v.targetId),w=v.view.applyChanges(g,p.isPrimaryClient,y);return yS(p,v.targetId,w.Xu),w.snapshot}(t,f,c,h);const o=await fS(t.localStore,e,!0),s=new g2(e,o.Hi),a=s.Wu(o.documents),l=au.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(a,t.isPrimaryClient,l);yS(t,n,u.Xu);const d=new m2(e,n,s);return t.ic.set(e,d),t.rc.has(n)?t.rc.get(n).push(e):t.rc.set(n,[e]),u.snapshot}async function S2(t,e){const n=ue(t),r=n.ic.get(e),i=n.rc.get(r.targetId);if(i.length>1)return n.rc.set(r.targetId,i.filter(o=>!Qf(o,e))),void n.ic.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await um(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),YT(n.remoteStore,r.targetId),cm(n,r.targetId)}).catch(iu)):(cm(n,r.targetId),await um(n.localStore,r.targetId,!0))}async function E2(t,e,n){const r=R2(t);try{const i=await function(o,s){const a=ue(o),l=at.now(),u=s.reduce((c,h)=>c.add(h.key),ge());let d,f;return a.persistence.runTransaction("Locally write mutations","readwrite",c=>{let h=Lr(),p=ge();return a.Gi.getEntries(c,u).next(v=>{h=v,h.forEach((b,m)=>{m.isValidDocument()||(p=p.add(b))})}).next(()=>a.localDocuments.getOverlayedDocuments(c,h)).next(v=>{d=v;const b=[];for(const m of s){const g=WU(m,d.get(m.key).overlayedDocument);g!=null&&b.push(new Ni(m.key,g,bT(g.value.mapValue),ar.exists(!0)))}return a.mutationQueue.addMutationBatch(c,l,b,s)}).next(v=>{f=v;const b=v.applyToLocalDocumentSet(d,p);return a.documentOverlayCache.saveOverlays(c,v.batchId,b)})}).then(()=>({batchId:f.batchId,changes:OT(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,s,a){let l=o.hc[o.currentUser.toKey()];l||(l=new ut(Te)),l=l.insert(s,a),o.hc[o.currentUser.toKey()]=l}(r,i.batchId,n),await uu(r,i.changes),await th(r.remoteStore)}catch(i){const o=Dy(i,"Failed to persist write");n.reject(o)}}async function iD(t,e){const n=ue(t);try{const r=await $B(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.cc.get(o);s&&(Oe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.nc=!0:i.modifiedDocuments.size>0?Oe(s.nc):i.removedDocuments.size>0&&(Oe(s.nc),s.nc=!1))}),await uu(n,r,e)}catch(r){await iu(r)}}function vS(t,e,n){const r=ue(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ic.forEach((o,s)=>{const a=s.view.bu(e);a.snapshot&&i.push(a.snapshot)}),function(o,s){const a=ue(o);a.onlineState=s;let l=!1;a.queries.forEach((u,d)=>{for(const f of d.listeners)f.bu(s)&&(l=!0)}),l&&ky(a)}(r.eventManager,e),i.length&&r.sc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function I2(t,e,n){const r=ue(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.cc.get(e),o=i&&i.key;if(o){let s=new ut(Z.comparator);s=s.insert(o,Mt.newNoDocument(o,ae.min()));const a=ge().add(o),l=new Jf(ae.min(),new Map,new lt(Te),s,a);await iD(r,l),r.uc=r.uc.remove(o),r.cc.delete(e),_y(r)}else await um(r.localStore,e,!1).then(()=>cm(r,e,n)).catch(iu)}async function C2(t,e){const n=ue(t),r=e.batch.batchId;try{const i=await MB(n.localStore,e);sD(n,r,null),oD(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await uu(n,i)}catch(i){await iu(i)}}async function x2(t,e,n){const r=ue(t);try{const i=await function(o,s){const a=ue(o);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return a.mutationQueue.lookupMutationBatch(l,s).next(d=>(Oe(d!==null),u=d.keys(),a.mutationQueue.removeMutationBatch(l,d))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,u,s)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>a.localDocuments.getDocuments(l,u))})}(r.localStore,e);sD(r,e,n),oD(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await uu(r,i)}catch(i){await iu(i)}}function oD(t,e){(t.lc.get(e)||[]).forEach(n=>{n.resolve()}),t.lc.delete(e)}function sD(t,e,n){const r=ue(t);let i=r.hc[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.hc[r.currentUser.toKey()]=i}}function cm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.rc.get(e))t.ic.delete(r),n&&t.sc.wc(r,n);t.rc.delete(e),t.isPrimaryClient&&t.ac.ls(e).forEach(r=>{t.ac.containsKey(r)||aD(t,r)})}function aD(t,e){t.oc.delete(e.path.canonicalString());const n=t.uc.get(e);n!==null&&(YT(t.remoteStore,n),t.uc=t.uc.remove(e),t.cc.delete(n),_y(t))}function yS(t,e,n){for(const r of n)r instanceof nD?(t.ac.addReference(r.key,e),T2(t,r)):r instanceof rD?(K("SyncEngine","Document no longer in limbo: "+r.key),t.ac.removeReference(r.key,e),t.ac.containsKey(r.key)||aD(t,r.key)):oe()}function T2(t,e){const n=e.key,r=n.path.canonicalString();t.uc.get(n)||t.oc.has(r)||(K("SyncEngine","New document in limbo: "+n),t.oc.add(r),_y(t))}function _y(t){for(;t.oc.size>0&&t.uc.size<t.maxConcurrentLimboResolutions;){const e=t.oc.values().next().value;t.oc.delete(e);const n=new Z(He.fromString(e)),r=t.fc.next();t.cc.set(r,new v2(n)),t.uc=t.uc.insert(n,r),QT(t.remoteStore,new oo(Or(my(n.path)),r,2,fy.at))}}async function uu(t,e,n){const r=ue(t),i=[],o=[],s=[];r.ic.isEmpty()||(r.ic.forEach((a,l)=>{s.push(r._c(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const d=Ey.Ci(l.targetId,u);o.push(d)}}))}),await Promise.all(s),r.sc.Wo(i),await async function(a,l){const u=ue(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>O.forEach(l,f=>O.forEach(f.Si,c=>u.persistence.referenceDelegate.addReference(d,f.targetId,c)).next(()=>O.forEach(f.Di,c=>u.persistence.referenceDelegate.removeReference(d,f.targetId,c)))))}catch(d){if(!ou(d))throw d;K("LocalStore","Failed to update sequence numbers: "+d)}for(const d of l){const f=d.targetId;if(!d.fromCache){const c=u.qi.get(f),h=c.snapshotVersion,p=c.withLastLimboFreeSnapshotVersion(h);u.qi=u.qi.insert(f,p)}}}(r.localStore,o))}async function D2(t,e){const n=ue(t);if(!n.currentUser.isEqual(e)){K("SyncEngine","User change. New user:",e.toKey());const r=await HT(n.localStore,e);n.currentUser=e,function(i,o){i.lc.forEach(s=>{s.forEach(a=>{a.reject(new te(M.CANCELLED,o))})}),i.lc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await uu(n,r.ji)}}function k2(t,e){const n=ue(t),r=n.cc.get(e);if(r&&r.nc)return ge().add(r.key);{let i=ge();const o=n.rc.get(e);if(!o)return i;for(const s of o){const a=n.ic.get(s);i=i.unionWith(a.view.ju)}return i}}function _2(t){const e=ue(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=iD.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=k2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=I2.bind(null,e),e.sc.Wo=f2.bind(null,e.eventManager),e.sc.wc=h2.bind(null,e.eventManager),e}function R2(t){const e=ue(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=C2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=x2.bind(null,e),e}class A2{constructor(){this.synchronizeTabs=!1}async initialize(e){this.yt=Zf(e.databaseInfo.databaseId),this.sharedClientState=this.gc(e),this.persistence=this.yc(e),await this.persistence.start(),this.localStore=this.Ic(e),this.gcScheduler=this.Tc(e,this.localStore),this.indexBackfillerScheduler=this.Ec(e,this.localStore)}Tc(e,n){return null}Ec(e,n){return null}Ic(e){return LB(this.persistence,new NB,e.initialUser,this.yt)}yc(e){return new AB(Sy.Bs,this.yt)}gc(e){return new jB}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class P2{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>vS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=D2.bind(null,this.syncEngine),await a2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new u2}createDatastore(e){const n=Zf(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new GB(i));var i;return function(o,s,a,l){return new QB(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,o=a=>vS(this.syncEngine,a,0),s=pS.C()?new pS:new zB,new XB(n,r,i,o,s);var n,r,i,o,s}createSyncEngine(e,n){return function(r,i,o,s,a,l,u){const d=new y2(r,i,o,s,a,l);return u&&(d.dc=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=ue(e);K("RemoteStore","RemoteStore shutting down."),n._u.add(5),await lu(n),n.mu.shutdown(),n.gu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N2(t,e,n){if(!n)throw new te(M.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function O2(t,e,n,r){if(e===!0&&r===!0)throw new te(M.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function wS(t){if(!Z.isDocumentKey(t))throw new te(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Ry(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":oe()}function bo(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new te(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ry(t);throw new te(M.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bS=new Map;class SS{constructor(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new te(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new te(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,O2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new SS({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new te(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new te(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new SS(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new iU;switch(n.type){case"gapi":const r=n.client;return new lU(r,n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new te(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=bS.get(e);n&&(K("ComponentProvider","Removing Datastore"),bS.delete(e),n.terminate())}(this),Promise.resolve()}}function L2(t,e,n,r={}){var i;const o=(t=bo(t,Ay))._getSettings();if(o.host!=="firestore.googleapis.com"&&o.host!==e&&Zg("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},o),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let s,a;if(typeof r.mockUserToken=="string")s=r.mockUserToken,a=Ot.MOCK_USER;else{s=gC(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new te(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new Ot(l)}t._authCredentials=new oU(new uT(s,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Cl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pn(this.firestore,e,this._key)}}class Py{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Py(this.firestore,e,this._query)}}class Cl extends Py{constructor(e,n,r){super(e,n,my(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pn(this.firestore,null,new Z(e))}withConverter(e){return new Cl(this.firestore,e,this._path)}}function Ii(t,e,...n){if(t=nt(t),arguments.length===1&&(e=cT.R()),N2("doc","path",e),t instanceof Ay){const r=He.fromString(e,...n);return wS(r),new pn(t,null,new Z(r))}{if(!(t instanceof pn||t instanceof Cl))throw new te(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(He.fromString(e,...n));return wS(r),new pn(t.firestore,t instanceof Cl?t.converter:null,new Z(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):Nr("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ot.UNAUTHENTICATED,this.clientId=cT.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{K("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(K("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new te(M.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ci;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Dy(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function F2(t,e){t.asyncQueue.verifyOperationInProgress(),K("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await HT(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}async function U2(t,e){t.asyncQueue.verifyOperationInProgress();const n=await B2(t);K("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>gS(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,o)=>gS(e.remoteStore,o)),t.onlineComponents=e}async function B2(t){return t.offlineComponents||(K("FirestoreClient","Using default OfflineComponentProvider"),await F2(t,new A2)),t.offlineComponents}async function lD(t){return t.onlineComponents||(K("FirestoreClient","Using default OnlineComponentProvider"),await U2(t,new P2)),t.onlineComponents}function V2(t){return lD(t).then(e=>e.syncEngine)}async function j2(t){const e=await lD(t),n=e.eventManager;return n.onListen=w2.bind(null,e.syncEngine),n.onUnlisten=S2.bind(null,e.syncEngine),n}function z2(t,e,n={}){const r=new ci;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,s,a,l){const u=new M2({next:f=>{o.enqueueAndForget(()=>d2(i,d));const c=f.docs.has(s);!c&&f.fromCache?l.reject(new te(M.UNAVAILABLE,"Failed to get document because the client is offline.")):c&&f.fromCache&&a&&a.source==="server"?l.reject(new te(M.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(f)},error:f=>l.reject(f)}),d=new p2(my(s.path),u,{includeMetadataChanges:!0,Nu:!0});return c2(i,d)}(await j2(t),t.asyncQueue,e,n,r)),r.promise}class W2{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new qT(this,"async_queue_retry"),this.Wc=()=>{const n=up();n&&K("AsyncQueue","Visibility state changed to "+n.visibilityState),this.xo.Po()};const e=up();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const n=up();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const n=new ci;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}async Jc(){if(this.Lc.length!==0){try{await this.Lc[0](),this.Lc.shift(),this.xo.reset()}catch(e){if(!ou(e))throw e;K("AsyncQueue","Operation failed with retryable error: "+e)}this.Lc.length>0&&this.xo.Ro(()=>this.Jc())}}Hc(e){const n=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{this.Kc=r,this.Gc=!1;const i=function(o){let s=o.message||"";return o.stack&&(s=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),s}(r);throw Nr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Gc=!1,r))));return this.Bc=n,n}enqueueAfterDelay(e,n,r){this.zc(),this.jc.indexOf(e)>-1&&(n=0);const i=Ty.createAndSchedule(this,e,n,r,o=>this.Yc(o));return this.Uc.push(i),i}zc(){this.Kc&&oe()}verifyOperationInProgress(){}async Xc(){let e;do e=this.Bc,await e;while(e!==this.Bc)}Zc(e){for(const n of this.Uc)if(n.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Uc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const n=this.Uc.indexOf(e);this.Uc.splice(n,1)}}class nh extends Ay{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new W2,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||cD(this),this._firestoreClient.terminate()}}function H2(t,e){const n=typeof t=="object"?t:Tv(),r=typeof t=="string"?t:e||"(default)",i=af(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=hC("firestore");o&&L2(i,...o)}return i}function uD(t){return t._firestoreClient||cD(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function cD(t){var e;const n=t._freezeSettings(),r=function(i,o,s,a){return new yU(i,o,s,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new $2(t._authCredentials,t._appCheckCredentials,t._queue,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ds(jt.fromBase64String(e))}catch(n){throw new te(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ds(jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new te(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new te(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new te(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Te(this._lat,e._lat)||Te(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G2=/^__.*__$/;class q2{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ni(e,this.data,this.fieldMask,n,this.fieldTransforms):new su(e,this.data,n,this.fieldTransforms)}}class dD{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ni(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function fD(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw oe()}}class Ly{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.yt=r,this.ignoreUndefinedProperties=i,o===void 0&&this.na(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new Ly(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ia({path:r,oa:!1});return i.ua(e),i}ca(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ia({path:r,oa:!1});return i.na(),i}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return vd(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(e.length===0)throw this.ha("Document fields must not be empty");if(fD(this.sa)&&G2.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class K2{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.yt=r||Zf(e)}da(e,n,r,i=!1){return new Ly({sa:e,methodName:n,fa:r,path:$t.emptyPath(),oa:!1,la:i},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function hD(t){const e=t._freezeSettings(),n=Zf(t._databaseId);return new K2(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Q2(t,e,n,r,i,o={}){const s=t.da(o.merge||o.mergeFields?2:0,e,n,i);My("Data must be an object, but it was:",s,r);const a=pD(r,s);let l,u;if(o.merge)l=new cn(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const d=[];for(const f of o.mergeFields){const c=dm(e,f,n);if(!s.contains(c))throw new te(M.INVALID_ARGUMENT,`Field '${c}' is specified in your field mask but missing from your input data.`);mD(d,c)||d.push(c)}l=new cn(d),u=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=s.fieldTransforms;return new q2(new en(a),l,u)}class ih extends Ny{_toFieldTransform(e){if(e.sa!==2)throw e.sa===1?e.ha(`${this._methodName}() can only appear at the top level of your update data`):e.ha(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ih}}function Y2(t,e,n,r){const i=t.da(1,e,n);My("Data must be an object, but it was:",i,r);const o=[],s=en.empty();Do(r,(l,u)=>{const d=$y(e,l,n);u=nt(u);const f=i.ca(d);if(u instanceof ih)o.push(d);else{const c=oh(u,f);c!=null&&(o.push(d),s.set(d,c))}});const a=new cn(o);return new dD(s,a,i.fieldTransforms)}function X2(t,e,n,r,i,o){const s=t.da(1,e,n),a=[dm(e,r,n)],l=[i];if(o.length%2!=0)throw new te(M.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let c=0;c<o.length;c+=2)a.push(dm(e,o[c])),l.push(o[c+1]);const u=[],d=en.empty();for(let c=a.length-1;c>=0;--c)if(!mD(u,a[c])){const h=a[c];let p=l[c];p=nt(p);const v=s.ca(h);if(p instanceof ih)u.push(h);else{const b=oh(p,v);b!=null&&(u.push(h),d.set(h,b))}}const f=new cn(u);return new dD(d,f,s.fieldTransforms)}function oh(t,e){if(gD(t=nt(t)))return My("Unsupported field value:",e,t),pD(t,e);if(t instanceof Ny)return function(n,r){if(!fD(r.sa))throw r.ha(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.oa&&e.sa!==4)throw e.ha("Nested arrays are not supported");return function(n,r){const i=[];let o=0;for(const s of n){let a=oh(s,r.aa(o));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),o++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=nt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return FU(r.yt,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=at.fromDate(n);return{timestampValue:gd(r.yt,i)}}if(n instanceof at){const i=new at(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:gd(r.yt,i)}}if(n instanceof Oy)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ds)return{bytesValue:UT(r.yt,n._byteString)};if(n instanceof pn){const i=r.databaseId,o=n.firestore._databaseId;if(!o.isEqual(i))throw r.ha(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:yy(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.ha(`Unsupported field value: ${Ry(n)}`)}(t,e)}function pD(t,e){const n={};return dT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Do(t,(r,i)=>{const o=oh(i,e.ra(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function gD(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof at||t instanceof Oy||t instanceof Ds||t instanceof pn||t instanceof Ny)}function My(t,e,n){if(!gD(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=Ry(n);throw r==="an object"?e.ha(t+" a custom object"):e.ha(t+" "+r)}}function dm(t,e,n){if((e=nt(e))instanceof rh)return e._internalPath;if(typeof e=="string")return $y(t,e);throw vd("Field path arguments must be of type string or ",t,!1,void 0,n)}const J2=new RegExp("[~\\*/\\[\\]]");function $y(t,e,n){if(e.search(J2)>=0)throw vd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new rh(...e.split("."))._internalPath}catch{throw vd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function vd(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new te(M.INVALID_ARGUMENT,a+t+l)}function mD(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new pn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Z2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(yD("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Z2 extends vD{data(){return super.data()}}function yD(t,e){return typeof e=="string"?$y(t,e):e instanceof rh?e._internalPath:e._delegate._internalPath}class eV{convertValue(e,n="none"){switch(wo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ze(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Es(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw oe()}}convertObject(e,n){const r={};return Do(e.fields,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new Oy(Ze(e.latitude),Ze(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=hT(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(bl(e));default:return null}}convertTimestamp(e){const n=Si(e);return new at(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=He.fromString(e);Oe(WT(r));const i=new wl(r.get(1),r.get(3)),o=new Z(r.popFirst(5));return i.isEqual(n)||Nr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tV(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class wD extends vD{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new rV(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(yD("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class rV extends wD{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fy(t){t=bo(t,pn);const e=bo(t.firestore,nh);return z2(uD(e),t._key).then(n=>oV(e,t,n))}class iV extends eV{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ds(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new pn(this.firestore,null,n)}}function ES(t,e,n){t=bo(t,pn);const r=bo(t.firestore,nh),i=tV(t.converter,e,n);return bD(r,[Q2(hD(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,ar.none())])}function Uy(t,e,n,...r){t=bo(t,pn);const i=bo(t.firestore,nh),o=hD(i);let s;return s=typeof(e=nt(e))=="string"||e instanceof rh?X2(o,"updateDoc",t._key,e,n,r):Y2(o,"updateDoc",t._key,e),bD(i,[s.toMutation(t._key,ar.exists(!0))])}function bD(t,e){return function(n,r){const i=new ci;return n.asyncQueue.enqueueAndForget(async()=>E2(await V2(n),r,i)),i.promise}(uD(t),e)}function oV(t,e,n){const r=n.docs.get(e._key),i=new iV(t);return new wD(t,i,e._key,r,new nV(n.hasPendingWrites,n.fromCache),e.converter)}(function(t,e=!0){(function(n){Bs=n})(Ms),go(new yi("firestore",(n,{instanceIdentifier:r,options:i})=>{const o=n.getProvider("app").getImmediate(),s=new nh(new sU(n.getProvider("auth-internal")),new cU(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new te(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wl(a.options.projectId,l)}(o,r),o);return i=Object.assign({useFetchStreams:e},i),s._setSettings(i),s},"PUBLIC").setMultipleInstances(!0)),ir(qb,"3.8.1",t),ir(qb,"3.8.1","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD="firebasestorage.googleapis.com",ED="storageBucket",sV=2*60*1e3,aV=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe extends hr{constructor(e,n,r=0){super(cp(e),`Firebase Storage: ${n} (${cp(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,qe.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return cp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}function cp(t){return"storage/"+t}function By(){const t="An unknown error occurred, please check the error payload for server response.";return new qe("unknown",t)}function lV(t){return new qe("object-not-found","Object '"+t+"' does not exist.")}function uV(t){return new qe("quota-exceeded","Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function cV(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new qe("unauthenticated",t)}function dV(){return new qe("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function fV(t){return new qe("unauthorized","User does not have permission to access '"+t+"'.")}function hV(){return new qe("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function pV(){return new qe("canceled","User canceled the upload/download.")}function gV(t){return new qe("invalid-url","Invalid URL '"+t+"'.")}function mV(t){return new qe("invalid-default-bucket","Invalid default bucket '"+t+"'.")}function vV(){return new qe("no-default-bucket","No default bucket found. Did you set the '"+ED+"' property when initializing the app?")}function yV(){return new qe("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function wV(){return new qe("no-download-url","The given file does not have any download URLs.")}function bV(t){return new qe("unsupported-environment",`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function fm(t){return new qe("invalid-argument",t)}function ID(){return new qe("app-deleted","The Firebase app was deleted.")}function SV(t){return new qe("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ba(t,e){return new qe("invalid-format","String does not match format '"+t+"': "+e)}function aa(t){throw new qe("internal-error","Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=dn.makeFromUrl(e,n)}catch{return new dn(e,"")}if(r.path==="")return r;throw mV(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(w){w.path.charAt(w.path.length-1)==="/"&&(w.path_=w.path_.slice(0,-1))}const s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),l={bucket:1,path:3};function u(w){w.path_=decodeURIComponent(w.path)}const d="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),c="(/([^?#]*).*)?$",h=new RegExp(`^https?://${f}/${d}/b/${i}/o${c}`,"i"),p={bucket:1,path:3},v=n===SD?"(?:storage.googleapis.com|storage.cloud.google.com)":n,b="([^?#]*)",m=new RegExp(`^https?://${v}/${i}/${b}`,"i"),y=[{regex:a,indices:l,postModify:o},{regex:h,indices:p,postModify:u},{regex:m,indices:{bucket:1,path:2},postModify:u}];for(let w=0;w<y.length;w++){const x=y[w],D=x.regex.exec(e);if(D){const R=D[x.indices.bucket];let A=D[x.indices.path];A||(A=""),r=new dn(R,A),x.postModify(r);break}}if(r==null)throw gV(e);return r}}class EV{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IV(t,e,n){let r=1,i=null,o=null,s=!1,a=0;function l(){return a===2}let u=!1;function d(...b){u||(u=!0,e.apply(null,b))}function f(b){i=setTimeout(()=>{i=null,t(h,l())},b)}function c(){o&&clearTimeout(o)}function h(b,...m){if(u){c();return}if(b){c(),d.call(null,b,...m);return}if(l()||s){c(),d.call(null,b,...m);return}r<64&&(r*=2);let y;a===1?(a=2,y=0):y=(r+Math.random())*1e3,f(y)}let p=!1;function v(b){p||(p=!0,c(),!u&&(i!==null?(b||(a=2),clearTimeout(i),f(0)):b||(a=1)))}return f(0),o=setTimeout(()=>{s=!0,v(!0)},n),v}function CV(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xV(t){return t!==void 0}function TV(t){return typeof t=="object"&&!Array.isArray(t)}function Vy(t){return typeof t=="string"||t instanceof String}function IS(t){return jy()&&t instanceof Blob}function jy(){return typeof Blob<"u"&&!AN()}function CS(t,e,n,r){if(r<e)throw fm(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw fm(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zy(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function CD(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var so;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(so||(so={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DV(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kV{constructor(e,n,r,i,o,s,a,l,u,d,f,c=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=f,this.retry=c,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((h,p)=>{this.resolve_=h,this.reject_=p,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Qu(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const s=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const a=o.getErrorCode()===so.NO_ERROR,l=o.getStatus();if(!a||DV(l,this.additionalRetryCodes_)&&this.retry){const d=o.getErrorCode()===so.ABORT;r(!1,new Qu(!1,null,d));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new Qu(u,o))})},n=(r,i)=>{const o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());xV(l)?o(l):o()}catch(l){s(l)}else if(a!==null){const l=By();l.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,l)):s(l)}else if(i.canceled){const l=this.appDelete_?ID():pV();s(l)}else{const l=hV();s(l)}};this.canceled_?n(!1,new Qu(!1,null,!0)):this.backoffId_=IV(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&CV(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Qu{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function _V(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function RV(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function AV(t,e){e&&(t["X-Firebase-GMPID"]=e)}function PV(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function NV(t,e,n,r,i,o,s=!0){const a=CD(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return AV(u,e),_V(u,n),RV(u,o),PV(u,r),new kV(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OV(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function LV(...t){const e=OV();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(jy())return new Blob(t);throw new qe("unsupported-environment","This browser doesn't seem to support creating Blobs")}}function MV(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $V(t){if(typeof atob>"u")throw bV("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const er={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class dp{constructor(e,n){this.data=e,this.contentType=n||null}}function FV(t,e){switch(t){case er.RAW:return new dp(xD(e));case er.BASE64:case er.BASE64URL:return new dp(TD(t,e));case er.DATA_URL:return new dp(BV(e),VV(e))}throw By()}function xD(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,s=t.charCodeAt(++n);r=65536|(o&1023)<<10|s&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function UV(t){let e;try{e=decodeURIComponent(t)}catch{throw Ba(er.DATA_URL,"Malformed data URL.")}return xD(e)}function TD(t,e){switch(t){case er.BASE64:{const i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw Ba(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case er.BASE64URL:{const i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw Ba(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=$V(e)}catch(i){throw i.message.includes("polyfill")?i:Ba(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class DD{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Ba(er.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=jV(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function BV(t){const e=new DD(t);return e.base64?TD(er.BASE64,e.rest):UV(e.rest)}function VV(t){return new DD(t).contentType}function jV(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e,n){let r=0,i="";IS(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(IS(this.data_)){const r=this.data_,i=MV(r,e,n);return i===null?null:new Yr(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Yr(r,!0)}}static getBlob(...e){if(jy()){const n=e.map(r=>r instanceof Yr?r.data_:r);return new Yr(LV.apply(null,n))}else{const n=e.map(s=>Vy(s)?FV(er.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(s=>{for(let a=0;a<s.length;a++)i[o++]=s[a]}),new Yr(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kD(t){let e;try{e=JSON.parse(t)}catch{return null}return TV(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zV(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function WV(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function _D(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HV(t,e){return e}class zt{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||HV}}let Yu=null;function GV(t){return!Vy(t)||t.length<2?t:_D(t)}function RD(){if(Yu)return Yu;const t=[];t.push(new zt("bucket")),t.push(new zt("generation")),t.push(new zt("metageneration")),t.push(new zt("name","fullPath",!0));function e(o,s){return GV(s)}const n=new zt("name");n.xform=e,t.push(n);function r(o,s){return s!==void 0?Number(s):s}const i=new zt("size");return i.xform=r,t.push(i),t.push(new zt("timeCreated")),t.push(new zt("updated")),t.push(new zt("md5Hash",null,!0)),t.push(new zt("cacheControl",null,!0)),t.push(new zt("contentDisposition",null,!0)),t.push(new zt("contentEncoding",null,!0)),t.push(new zt("contentLanguage",null,!0)),t.push(new zt("contentType",null,!0)),t.push(new zt("metadata","customMetadata",!0)),Yu=t,Yu}function qV(t,e){function n(){const r=t.bucket,i=t.fullPath,o=new dn(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function KV(t,e,n){const r={};r.type="file";const i=n.length;for(let o=0;o<i;o++){const s=n[o];r[s.local]=s.xform(r,e[s.server])}return qV(r,t),r}function AD(t,e,n){const r=kD(e);return r===null?null:KV(t,r,n)}function QV(t,e,n,r){const i=kD(e);if(i===null||!Vy(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const s=encodeURIComponent;return o.split(",").map(u=>{const d=t.bucket,f=t.fullPath,c="/b/"+s(d)+"/o/"+s(f),h=zy(c,n,r),p=CD({alt:"media",token:u});return h+p})[0]}function YV(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class PD{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ND(t){if(!t)throw By()}function XV(t,e){function n(r,i){const o=AD(t,i,e);return ND(o!==null),o}return n}function JV(t,e){function n(r,i){const o=AD(t,i,e);return ND(o!==null),QV(o,i,t.host,t._protocol)}return n}function OD(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=dV():i=cV():n.getStatus()===402?i=uV(t.bucket):n.getStatus()===403?i=fV(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function ZV(t){const e=OD(t);function n(r,i){let o=e(r,i);return r.getStatus()===404&&(o=lV(t.path)),o.serverResponse=i.serverResponse,o}return n}function ej(t,e,n){const r=e.fullServerUrl(),i=zy(r,t.host,t._protocol),o="GET",s=t.maxOperationRetryTime,a=new PD(i,o,JV(t,n),s);return a.errorHandler=ZV(e),a}function tj(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function nj(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=tj(null,e)),r}function rj(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function a(){let y="";for(let w=0;w<2;w++)y=y+Math.random().toString().slice(2);return y}const l=a();s["Content-Type"]="multipart/related; boundary="+l;const u=nj(e,r,i),d=YV(u,n),f="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,c=`\r
--`+l+"--",h=Yr.getBlob(f,r,c);if(h===null)throw yV();const p={name:u.fullPath},v=zy(o,t.host,t._protocol),b="POST",m=t.maxUploadRetryTime,g=new PD(v,b,XV(t,n),m);return g.urlParams=p,g.headers=s,g.body=h.uploadData(),g.errorHandler=OD(e),g}class ij{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=so.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=so.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=so.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw aa("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw aa("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw aa("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw aa("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw aa("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class oj extends ij{initXhr(){this.xhr_.responseType="text"}}function LD(){return new oj}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e,n){this._service=e,n instanceof dn?this._location=n:this._location=dn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new So(e,n)}get root(){const e=new dn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return _D(this._location.path)}get storage(){return this._service}get parent(){const e=zV(this._location.path);if(e===null)return null;const n=new dn(this._location.bucket,e);return new So(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw SV(e)}}function sj(t,e,n){t._throwIfRoot("uploadBytes");const r=rj(t.storage,t._location,RD(),new Yr(e,!0),n);return t.storage.makeRequestWithTokens(r,LD).then(i=>({metadata:i,ref:t}))}function aj(t){t._throwIfRoot("getDownloadURL");const e=ej(t.storage,t._location,RD());return t.storage.makeRequestWithTokens(e,LD).then(n=>{if(n===null)throw wV();return n})}function lj(t,e){const n=WV(t._location.path,e),r=new dn(t._location.bucket,n);return new So(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uj(t){return/^[A-Za-z]+:\/\//.test(t)}function cj(t,e){return new So(t,e)}function MD(t,e){if(t instanceof Wy){const n=t;if(n._bucket==null)throw vV();const r=new So(n,n._bucket);return e!=null?MD(r,e):r}else return e!==void 0?lj(t,e):t}function dj(t,e){if(e&&uj(e)){if(t instanceof Wy)return cj(t,e);throw fm("To use ref(service, url), the first argument must be a Storage instance.")}else return MD(t,e)}function xS(t,e){const n=e==null?void 0:e[ED];return n==null?null:dn.makeFromBucketSpec(n,t)}function fj(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:gC(i,t.app.options.projectId))}class Wy{constructor(e,n,r,i,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=SD,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=sV,this._maxUploadRetryTime=aV,this._requests=new Set,i!=null?this._bucket=dn.makeFromBucketSpec(i,this._host):this._bucket=xS(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=dn.makeFromBucketSpec(this._url,e):this._bucket=xS(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){CS("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){CS("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new So(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new EV(ID());{const s=NV(e,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const TS="@firebase/storage",DS="0.10.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D="storage";function hj(t,e,n){return t=nt(t),sj(t,e,n)}function pj(t){return t=nt(t),aj(t)}function FD(t,e){return t=nt(t),dj(t,e)}function gj(t=Tv(),e){t=nt(t);const r=af(t,$D).getImmediate({identifier:e}),i=hC("storage");return i&&mj(r,...i),r}function mj(t,e,n,r={}){fj(t,e,n,r)}function vj(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Wy(n,r,i,e,Ms)}function yj(){go(new yi($D,vj,"PUBLIC").setMultipleInstances(!0)),ir(TS,DS,""),ir(TS,DS,"esm2017")}yj();const wj={apiKey:"AIzaSyB0-_zacpUv4UgS4nRnV59LJTljLfhP7TE",authDomain:"vite-todo-53d02.firebaseapp.com",projectId:"vite-todo-53d02",storageBucket:"vite-todo-53d02.appspot.com",messagingSenderId:"664005411065",appId:"1:664005411065:web:628c0faecbe5aacb896228",measurementId:"G-KHD5F05BWD"},UD=yC(wj),Ci=H2(UD),bj=gj(UD),Sj=FD(bj,"image"),BD={works:[{id:crypto.randomUUID(),title:"Your first work!",items:[{id:crypto.randomUUID(),name:"Hello"}]},{id:crypto.randomUUID(),title:"Your second work!",items:[{id:crypto.randomUUID(),name:"World"}]}],fetchStatus:"idle",isFirstRender:!0},sh=ZM(),VD=async(t,e)=>{if(!e)return"";const n=FD(Sj,t),r=await hj(n,e);return await pj(r.ref)},Ej=async({name:t,email:e,password:n,photo:r},i)=>{try{const o=await OL(sh,e,n),{uid:s}=o.user,a=await VD(s,r[0]);await ES(Ii(Ci,"works",s),{todoList:[],workList:BD.works}),await ES(Ii(Ci,"members",s),{name:t,email:e,password:n,uid:s,url:a}),i({name:t,uid:s,url:a,isSign:!0})}catch(o){console.log(o)}},Ij=async({email:t,password:e})=>{await LL(sh,t,e)},Cj=()=>UL(sh),xj=async t=>(await Fy(Ii(Ci,"members",t))).data(),Tj=async t=>{const e=await Fy(Ii(Ci,"works",t)),{todoList:n}=e.data();return n},Dj=async t=>{const e=await Fy(Ii(Ci,"works",t)),{workList:n}=e.data();return n},kj=async(t,e)=>{await Uy(Ii(Ci,"works",t),{workList:e})},la=async(t,e)=>{await Uy(Ii(Ci,"works",t),{todoList:e})},_j=async(t,e,n,r)=>{const i=e.files;if(!i[0].type.includes("image")){alert("請上傳圖片");return}const o=await VD(t.uid,i[0]);await Uy(Ii(Ci,"members",t.uid),{name:n,url:o}),r(s=>({...s,name:n,url:o}))},kS="/vite-todo-list/save.png";function Rj({url:t,name:e,clickHandler:n}){const{member:r,setMember:i}=I.useContext(Ri),[o,s]=I.useState(e),[a,l]=I.useState(t||kS),u=I.useRef(null),d=h=>{s(h.target.value)},f=h=>{h.target.files&&(h.target.files[0]?l(URL.createObjectURL(h.target.files[0])):l(kS))},c=async()=>{u.current&&(_j(r,u.current,o,i),n())};return be("div",{className:"w-[300px] h-[300px] flex flex-col justify-center items-center p-5 text-center bg-white rounded-[10px] ",children:[P("p",{className:"my-2",children:"點擊 / 拖曳預覽"}),P("div",{className:"w-[100px] h-[100px] rounded-full overflow-hidden box-border border-2 border-black/40",children:P("label",{htmlFor:"newFile",className:"block relative bg-cover",style:{backgroundImage:`url(${a})`},children:P("input",{id:"newFile",onChange:f,ref:u,type:"file",accept:"image/*",className:"opacity-0 w-[100px] h-[100px]"})})}),P("input",{type:"text",value:o,onChange:d,className:"p-2 my-2 border border-slate-500 rounded-[10px]"}),be("div",{className:"flex",children:[P("button",{type:"button",className:"bg-amber-300 py-1 px-5 mr-3 rounded-[5px] hover:bg-orange-500 hover:text-white",onClick:c,children:"送出"}),P("button",{type:"button",className:"bg-slate-300 py-1 px-5 rounded-[5px] hover:bg-slate-500 hover:text-white",onClick:n,children:"返回"})]})]})}function Aj({url:t,name:e,handleCloseModal:n}){const[r,i]=I.useState(!1),o=()=>i(s=>!s);return P("div",{className:"absolute bg-black/20 inset-0 flex justify-center items-center cursor-default",onClick:n,onKeyDown:n,role:"button",tabIndex:0,children:r?P(Rj,{url:t,name:e,clickHandler:o}):be("div",{className:"w-[300px] h-[300px] flex flex-col justify-center items-center p-5 text-center bg-white rounded-[10px] ",children:[P("div",{className:"w-[100px] h-[100px] rounded-full overflow-hidden box-border border-2 border-black/40",children:P("img",{src:t||"https://cdn-icons-png.flaticon.com/512/847/847969.png",alt:"avatar"})}),P("h2",{className:"my-5 text-2xl",children:e}),P("button",{type:"button",className:"bg-slate-300 py-1 px-5 rounded-[5px] hover:bg-slate-500 hover:text-white",onClick:o,children:"修改資料"})]})})}const _S=document.querySelector("#modal");function Hy(){const{member:t,setMember:e}=I.useContext(Ri),[n,r]=I.useState(!1),i=()=>{Cj(),e({name:"",uid:"",url:"",isSign:!1})},o=()=>{r(!0)},s=a=>{a.target===a.currentTarget&&r(!1)};return be("header",{className:"absolute top-0 w-full h-[50px] px-[20px] py-[10px] flex items-center justify-between",children:[P(sx,{isBig:!1}),be("div",{className:"flex items-center",children:[t.url&&P("div",{className:"w-[40px] h-[40px] mr-[10px] rounded-full cursor-pointer overflow-hidden",role:"button",tabIndex:0,onClick:o,onKeyDown:o,children:P("img",{src:t.url,alt:"avatar"})}),P("div",{className:"font-semibold hidden cursor-pointer sm:block",role:"button",tabIndex:0,onClick:o,onKeyDown:o,children:t.name}),P(Z$,{clickHandler:i})]}),n&&_S&&ao.createPortal(P(Aj,{handleCloseModal:s,url:t.url,name:t.name}),_S)]})}function Gy(){return P("footer",{className:"w-full absolute bottom-1 text-center bg-gray-100 h-5 leading-5",children:"© 2023 Yang-Min, Hsu"})}var cu=t=>t.type==="checkbox",Yo=t=>t instanceof Date,qt=t=>t==null;const jD=t=>typeof t=="object";var mt=t=>!qt(t)&&!Array.isArray(t)&&jD(t)&&!Yo(t),Pj=t=>mt(t)&&t.target?cu(t.target)?t.target.checked:t.target.value:t,Nj=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,Oj=(t,e)=>t.has(Nj(e)),du=t=>Array.isArray(t)?t.filter(Boolean):[],et=t=>t===void 0,H=(t,e,n)=>{if(!e||!mt(t))return n;const r=du(e.split(/[,[\].]+?/)).reduce((i,o)=>qt(i)?i:i[o],t);return et(r)||r===t?et(t[e])?n:t[e]:r};const RS={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Vn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},vr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};pe.createContext(null);var Lj=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const o in t)Object.defineProperty(i,o,{get:()=>{const s=o;return e._proxyFormState[s]!==Vn.all&&(e._proxyFormState[s]=!r||Vn.all),n&&(n[s]=!0),t[s]}});return i},Cn=t=>mt(t)&&!Object.keys(t).length,Mj=(t,e,n)=>{const{name:r,...i}=t;return Cn(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(o=>e[o]===(!n||Vn.all))},fp=t=>Array.isArray(t)?t:[t];function $j(t){const e=pe.useRef(t);e.current=t,pe.useEffect(()=>{const n=!t.disabled&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}var tr=t=>typeof t=="string",Fj=(t,e,n,r,i)=>tr(t)?(r&&e.watch.add(t),H(n,t,i)):Array.isArray(t)?t.map(o=>(r&&e.watch.add(o),H(n,o))):(r&&(e.watchAll=!0),n),Uj=t=>{const e=t.constructor&&t.constructor.prototype;return mt(e)&&e.hasOwnProperty("isPrototypeOf")},qy=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ji(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(qy&&(t instanceof Blob||t instanceof FileList))&&(n||mt(t)))if(e=n?[]:{},!Array.isArray(t)&&!Uj(t))e=t;else for(const r in t)e[r]=ji(t[r]);else return t;return e}var Bj=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},Ky=t=>/^\w*$/.test(t),zD=t=>du(t.replace(/["|']|\]/g,"").split(/\.|\[/));function $e(t,e,n){let r=-1;const i=Ky(e)?[e]:zD(e),o=i.length,s=o-1;for(;++r<o;){const a=i[r];let l=n;if(r!==s){const u=t[a];l=mt(u)||Array.isArray(u)?u:isNaN(+i[r+1])?{}:[]}t[a]=l,t=t[a]}return t}const hm=(t,e,n)=>{for(const r of n||Object.keys(t)){const i=H(t,r);if(i){const{_f:o,...s}=i;if(o&&e(o.name)){if(o.ref.focus){o.ref.focus();break}else if(o.refs&&o.refs[0].focus){o.refs[0].focus();break}}else mt(s)&&hm(s,e)}}};var AS=t=>({isOnSubmit:!t||t===Vn.onSubmit,isOnBlur:t===Vn.onBlur,isOnChange:t===Vn.onChange,isOnAll:t===Vn.all,isOnTouch:t===Vn.onTouched}),PS=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length)))),Vj=(t,e,n)=>{const r=du(H(t,n));return $e(r,"root",e[n]),$e(t,n,r),t},ls=t=>typeof t=="boolean",Qy=t=>t.type==="file",us=t=>typeof t=="function",yd=t=>{if(!qy)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},bc=t=>tr(t)||pe.isValidElement(t),Yy=t=>t.type==="radio",wd=t=>t instanceof RegExp;const NS={value:!1,isValid:!1},OS={value:!0,isValid:!0};var WD=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!et(t[0].attributes.value)?et(t[0].value)||t[0].value===""?OS:{value:t[0].value,isValid:!0}:OS:NS}return NS};const LS={isValid:!1,value:null};var HD=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,LS):LS;function MS(t,e,n="validate"){if(bc(t)||Array.isArray(t)&&t.every(bc)||ls(t)&&!t)return{type:n,message:bc(t)?t:"",ref:e}}var Ao=t=>mt(t)&&!wd(t)?t:{value:t,message:""},$S=async(t,e,n,r,i)=>{const{ref:o,refs:s,required:a,maxLength:l,minLength:u,min:d,max:f,pattern:c,validate:h,name:p,valueAsNumber:v,mount:b,disabled:m}=t._f;if(!b||m)return{};const g=s?s[0]:o,y=U=>{r&&g.reportValidity&&(g.setCustomValidity(ls(U)?"":U||""),g.reportValidity())},w={},x=Yy(o),D=cu(o),R=x||D,A=(v||Qy(o))&&et(o.value)&&et(e)||yd(o)&&o.value===""||e===""||Array.isArray(e)&&!e.length,$=Bj.bind(null,p,n,w),F=(U,ee,re,Y=vr.maxLength,Ie=vr.minLength)=>{const xe=U?ee:re;w[p]={type:U?Y:Ie,message:xe,ref:o,...$(U?Y:Ie,xe)}};if(i?!Array.isArray(e)||!e.length:a&&(!R&&(A||qt(e))||ls(e)&&!e||D&&!WD(s).isValid||x&&!HD(s).isValid)){const{value:U,message:ee}=bc(a)?{value:!!a,message:a}:Ao(a);if(U&&(w[p]={type:vr.required,message:ee,ref:g,...$(vr.required,ee)},!n))return y(ee),w}if(!A&&(!qt(d)||!qt(f))){let U,ee;const re=Ao(f),Y=Ao(d);if(!qt(e)&&!isNaN(e)){const Ie=o.valueAsNumber||e&&+e;qt(re.value)||(U=Ie>re.value),qt(Y.value)||(ee=Ie<Y.value)}else{const Ie=o.valueAsDate||new Date(e),xe=X=>new Date(new Date().toDateString()+" "+X),ct=o.type=="time",L=o.type=="week";tr(re.value)&&e&&(U=ct?xe(e)>xe(re.value):L?e>re.value:Ie>new Date(re.value)),tr(Y.value)&&e&&(ee=ct?xe(e)<xe(Y.value):L?e<Y.value:Ie<new Date(Y.value))}if((U||ee)&&(F(!!U,re.message,Y.message,vr.max,vr.min),!n))return y(w[p].message),w}if((l||u)&&!A&&(tr(e)||i&&Array.isArray(e))){const U=Ao(l),ee=Ao(u),re=!qt(U.value)&&e.length>U.value,Y=!qt(ee.value)&&e.length<ee.value;if((re||Y)&&(F(re,U.message,ee.message),!n))return y(w[p].message),w}if(c&&!A&&tr(e)){const{value:U,message:ee}=Ao(c);if(wd(U)&&!e.match(U)&&(w[p]={type:vr.pattern,message:ee,ref:o,...$(vr.pattern,ee)},!n))return y(ee),w}if(h){if(us(h)){const U=await h(e),ee=MS(U,g);if(ee&&(w[p]={...ee,...$(vr.validate,ee.message)},!n))return y(ee.message),w}else if(mt(h)){let U={};for(const ee in h){if(!Cn(U)&&!n)break;const re=MS(await h[ee](e),g,ee);re&&(U={...re,...$(ee,re.message)},y(re.message),n&&(w[p]=U))}if(!Cn(U)&&(w[p]={ref:g,...U},!n))return w}}return y(!0),w};function jj(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=et(t)?r++:t[e[r++]];return t}function zj(t){for(const e in t)if(!et(t[e]))return!1;return!0}function Ht(t,e){const n=Ky(e)?[e]:zD(e),r=n.length==1?t:jj(t,n),i=n[n.length-1];let o;r&&delete r[i];for(let s=0;s<n.slice(0,-1).length;s++){let a=-1,l;const u=n.slice(0,-(s+1)),d=u.length-1;for(s>0&&(o=t);++a<u.length;){const f=u[a];l=l?l[f]:t[f],d===a&&(mt(l)&&Cn(l)||Array.isArray(l)&&zj(l))&&(o?delete o[f]:delete t[f]),o=l}}return t}function hp(){let t=[];return{get observers(){return t},next:i=>{for(const o of t)o.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(o=>o!==i)}}),unsubscribe:()=>{t=[]}}}var bd=t=>qt(t)||!jD(t);function eo(t,e){if(bd(t)||bd(e))return t===e;if(Yo(t)&&Yo(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const o=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const s=e[i];if(Yo(o)&&Yo(s)||mt(o)&&mt(s)||Array.isArray(o)&&Array.isArray(s)?!eo(o,s):o!==s)return!1}}return!0}var GD=t=>t.type==="select-multiple",Wj=t=>Yy(t)||cu(t),pp=t=>yd(t)&&t.isConnected,qD=t=>{for(const e in t)if(us(t[e]))return!0;return!1};function Sd(t,e={}){const n=Array.isArray(t);if(mt(t)||n)for(const r in t)Array.isArray(t[r])||mt(t[r])&&!qD(t[r])?(e[r]=Array.isArray(t[r])?[]:{},Sd(t[r],e[r])):qt(t[r])||(e[r]=!0);return e}function KD(t,e,n){const r=Array.isArray(t);if(mt(t)||r)for(const i in t)Array.isArray(t[i])||mt(t[i])&&!qD(t[i])?et(e)||bd(n[i])?n[i]=Array.isArray(t[i])?Sd(t[i],[]):{...Sd(t[i])}:KD(t[i],qt(e)?{}:e[i],n[i]):eo(t[i],e[i])?delete n[i]:n[i]=!0;return n}var gp=(t,e)=>KD(t,e,Sd(e)),QD=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>et(t)?t:e?t===""?NaN:t&&+t:n&&tr(t)?new Date(t):r?r(t):t;function mp(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return Qy(e)?e.files:Yy(e)?HD(t.refs).value:GD(e)?[...e.selectedOptions].map(({value:n})=>n):cu(e)?WD(t.refs).value:QD(et(e.value)?t.ref.value:e.value,t)}var Hj=(t,e,n,r)=>{const i={};for(const o of t){const s=H(e,o);s&&$e(i,o,s._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},ua=t=>et(t)?t:wd(t)?t.source:mt(t)?wd(t.value)?t.value.source:t.value:t,Gj=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function FS(t,e,n){const r=H(t,n);if(r||Ky(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const o=i.join("."),s=H(e,o),a=H(t,o);if(s&&!Array.isArray(s)&&n!==o)return{name:n};if(a&&a.type)return{name:o,error:a};i.pop()}return{name:n}}var qj=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,Kj=(t,e)=>!du(H(t,e)).length&&Ht(t,e);const Qj={mode:Vn.onSubmit,reValidateMode:Vn.onChange,shouldFocusError:!0};function Yj(t={},e){let n={...Qj,...t};const r=t.resetOptions&&t.resetOptions.keepDirtyValues;let i={submitCount:0,isDirty:!1,isLoading:!0,isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},o={},s=mt(n.defaultValues)?ji(n.defaultValues)||{}:{},a=n.shouldUnregister?{}:ji(s),l={action:!1,mount:!1,watch:!1},u={mount:new Set,unMount:new Set,array:new Set,watch:new Set},d,f=0;const c={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={watch:hp(),array:hp(),state:hp()},p=AS(n.mode),v=AS(n.reValidateMode),b=n.criteriaMode===Vn.all,m=E=>k=>{clearTimeout(f),f=window.setTimeout(E,k)},g=async()=>{if(c.isValid){const E=n.resolver?Cn((await $()).errors):await U(o,!0);E!==i.isValid&&(i.isValid=E,h.state.next({isValid:E}))}},y=E=>c.isValidating&&h.state.next({isValidating:E}),w=(E,k=[],_,j,C=!0,S=!0)=>{if(j&&_){if(l.action=!0,S&&Array.isArray(H(o,E))){const T=_(H(o,E),j.argA,j.argB);C&&$e(o,E,T)}if(S&&Array.isArray(H(i.errors,E))){const T=_(H(i.errors,E),j.argA,j.argB);C&&$e(i.errors,E,T),Kj(i.errors,E)}if(c.touchedFields&&S&&Array.isArray(H(i.touchedFields,E))){const T=_(H(i.touchedFields,E),j.argA,j.argB);C&&$e(i.touchedFields,E,T)}c.dirtyFields&&(i.dirtyFields=gp(s,a)),h.state.next({name:E,isDirty:re(E,k),dirtyFields:i.dirtyFields,errors:i.errors,isValid:i.isValid})}else $e(a,E,k)},x=(E,k)=>{$e(i.errors,E,k),h.state.next({errors:i.errors})},D=(E,k,_,j)=>{const C=H(o,E);if(C){const S=H(a,E,et(_)?H(s,E):_);et(S)||j&&j.defaultChecked||k?$e(a,E,k?S:mp(C._f)):xe(E,S),l.mount&&g()}},R=(E,k,_,j,C)=>{let S=!1,T=!1;const z={name:E};if(!_||j){c.isDirty&&(T=i.isDirty,i.isDirty=z.isDirty=re(),S=T!==z.isDirty);const B=eo(H(s,E),k);T=H(i.dirtyFields,E),B?Ht(i.dirtyFields,E):$e(i.dirtyFields,E,!0),z.dirtyFields=i.dirtyFields,S=S||c.dirtyFields&&T!==!B}if(_){const B=H(i.touchedFields,E);B||($e(i.touchedFields,E,_),z.touchedFields=i.touchedFields,S=S||c.touchedFields&&B!==_)}return S&&C&&h.state.next(z),S?z:{}},A=(E,k,_,j)=>{const C=H(i.errors,E),S=c.isValid&&ls(k)&&i.isValid!==k;if(t.delayError&&_?(d=m(()=>x(E,_)),d(t.delayError)):(clearTimeout(f),d=null,_?$e(i.errors,E,_):Ht(i.errors,E)),(_?!eo(C,_):C)||!Cn(j)||S){const T={...j,...S&&ls(k)?{isValid:k}:{},errors:i.errors,name:E};i={...i,...T},h.state.next(T)}y(!1)},$=async E=>await n.resolver(a,n.context,Hj(E||u.mount,o,n.criteriaMode,n.shouldUseNativeValidation)),F=async E=>{const{errors:k}=await $();if(E)for(const _ of E){const j=H(k,_);j?$e(i.errors,_,j):Ht(i.errors,_)}else i.errors=k;return k},U=async(E,k,_={valid:!0})=>{for(const j in E){const C=E[j];if(C){const{_f:S,...T}=C;if(S){const z=u.array.has(S.name),B=await $S(C,H(a,S.name),b,n.shouldUseNativeValidation,z);if(B[S.name]&&(_.valid=!1,k))break;!k&&(H(B,S.name)?z?Vj(i.errors,B,S.name):$e(i.errors,S.name,B[S.name]):Ht(i.errors,S.name))}T&&await U(T,k,_)}}return _.valid},ee=()=>{for(const E of u.unMount){const k=H(o,E);k&&(k._f.refs?k._f.refs.every(_=>!pp(_)):!pp(k._f.ref))&&rt(E)}u.unMount=new Set},re=(E,k)=>(E&&k&&$e(a,E,k),!eo(ve(),s)),Y=(E,k,_)=>Fj(E,u,{...l.mount?a:et(k)?s:tr(E)?{[E]:k}:k},_,k),Ie=E=>du(H(l.mount?a:s,E,t.shouldUnregister?H(s,E,[]):[])),xe=(E,k,_={})=>{const j=H(o,E);let C=k;if(j){const S=j._f;S&&(!S.disabled&&$e(a,E,QD(k,S)),C=yd(S.ref)&&qt(k)?"":k,GD(S.ref)?[...S.ref.options].forEach(T=>T.selected=C.includes(T.value)):S.refs?cu(S.ref)?S.refs.length>1?S.refs.forEach(T=>(!T.defaultChecked||!T.disabled)&&(T.checked=Array.isArray(C)?!!C.find(z=>z===T.value):C===T.value)):S.refs[0]&&(S.refs[0].checked=!!C):S.refs.forEach(T=>T.checked=T.value===C):Qy(S.ref)?S.ref.value="":(S.ref.value=C,S.ref.type||h.watch.next({name:E})))}(_.shouldDirty||_.shouldTouch)&&R(E,C,_.shouldTouch,_.shouldDirty,!0),_.shouldValidate&&q(E)},ct=(E,k,_)=>{for(const j in k){const C=k[j],S=`${E}.${j}`,T=H(o,S);(u.array.has(E)||!bd(C)||T&&!T._f)&&!Yo(C)?ct(S,C,_):xe(S,C,_)}},L=(E,k,_={})=>{const j=H(o,E),C=u.array.has(E),S=ji(k);$e(a,E,S),C?(h.array.next({name:E,values:a}),(c.isDirty||c.dirtyFields)&&_.shouldDirty&&(i.dirtyFields=gp(s,a),h.state.next({name:E,dirtyFields:i.dirtyFields,isDirty:re(E,S)}))):j&&!j._f&&!qt(S)?ct(E,S,_):xe(E,S,_),PS(E,u)&&h.state.next({}),h.watch.next({name:E}),!l.mount&&e()},X=async E=>{const k=E.target;let _=k.name;const j=H(o,_),C=()=>k.type?mp(j._f):Pj(E);if(j){let S,T;const z=C(),B=E.type===RS.BLUR||E.type===RS.FOCUS_OUT,ce=!Gj(j._f)&&!n.resolver&&!H(i.errors,_)&&!j._f.deps||qj(B,H(i.touchedFields,_),i.isSubmitted,v,p),le=PS(_,u,B);$e(a,_,z),B?(j._f.onBlur&&j._f.onBlur(E),d&&d(0)):j._f.onChange&&j._f.onChange(E);const he=R(_,z,B,!1),se=!Cn(he)||le;if(!B&&h.watch.next({name:_,type:E.type}),ce)return c.isValid&&g(),se&&h.state.next({name:_,...le?{}:he});if(!B&&le&&h.state.next({}),y(!0),n.resolver){const{errors:Ye}=await $([_]),ye=FS(i.errors,o,_),Re=FS(Ye,o,ye.name||_);S=Re.error,_=Re.name,T=Cn(Ye)}else S=(await $S(j,H(a,_),b,n.shouldUseNativeValidation))[_],S?T=!1:c.isValid&&(T=await U(o,!0));j._f.deps&&q(j._f.deps),A(_,T,S,he)}},q=async(E,k={})=>{let _,j;const C=fp(E);if(y(!0),n.resolver){const S=await F(et(E)?E:C);_=Cn(S),j=E?!C.some(T=>H(S,T)):_}else E?(j=(await Promise.all(C.map(async S=>{const T=H(o,S);return await U(T&&T._f?{[S]:T}:T)}))).every(Boolean),!(!j&&!i.isValid)&&g()):j=_=await U(o);return h.state.next({...!tr(E)||c.isValid&&_!==i.isValid?{}:{name:E},...n.resolver||!E?{isValid:_}:{},errors:i.errors,isValidating:!1}),k.shouldFocus&&!j&&hm(o,S=>S&&H(i.errors,S),E?C:u.mount),j},ve=E=>{const k={...s,...l.mount?a:{}};return et(E)?k:tr(E)?H(k,E):E.map(_=>H(k,_))},fe=(E,k)=>({invalid:!!H((k||i).errors,E),isDirty:!!H((k||i).dirtyFields,E),isTouched:!!H((k||i).touchedFields,E),error:H((k||i).errors,E)}),Jt=E=>{E?fp(E).forEach(k=>Ht(i.errors,k)):i.errors={},h.state.next({errors:i.errors})},Rt=(E,k,_)=>{const j=(H(o,E,{_f:{}})._f||{}).ref;$e(i.errors,E,{...k,ref:j}),h.state.next({name:E,errors:i.errors,isValid:!1}),_&&_.shouldFocus&&j&&j.focus&&j.focus()},Qe=(E,k)=>us(E)?h.watch.subscribe({next:_=>E(Y(void 0,k),_)}):Y(E,k,!0),rt=(E,k={})=>{for(const _ of E?fp(E):u.mount)u.mount.delete(_),u.array.delete(_),H(o,_)&&(k.keepValue||(Ht(o,_),Ht(a,_)),!k.keepError&&Ht(i.errors,_),!k.keepDirty&&Ht(i.dirtyFields,_),!k.keepTouched&&Ht(i.touchedFields,_),!n.shouldUnregister&&!k.keepDefaultValue&&Ht(s,_));h.watch.next({}),h.state.next({...i,...k.keepDirty?{isDirty:re()}:{}}),!k.keepIsValid&&g()},wt=(E,k={})=>{let _=H(o,E);const j=ls(k.disabled);return $e(o,E,{..._||{},_f:{..._&&_._f?_._f:{ref:{name:E}},name:E,mount:!0,...k}}),u.mount.add(E),_?j&&$e(a,E,k.disabled?void 0:H(a,E,mp(_._f))):D(E,!0,k.value),{...j?{disabled:k.disabled}:{},...n.shouldUseNativeValidation?{required:!!k.required,min:ua(k.min),max:ua(k.max),minLength:ua(k.minLength),maxLength:ua(k.maxLength),pattern:ua(k.pattern)}:{},name:E,onChange:X,onBlur:X,ref:C=>{if(C){wt(E,k),_=H(o,E);const S=et(C.value)&&C.querySelectorAll&&C.querySelectorAll("input,select,textarea")[0]||C,T=Wj(S),z=_._f.refs||[];if(T?z.find(B=>B===S):S===_._f.ref)return;$e(o,E,{_f:{..._._f,...T?{refs:[...z.filter(pp),S,...Array.isArray(H(s,E))?[{}]:[]],ref:{type:S.type,name:E}}:{ref:S}}}),D(E,!1,void 0,S)}else _=H(o,E,{}),_._f&&(_._f.mount=!1),(n.shouldUnregister||k.shouldUnregister)&&!(Oj(u.array,E)&&l.action)&&u.unMount.add(E)}}},On=()=>n.shouldFocusError&&hm(o,E=>E&&H(i.errors,E),u.mount),pr=(E,k)=>async _=>{_&&(_.preventDefault&&_.preventDefault(),_.persist&&_.persist());let j=!0,C=ji(a);h.state.next({isSubmitting:!0});try{if(n.resolver){const{errors:S,values:T}=await $();i.errors=S,C=T}else await U(o);Cn(i.errors)?(h.state.next({errors:{},isSubmitting:!0}),await E(C,_)):(k&&await k({...i.errors},_),On())}catch(S){throw j=!1,S}finally{i.isSubmitted=!0,h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Cn(i.errors)&&j,submitCount:i.submitCount+1,errors:i.errors})}},sn=(E,k={})=>{H(o,E)&&(et(k.defaultValue)?L(E,H(s,E)):(L(E,k.defaultValue),$e(s,E,k.defaultValue)),k.keepTouched||Ht(i.touchedFields,E),k.keepDirty||(Ht(i.dirtyFields,E),i.isDirty=k.defaultValue?re(E,H(s,E)):re()),k.keepError||(Ht(i.errors,E),c.isValid&&g()),h.state.next({...i}))},gr=(E,k={})=>{const _=E||s,j=ji(_),C=E&&!Cn(E)?j:s;if(k.keepDefaultValues||(s=_),!k.keepValues){if(k.keepDirtyValues||r)for(const S of u.mount)H(i.dirtyFields,S)?$e(C,S,H(a,S)):L(S,H(C,S));else{if(qy&&et(E))for(const S of u.mount){const T=H(o,S);if(T&&T._f){const z=Array.isArray(T._f.refs)?T._f.refs[0]:T._f.ref;if(yd(z)){const B=z.closest("form");if(B){B.reset();break}}}}o={}}a=t.shouldUnregister?k.keepDefaultValues?ji(s):{}:j,h.array.next({values:C}),h.watch.next({values:C})}u={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!l.mount&&e(),l.mount=!c.isValid||!!k.keepIsValid,l.watch=!!t.shouldUnregister,h.state.next({submitCount:k.keepSubmitCount?i.submitCount:0,isDirty:k.keepDirty||k.keepDirtyValues?i.isDirty:!!(k.keepDefaultValues&&!eo(E,s)),isSubmitted:k.keepIsSubmitted?i.isSubmitted:!1,dirtyFields:k.keepDirty||k.keepDirtyValues?i.dirtyFields:k.keepDefaultValues&&E?gp(s,E):{},touchedFields:k.keepTouched?i.touchedFields:{},errors:k.keepErrors?i.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},Li=(E,k)=>gr(us(E)?E(a):E,k),Ur=(E,k={})=>{const _=H(o,E),j=_&&_._f;if(j){const C=j.refs?j.refs[0]:j.ref;C.focus&&(C.focus(),k.shouldSelect&&C.select())}};return us(n.defaultValues)&&n.defaultValues().then(E=>{Li(E,n.resetOptions),h.state.next({isLoading:!1})}),{control:{register:wt,unregister:rt,getFieldState:fe,_executeSchema:$,_focusError:On,_getWatch:Y,_getDirty:re,_updateValid:g,_removeUnmounted:ee,_updateFieldArray:w,_getFieldArray:Ie,_reset:gr,_subjects:h,_proxyFormState:c,get _fields(){return o},get _formValues(){return a},get _stateFlags(){return l},set _stateFlags(E){l=E},get _defaultValues(){return s},get _names(){return u},set _names(E){u=E},get _formState(){return i},set _formState(E){i=E},get _options(){return n},set _options(E){n={...n,...E}}},trigger:q,register:wt,handleSubmit:pr,watch:Qe,setValue:L,getValues:ve,reset:Li,resetField:sn,clearErrors:Jt,unregister:rt,setError:Rt,setFocus:Ur,getFieldState:fe}}function Xj(t={}){const e=pe.useRef(),[n,r]=pe.useState({isDirty:!1,isValidating:!1,isLoading:!0,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:us(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...Yj(t,()=>r(o=>({...o}))),formState:n});const i=e.current.control;return i._options=t,$j({subject:i._subjects.state,next:o=>{Mj(o,i._proxyFormState,!0)&&(i._formState={...i._formState,...o},r({...i._formState}))}}),pe.useEffect(()=>{i._stateFlags.mount||(i._proxyFormState.isValid&&i._updateValid(),i._stateFlags.mount=!0),i._stateFlags.watch&&(i._stateFlags.watch=!1,i._subjects.state.next({})),i._removeUnmounted()}),pe.useEffect(()=>{t.values&&!eo(t.values,i._defaultValues)&&i._reset(t.values,i._options.resetOptions)},[t.values,i]),pe.useEffect(()=>{n.submitCount&&i._focusError()},[i,n.submitCount]),e.current.formState=Lj(n,i),e.current}const Yn={email:{title:"請輸入Email",verify:/^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z]+$/,error:"請輸入正確 email",type:"text",accept:"",placeHolder:"請輸入Email",require:!0,minLength:1},name:{title:"請輸入您的暱稱",verify:/^[^ ]*$/,error:"請勿輸入空白",type:"text",accept:"",placeHolder:"請輸入您的暱稱",require:!0,minLength:1},password:{title:"請輸入密碼",verify:/^[^ ]*$/,error:"密碼至少6位數",type:"password",accept:"",placeHolder:"請輸入密碼",require:!0,minLength:6},checkPassword:{title:"請再次輸入密碼",verify:/^[^ ]*$/,error:"密碼至少6位數",type:"password",accept:"",placeHolder:"請輸入密碼",require:!0,minLength:6},photo:{title:"可選擇是否上傳照片",verify:/./,error:"",type:"file",accept:"image/*",placeHolder:"",require:!1,minLength:1}};function YD({formData:t,submitHandler:e,isSignUp:n}){const{register:r,handleSubmit:i,reset:o,watch:s,formState:a,formState:{errors:l}}=Xj(),[u,d]=I.useState("");I.useEffect(()=>()=>{a.isSubmitSuccessful&&o(t.reduce((c,h)=>(c[h]="",c),{}))},[t,a,o]);const f=c=>{c.target.files&&(c.target.files[0]?d(URL.createObjectURL(c.target.files[0])):d(""))};return be("form",{onSubmit:i(e),className:"text-center",children:[t.map(c=>{var h,p,v,b;return be("div",{className:"text-left my-[20px]",children:[P("p",{className:"font-semibold text-sm mb-1",children:Yn[c].title}),P("input",{accept:Yn[c].accept,type:Yn[c].type,placeholder:Yn[c].placeHolder,...r(c,{required:{value:Yn[c].require,message:Yn[c].error},pattern:Yn[c].verify,minLength:{value:Yn[c].minLength,message:"密碼至少6位數"},validate:c==="checkPassword"?m=>{if(s("password")!==m)return"Your passwords do no match"}:void 0}),className:"w-full py-[12px] px-[16px] rounded-[10px]",autoComplete:c.includes("password")?"on":"",onChange:c==="photo"?f:()=>{}}),((h=l[c])==null?void 0:h.type)==="required"&&P("p",{className:"text-red-600",children:Yn[c].error}),((p=l[c])==null?void 0:p.type)==="pattern"&&P("p",{className:"text-red-600",children:Yn[c].error}),((v=l[c])==null?void 0:v.type)==="minLength"&&P("p",{className:"text-red-600",children:"密碼至少六位數"}),((b=l[c])==null?void 0:b.type)==="validate"&&P("p",{className:"text-red-600",children:"密碼不同"})]},c)}),u&&P("img",{src:u,alt:"upload-file",className:"max-w-[100px] max-h-[100px] pb-[12px] mt-[-20px]"}),P("button",{type:"submit",className:"w-[160px] h-[47px] rounded-[10px] bg-stone-800 text-white text-center",children:n?"註冊帳號":"登入"})]})}const Jj=["email","password"];function Zj(){return be(GE,{children:[P("h1",{className:"font-bold text-2xl",children:"最實用的線上代辦事項服務"}),P(YD,{formData:Jj,submitHandler:Ij,isSignUp:!1})]})}const e3=["email","name","password","checkPassword","photo"];function t3(){const{setMember:t}=I.useContext(Ri);return be(GE,{children:[P("h1",{className:"font-bold text-2xl",children:"註冊帳號"}),P(YD,{formData:e3,submitHandler:async n=>{const{name:r,email:i,password:o,photo:s}=n;Ej({name:r,email:i,password:o,photo:s},t)},isSignUp:!0})]})}const n3="/vite-todo-list/img.png";function r3(){const{member:t}=I.useContext(Ri),[e,n]=I.useState(!1),r=()=>n(o=>!o),i=Iv();return I.useEffect(()=>{t.isSign?i("todo"):i("/")},[i,t]),be("div",{className:"relative min-h-screen pt-[50px] pb-[20px] my-home-bg flex flex-col justify-center",children:[t.isSign&&P(Hy,{}),be("main",{className:"h-full flex flex-col md:flex-row items-center justify-center",children:[be("div",{className:"flex flex-col items-center",children:[P(sx,{isBig:!0}),P("img",{src:n3,alt:"Home",className:"mt-[20px] hidden md:inline-block"})]}),be("div",{className:"w-[300px] flex flex-col lg:ml-[150px] md:ml-[50px] ml-0 mt-5 text-center md:text-left",children:[e?P(t3,{}):P(Zj,{}),P("button",{className:"block w-[160px] h-[47px] mx-auto text-center",type:"button",onClick:r,children:e?"登入":"註冊帳號"})]})]}),P(Gy,{})]})}const i3="/vite-todo-list/plus 1.png",o3="/vite-todo-list/vector-x.png";function s3({todo:t,completed:e,id:n,triggerCompleted:r,removeItem:i}){return be("li",{className:"flex items-center justify-between",children:[P("div",{className:"py-[15px] border-b w-full overflow-auto","aria-hidden":"true",onClick:()=>r(n),children:be("label",{htmlFor:t,className:"flex items-center cursor-pointer",children:[P("input",{id:n,readOnly:!0,type:"checkbox",value:"true",checked:e,className:"w-[20px] h-[20px] mr-[16px] cursor-pointer"}),P("span",{className:`${e&&"line-through"}`,children:t})]})}),P("img",{"aria-hidden":"true",onClick:()=>i(n),src:o3,alt:"x",className:"w-[14px] h-[14px] mx-[17px] cursor-pointer"})]})}function a3({tab:t,todoList:e,triggerCompleted:n,removeItem:r}){let i=[];return t===1?i=e.filter(o=>!o.completed):t===2?i=e.filter(o=>o.completed):i=e,P("ul",{className:"pl-[24px] min-h-[300px] max-h-[300px] overflow-auto",children:i.length>0?i.map(o=>{const{todo:s,completed:a,id:l}=o;return P(s3,{id:l,todo:s,completed:a,triggerCompleted:n,removeItem:r},l)}):P("li",{className:"flex items-center justify-between",children:P("div",{className:"py-[15px] border-b w-full font-bold",children:"此欄位無項目"})})})}function l3({tabItem:t,currentTab:e,index:n,setTab:r}){return P("li",{"aria-hidden":"true",onClick:()=>r(n),className:`w-[33.33333%] text-center py-[15px] cursor-pointer ${e?"border-b-[2px] border-black":"border-b text-gray-400"}`,children:P("p",{children:t})})}function XD({path:t}){return P(bN,{to:`/${t}`,className:"inline-block w-[100px] text-center mx-auto px-2 py-2 mb-5 border-2 border-gray-500 rounded-xl font-semibold tracking-wider bg-slate-400 hover:bg-yellow-400 text-slate-100 hover:text-slate-700",children:t.toUpperCase()})}function xl(t,e){e(t.target.value)}const u3=["全部","待完成","已完成"];function c3(){const{member:t}=I.useContext(Ri),[e,n]=I.useState(""),[r,i]=I.useState([]),[o,s]=I.useState(0);I.useEffect(()=>{t.uid&&Tj(t.uid).then(c=>i(c))},[t.uid]);const a=c=>{if(c.key==="Enter"){if(e.trim()===""){alert("尚未輸入內容");return}const h=[...r,{todo:e,completed:!1,id:crypto.randomUUID()}];i(h),n(""),la(t.uid,h)}},l=()=>{if(e.trim()===""){alert("尚未輸入內容");return}const c=[...r,{todo:e,completed:!1,id:crypto.randomUUID()}];i(c),n(""),la(t.uid,c)},u=c=>{const h=r.map(p=>p.id===c?{...p,completed:!p.completed}:p);i(h),la(t.uid,h)},d=c=>{const h=r.filter(p=>p.id!==c);i(h),la(t.uid,h)},f=()=>{const c=r.filter(h=>!h.completed);i(c),la(t.uid,c)};return be("div",{className:"relative min-h-screen pt-[50px] pb-[20px] my-todo-bg flex flex-col justify-center",children:[t.isSign&&P(Hy,{}),P(XD,{path:"works"}),be("main",{className:"flex flex-col justify-center items-center",children:[be("div",{className:"relative flex items-center sm:w-[500px] w-[311px]",children:[P("input",{type:"text",placeholder:"請輸入待辦事項",className:"rounded-[10px] px-[16px] py-[12px] w-full",value:e,onChange:c=>xl(c,n),onKeyPress:a}),P("div",{"aria-hidden":"true",onClick:l,className:"absolute right-[4px]",children:P("img",{src:i3,alt:"plus",className:"cursor-pointer"})})]}),be("div",{className:"sm:w-[500px] w-[311px] bg-white rounded-[10px] shadow-md mt-[16px] text-gray-700 text-sm",children:[P("ul",{className:"flex font-semibold",children:u3.map((c,h)=>P(l3,{tabItem:c,currentTab:o===h,index:h,setTab:s},c))}),be("div",{children:[P(a3,{tab:o,todoList:r,triggerCompleted:u,removeItem:d}),be("div",{className:"flex items-center justify-between ml-[24px] mr-[48px] pt-[25px] pb-[32px]",children:[be("p",{children:[r.filter(c=>c.completed).length,"個已完成項目"]}),P("button",{onClick:f,type:"button",className:"text-gray-400 cursor-pointer",children:"清除已完成項目"})]})]})]})]}),P(Gy,{})]})}function pm(t,e){return pm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},pm(t,e)}function JD(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,pm(t,e)}function Tl(t){return Tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tl(t)}function d3(t,e){if(Tl(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Tl(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function f3(t){var e=d3(t,"string");return Tl(e)==="symbol"?e:String(e)}function h3(t,e,n){return e=f3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function US(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function BS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?US(Object(n),!0).forEach(function(r){h3(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):US(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Et(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var VS=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),vp=function(){return Math.random().toString(36).substring(7).split("").join(".")},Ed={INIT:"@@redux/INIT"+vp(),REPLACE:"@@redux/REPLACE"+vp(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+vp()}};function p3(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function Xy(t,e,n){var r;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Et(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Et(1));return n(Xy)(t,e)}if(typeof t!="function")throw new Error(Et(2));var i=t,o=e,s=[],a=s,l=!1;function u(){a===s&&(a=s.slice())}function d(){if(l)throw new Error(Et(3));return o}function f(v){if(typeof v!="function")throw new Error(Et(4));if(l)throw new Error(Et(5));var b=!0;return u(),a.push(v),function(){if(b){if(l)throw new Error(Et(6));b=!1,u();var g=a.indexOf(v);a.splice(g,1),s=null}}}function c(v){if(!p3(v))throw new Error(Et(7));if(typeof v.type>"u")throw new Error(Et(8));if(l)throw new Error(Et(9));try{l=!0,o=i(o,v)}finally{l=!1}for(var b=s=a,m=0;m<b.length;m++){var g=b[m];g()}return v}function h(v){if(typeof v!="function")throw new Error(Et(10));i=v,c({type:Ed.REPLACE})}function p(){var v,b=f;return v={subscribe:function(g){if(typeof g!="object"||g===null)throw new Error(Et(11));function y(){g.next&&g.next(d())}y();var w=b(y);return{unsubscribe:w}}},v[VS]=function(){return this},v}return c({type:Ed.INIT}),r={dispatch:c,subscribe:f,getState:d,replaceReducer:h},r[VS]=p,r}function g3(t){Object.keys(t).forEach(function(e){var n=t[e],r=n(void 0,{type:Ed.INIT});if(typeof r>"u")throw new Error(Et(12));if(typeof n(void 0,{type:Ed.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Et(13))})}function m3(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var i=e[r];typeof t[i]=="function"&&(n[i]=t[i])}var o=Object.keys(n),s;try{g3(n)}catch(a){s=a}return function(l,u){if(l===void 0&&(l={}),s)throw s;for(var d=!1,f={},c=0;c<o.length;c++){var h=o[c],p=n[h],v=l[h],b=p(v,u);if(typeof b>"u")throw u&&u.type,new Error(Et(14));f[h]=b,d=d||b!==v}return d=d||o.length!==Object.keys(l).length,d?f:l}}function jS(t,e){return function(){return e(t.apply(this,arguments))}}function zS(t,e){if(typeof t=="function")return jS(t,e);if(typeof t!="object"||t===null)throw new Error(Et(16));var n={};for(var r in t){var i=t[r];typeof i=="function"&&(n[r]=jS(i,e))}return n}function Dl(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?function(r){return r}:e.length===1?e[0]:e.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function ZD(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),o=function(){throw new Error(Et(15))},s={getState:i.getState,dispatch:function(){return o.apply(void 0,arguments)}},a=e.map(function(l){return l(s)});return o=Dl.apply(void 0,a)(i.dispatch),BS(BS({},i),{},{dispatch:o})}}}var ek=pe.createContext(null);function v3(t){t()}var tk=v3,y3=function(e){return tk=e},w3=function(){return tk};function b3(){var t=w3(),e=null,n=null;return{clear:function(){e=null,n=null},notify:function(){t(function(){for(var i=e;i;)i.callback(),i=i.next})},get:function(){for(var i=[],o=e;o;)i.push(o),o=o.next;return i},subscribe:function(i){var o=!0,s=n={callback:i,next:null,prev:n};return s.prev?s.prev.next=s:e=s,function(){!o||e===null||(o=!1,s.next?s.next.prev=s.prev:n=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var WS={notify:function(){},get:function(){return[]}};function nk(t,e){var n,r=WS;function i(f){return l(),r.subscribe(f)}function o(){r.notify()}function s(){d.onStateChange&&d.onStateChange()}function a(){return Boolean(n)}function l(){n||(n=e?e.addNestedSub(s):t.subscribe(s),r=b3())}function u(){n&&(n(),n=void 0,r.clear(),r=WS)}var d={addNestedSub:i,notifyNestedSubs:o,handleChangeWrapper:s,isSubscribed:a,trySubscribe:l,tryUnsubscribe:u,getListeners:function(){return r}};return d}var rk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?I.useLayoutEffect:I.useEffect;function S3(t){var e=t.store,n=t.context,r=t.children,i=I.useMemo(function(){var a=nk(e);return{store:e,subscription:a}},[e]),o=I.useMemo(function(){return e.getState()},[e]);rk(function(){var a=i.subscription;return a.onStateChange=a.notifyNestedSubs,a.trySubscribe(),o!==e.getState()&&a.notifyNestedSubs(),function(){a.tryUnsubscribe(),a.onStateChange=null}},[i,o]);var s=n||ek;return pe.createElement(s.Provider,{value:i},r)}var gm={},E3={get exports(){return gm},set exports(t){gm=t}},Pe={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ah=60103,lh=60106,fu=60107,hu=60108,pu=60114,gu=60109,mu=60110,vu=60112,yu=60113,Jy=60120,wu=60115,bu=60116,ik=60121,ok=60122,sk=60117,ak=60129,lk=60131;if(typeof Symbol=="function"&&Symbol.for){var bt=Symbol.for;ah=bt("react.element"),lh=bt("react.portal"),fu=bt("react.fragment"),hu=bt("react.strict_mode"),pu=bt("react.profiler"),gu=bt("react.provider"),mu=bt("react.context"),vu=bt("react.forward_ref"),yu=bt("react.suspense"),Jy=bt("react.suspense_list"),wu=bt("react.memo"),bu=bt("react.lazy"),ik=bt("react.block"),ok=bt("react.server.block"),sk=bt("react.fundamental"),ak=bt("react.debug_trace_mode"),lk=bt("react.legacy_hidden")}function Kn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case ah:switch(t=t.type,t){case fu:case pu:case hu:case yu:case Jy:return t;default:switch(t=t&&t.$$typeof,t){case mu:case vu:case bu:case wu:case gu:return t;default:return e}}case lh:return e}}}var I3=gu,C3=ah,x3=vu,T3=fu,D3=bu,k3=wu,_3=lh,R3=pu,A3=hu,P3=yu;Pe.ContextConsumer=mu;Pe.ContextProvider=I3;Pe.Element=C3;Pe.ForwardRef=x3;Pe.Fragment=T3;Pe.Lazy=D3;Pe.Memo=k3;Pe.Portal=_3;Pe.Profiler=R3;Pe.StrictMode=A3;Pe.Suspense=P3;Pe.isAsyncMode=function(){return!1};Pe.isConcurrentMode=function(){return!1};Pe.isContextConsumer=function(t){return Kn(t)===mu};Pe.isContextProvider=function(t){return Kn(t)===gu};Pe.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===ah};Pe.isForwardRef=function(t){return Kn(t)===vu};Pe.isFragment=function(t){return Kn(t)===fu};Pe.isLazy=function(t){return Kn(t)===bu};Pe.isMemo=function(t){return Kn(t)===wu};Pe.isPortal=function(t){return Kn(t)===lh};Pe.isProfiler=function(t){return Kn(t)===pu};Pe.isStrictMode=function(t){return Kn(t)===hu};Pe.isSuspense=function(t){return Kn(t)===yu};Pe.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===fu||t===pu||t===ak||t===hu||t===yu||t===Jy||t===lk||typeof t=="object"&&t!==null&&(t.$$typeof===bu||t.$$typeof===wu||t.$$typeof===gu||t.$$typeof===mu||t.$$typeof===vu||t.$$typeof===sk||t.$$typeof===ik||t[0]===ok)};Pe.typeOf=Kn;(function(t){t.exports=Pe})(E3);var N3=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],O3=["reactReduxForwardedRef"],L3=[],M3=[null,null];function $3(t,e){var n=t[1];return[e.payload,n+1]}function HS(t,e,n){rk(function(){return t.apply(void 0,e)},n)}function F3(t,e,n,r,i,o,s){t.current=r,e.current=i,n.current=!1,o.current&&(o.current=null,s())}function U3(t,e,n,r,i,o,s,a,l,u){if(t){var d=!1,f=null,c=function(){if(!d){var v=e.getState(),b,m;try{b=r(v,i.current)}catch(g){m=g,f=g}m||(f=null),b===o.current?s.current||l():(o.current=b,a.current=b,s.current=!0,u({type:"STORE_UPDATED",payload:{error:m}}))}};n.onStateChange=c,n.trySubscribe(),c();var h=function(){if(d=!0,n.tryUnsubscribe(),n.onStateChange=null,f)throw f};return h}}var B3=function(){return[null,0]};function V3(t,e){e===void 0&&(e={});var n=e,r=n.getDisplayName,i=r===void 0?function(y){return"ConnectAdvanced("+y+")"}:r,o=n.methodName,s=o===void 0?"connectAdvanced":o,a=n.renderCountProp,l=a===void 0?void 0:a,u=n.shouldHandleStateChanges,d=u===void 0?!0:u,f=n.storeKey,c=f===void 0?"store":f;n.withRef;var h=n.forwardRef,p=h===void 0?!1:h,v=n.context,b=v===void 0?ek:v,m=nd(n,N3),g=b;return function(w){var x=w.displayName||w.name||"Component",D=i(x),R=J({},m,{getDisplayName:i,methodName:s,renderCountProp:l,shouldHandleStateChanges:d,storeKey:c,displayName:D,wrappedComponentName:x,WrappedComponent:w}),A=m.pure;function $(Y){return t(Y.dispatch,R)}var F=A?I.useMemo:function(Y){return Y()};function U(Y){var Ie=I.useMemo(function(){var S=Y.reactReduxForwardedRef,T=nd(Y,O3);return[Y.context,S,T]},[Y]),xe=Ie[0],ct=Ie[1],L=Ie[2],X=I.useMemo(function(){return xe&&xe.Consumer&&gm.isContextConsumer(pe.createElement(xe.Consumer,null))?xe:g},[xe,g]),q=I.useContext(X),ve=Boolean(Y.store)&&Boolean(Y.store.getState)&&Boolean(Y.store.dispatch);Boolean(q)&&Boolean(q.store);var fe=ve?Y.store:q.store,Jt=I.useMemo(function(){return $(fe)},[fe]),Rt=I.useMemo(function(){if(!d)return M3;var S=nk(fe,ve?null:q.subscription),T=S.notifyNestedSubs.bind(S);return[S,T]},[fe,ve,q]),Qe=Rt[0],rt=Rt[1],wt=I.useMemo(function(){return ve?q:J({},q,{subscription:Qe})},[ve,q,Qe]),On=I.useReducer($3,L3,B3),pr=On[0],sn=pr[0],gr=On[1];if(sn&&sn.error)throw sn.error;var Li=I.useRef(),Ur=I.useRef(L),E=I.useRef(),k=I.useRef(!1),_=F(function(){return E.current&&L===Ur.current?E.current:Jt(fe.getState(),L)},[fe,sn,L]);HS(F3,[Ur,Li,k,L,_,E,rt]),HS(U3,[d,fe,Qe,Jt,Ur,Li,k,E,rt,gr],[fe,Qe,Jt]);var j=I.useMemo(function(){return pe.createElement(w,J({},_,{ref:ct}))},[ct,w,_]),C=I.useMemo(function(){return d?pe.createElement(X.Provider,{value:wt},j):j},[X,j,wt]);return C}var ee=A?pe.memo(U):U;if(ee.WrappedComponent=w,ee.displayName=U.displayName=D,p){var re=pe.forwardRef(function(Ie,xe){return pe.createElement(ee,J({},Ie,{reactReduxForwardedRef:xe}))});return re.displayName=D,re.WrappedComponent=w,Ab(re,w)}return Ab(ee,w)}}function GS(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function yp(t,e){if(GS(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!GS(t[n[i]],e[n[i]]))return!1;return!0}function j3(t,e){var n={},r=function(s){var a=t[s];typeof a=="function"&&(n[s]=function(){return e(a.apply(void 0,arguments))})};for(var i in t)r(i);return n}function Zy(t){return function(n,r){var i=t(n,r);function o(){return i}return o.dependsOnOwnProps=!1,o}}function qS(t){return t.dependsOnOwnProps!==null&&t.dependsOnOwnProps!==void 0?Boolean(t.dependsOnOwnProps):t.length!==1}function uk(t,e){return function(r,i){i.displayName;var o=function(a,l){return o.dependsOnOwnProps?o.mapToProps(a,l):o.mapToProps(a)};return o.dependsOnOwnProps=!0,o.mapToProps=function(a,l){o.mapToProps=t,o.dependsOnOwnProps=qS(t);var u=o(a,l);return typeof u=="function"&&(o.mapToProps=u,o.dependsOnOwnProps=qS(u),u=o(a,l)),u},o}}function z3(t){return typeof t=="function"?uk(t):void 0}function W3(t){return t?void 0:Zy(function(e){return{dispatch:e}})}function H3(t){return t&&typeof t=="object"?Zy(function(e){return j3(t,e)}):void 0}const G3=[z3,W3,H3];function q3(t){return typeof t=="function"?uk(t):void 0}function K3(t){return t?void 0:Zy(function(){return{}})}const Q3=[q3,K3];function Y3(t,e,n){return J({},n,t,e)}function X3(t){return function(n,r){r.displayName;var i=r.pure,o=r.areMergedPropsEqual,s=!1,a;return function(u,d,f){var c=t(u,d,f);return s?(!i||!o(c,a))&&(a=c):(s=!0,a=c),a}}}function J3(t){return typeof t=="function"?X3(t):void 0}function Z3(t){return t?void 0:function(){return Y3}}const ez=[J3,Z3];var tz=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function nz(t,e,n,r){return function(o,s){return n(t(o,s),e(r,s),s)}}function rz(t,e,n,r,i){var o=i.areStatesEqual,s=i.areOwnPropsEqual,a=i.areStatePropsEqual,l=!1,u,d,f,c,h;function p(y,w){return u=y,d=w,f=t(u,d),c=e(r,d),h=n(f,c,d),l=!0,h}function v(){return f=t(u,d),e.dependsOnOwnProps&&(c=e(r,d)),h=n(f,c,d),h}function b(){return t.dependsOnOwnProps&&(f=t(u,d)),e.dependsOnOwnProps&&(c=e(r,d)),h=n(f,c,d),h}function m(){var y=t(u,d),w=!a(y,f);return f=y,w&&(h=n(f,c,d)),h}function g(y,w){var x=!s(w,d),D=!o(y,u,w,d);return u=y,d=w,x&&D?v():x?b():D?m():h}return function(w,x){return l?g(w,x):p(w,x)}}function iz(t,e){var n=e.initMapStateToProps,r=e.initMapDispatchToProps,i=e.initMergeProps,o=nd(e,tz),s=n(t,o),a=r(t,o),l=i(t,o),u=o.pure?rz:nz;return u(s,a,l,t,o)}var oz=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function wp(t,e,n){for(var r=e.length-1;r>=0;r--){var i=e[r](t);if(i)return i}return function(o,s){throw new Error("Invalid value of type "+typeof t+" for "+n+" argument when connecting component "+s.wrappedComponentName+".")}}function sz(t,e){return t===e}function az(t){var e=t===void 0?{}:t,n=e.connectHOC,r=n===void 0?V3:n,i=e.mapStateToPropsFactories,o=i===void 0?Q3:i,s=e.mapDispatchToPropsFactories,a=s===void 0?G3:s,l=e.mergePropsFactories,u=l===void 0?ez:l,d=e.selectorFactory,f=d===void 0?iz:d;return function(h,p,v,b){b===void 0&&(b={});var m=b,g=m.pure,y=g===void 0?!0:g,w=m.areStatesEqual,x=w===void 0?sz:w,D=m.areOwnPropsEqual,R=D===void 0?yp:D,A=m.areStatePropsEqual,$=A===void 0?yp:A,F=m.areMergedPropsEqual,U=F===void 0?yp:F,ee=nd(m,oz),re=wp(h,o,"mapStateToProps"),Y=wp(p,a,"mapDispatchToProps"),Ie=wp(v,u,"mergeProps");return r(f,J({methodName:"connect",getDisplayName:function(ct){return"Connect("+ct+")"},shouldHandleStateChanges:Boolean(h),initMapStateToProps:re,initMapDispatchToProps:Y,initMergeProps:Ie,pure:y,areStatesEqual:x,areOwnPropsEqual:R,areStatePropsEqual:$,areMergedPropsEqual:U},ee))}}const ck=az();y3(ao.unstable_batchedUpdates);function lz(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function dk(t,e){var n=I.useState(function(){return{inputs:e,result:t()}})[0],r=I.useRef(!0),i=I.useRef(n),o=r.current||Boolean(e&&i.current.inputs&&lz(e,i.current.inputs)),s=o?i.current:{inputs:e,result:t()};return I.useEffect(function(){r.current=!1,i.current=s},[s]),s.result}function uz(t,e){return dk(function(){return t},e)}var Se=dk,Q=uz,cz=!0,bp="Invariant failed";function dz(t,e){if(!t){if(cz)throw new Error(bp);var n=typeof e=="function"?e():e,r=n?"".concat(bp,": ").concat(n):bp;throw new Error(r)}}var zn=function(e){var n=e.top,r=e.right,i=e.bottom,o=e.left,s=r-o,a=i-n,l={top:n,right:r,bottom:i,left:o,width:s,height:a,x:o,y:n,center:{x:(r+o)/2,y:(i+n)/2}};return l},ew=function(e,n){return{top:e.top-n.top,left:e.left-n.left,bottom:e.bottom+n.bottom,right:e.right+n.right}},KS=function(e,n){return{top:e.top+n.top,left:e.left+n.left,bottom:e.bottom-n.bottom,right:e.right-n.right}},fz=function(e,n){return{top:e.top+n.y,left:e.left+n.x,bottom:e.bottom+n.y,right:e.right+n.x}},Sp={top:0,right:0,bottom:0,left:0},tw=function(e){var n=e.borderBox,r=e.margin,i=r===void 0?Sp:r,o=e.border,s=o===void 0?Sp:o,a=e.padding,l=a===void 0?Sp:a,u=zn(ew(n,i)),d=zn(KS(n,s)),f=zn(KS(d,l));return{marginBox:u,borderBox:zn(n),paddingBox:d,contentBox:f,margin:i,border:s,padding:l}},In=function(e){var n=e.slice(0,-2),r=e.slice(-2);if(r!=="px")return 0;var i=Number(n);return isNaN(i)&&dz(!1),i},hz=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Id=function(e,n){var r=e.borderBox,i=e.border,o=e.margin,s=e.padding,a=fz(r,n);return tw({borderBox:a,border:i,margin:o,padding:s})},Cd=function(e,n){return n===void 0&&(n=hz()),Id(e,n)},fk=function(e,n){var r={top:In(n.marginTop),right:In(n.marginRight),bottom:In(n.marginBottom),left:In(n.marginLeft)},i={top:In(n.paddingTop),right:In(n.paddingRight),bottom:In(n.paddingBottom),left:In(n.paddingLeft)},o={top:In(n.borderTopWidth),right:In(n.borderRightWidth),bottom:In(n.borderBottomWidth),left:In(n.borderLeftWidth)};return tw({borderBox:e,margin:r,padding:i,border:o})},hk=function(e){var n=e.getBoundingClientRect(),r=window.getComputedStyle(e);return fk(n,r)},QS=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function pz(t,e){return!!(t===e||QS(t)&&QS(e))}function gz(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!pz(t[n],e[n]))return!1;return!0}function pt(t,e){e===void 0&&(e=gz);var n,r=[],i,o=!1;function s(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];return o&&n===this&&e(a,r)||(i=t.apply(this,a),o=!0,n=this,r=a),i}return s}var mz=function(e){var n=[],r=null,i=function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];n=a,!r&&(r=requestAnimationFrame(function(){r=null,e.apply(void 0,n)}))};return i.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},i};const kl=mz;function pk(t,e){}pk.bind(null,"warn");pk.bind(null,"error");function di(){}function vz(t,e){return J({},t,{},e)}function kn(t,e,n){var r=e.map(function(i){var o=vz(n,i.options);return t.addEventListener(i.eventName,i.fn,o),function(){t.removeEventListener(i.eventName,i.fn,o)}});return function(){r.forEach(function(o){o()})}}var yz="Invariant failed";function xd(t){this.message=t}xd.prototype.toString=function(){return this.message};function V(t,e){if(!t)throw new xd(yz)}var wz=function(t){JD(e,t);function e(){for(var r,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o))||this,r.callbacks=null,r.unbind=di,r.onWindowError=function(a){var l=r.getCallbacks();l.isDragging()&&l.tryAbort();var u=a.error;u instanceof xd&&a.preventDefault()},r.getCallbacks=function(){if(!r.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return r.callbacks},r.setCallbacks=function(a){r.callbacks=a},r}var n=e.prototype;return n.componentDidMount=function(){this.unbind=kn(window,[{eventName:"error",fn:this.onWindowError}])},n.componentDidCatch=function(i){if(i instanceof xd){this.setState({});return}throw i},n.componentWillUnmount=function(){this.unbind()},n.render=function(){return this.props.children(this.setCallbacks)},e}(pe.Component),bz=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Td=function(e){return e+1},Sz=function(e){return`
  You have lifted an item in position `+Td(e.source.index)+`
`},gk=function(e,n){var r=e.droppableId===n.droppableId,i=Td(e.index),o=Td(n.index);return r?`
      You have moved the item from position `+i+`
      to position `+o+`
    `:`
    You have moved the item from position `+i+`
    in list `+e.droppableId+`
    to list `+n.droppableId+`
    in position `+o+`
  `},mk=function(e,n,r){var i=n.droppableId===r.droppableId;return i?`
      The item `+e+`
      has been combined with `+r.draggableId:`
      The item `+e+`
      in list `+n.droppableId+`
      has been combined with `+r.draggableId+`
      in list `+r.droppableId+`
    `},Ez=function(e){var n=e.destination;if(n)return gk(e.source,n);var r=e.combine;return r?mk(e.draggableId,e.source,r):"You are over an area that cannot be dropped on"},YS=function(e){return`
  The item has returned to its starting position
  of `+Td(e.index)+`
`},Iz=function(e){if(e.reason==="CANCEL")return`
      Movement cancelled.
      `+YS(e.source)+`
    `;var n=e.destination,r=e.combine;return n?`
      You have dropped the item.
      `+gk(e.source,n)+`
    `:r?`
      You have dropped the item.
      `+mk(e.draggableId,e.source,r)+`
    `:`
    The item has been dropped while not over a drop area.
    `+YS(e.source)+`
  `},Sc={dragHandleUsageInstructions:bz,onDragStart:Sz,onDragUpdate:Ez,onDragEnd:Iz},vt={x:0,y:0},xt=function(e,n){return{x:e.x+n.x,y:e.y+n.y}},fn=function(e,n){return{x:e.x-n.x,y:e.y-n.y}},fi=function(e,n){return e.x===n.x&&e.y===n.y},zs=function(e){return{x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}},Eo=function(e,n,r){var i;return r===void 0&&(r=0),i={},i[e]=n,i[e==="x"?"y":"x"]=r,i},_l=function(e,n){return Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2))},XS=function(e,n){return Math.min.apply(Math,n.map(function(r){return _l(e,r)}))},vk=function(e){return function(n){return{x:e(n.x),y:e(n.y)}}},Cz=function(t,e){var n=zn({top:Math.max(e.top,t.top),right:Math.min(e.right,t.right),bottom:Math.min(e.bottom,t.bottom),left:Math.max(e.left,t.left)});return n.width<=0||n.height<=0?null:n},Su=function(e,n){return{top:e.top+n.y,left:e.left+n.x,bottom:e.bottom+n.y,right:e.right+n.x}},JS=function(e){return[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}]},xz={top:0,right:0,bottom:0,left:0},Tz=function(e,n){return n?Su(e,n.scroll.diff.displacement):e},Dz=function(e,n,r){if(r&&r.increasedBy){var i;return J({},e,(i={},i[n.end]=e[n.end]+r.increasedBy[n.line],i))}return e},kz=function(e,n){return n&&n.shouldClipSubject?Cz(n.pageMarginBox,e):zn(e)},ks=function(t){var e=t.page,n=t.withPlaceholder,r=t.axis,i=t.frame,o=Tz(e.marginBox,i),s=Dz(o,r,n),a=kz(s,i);return{page:e,withPlaceholder:n,active:a}},nw=function(t,e){t.frame||V(!1);var n=t.frame,r=fn(e,n.scroll.initial),i=zs(r),o=J({},n,{scroll:{initial:n.scroll.initial,current:e,diff:{value:r,displacement:i},max:n.scroll.max}}),s=ks({page:t.subject.page,withPlaceholder:t.subject.withPlaceholder,axis:t.axis,frame:o}),a=J({},t,{frame:o,subject:s});return a};function Dd(t){return Object.values?Object.values(t):Object.keys(t).map(function(e){return t[e]})}function rw(t,e){if(t.findIndex)return t.findIndex(e);for(var n=0;n<t.length;n++)if(e(t[n]))return n;return-1}function Oi(t,e){if(t.find)return t.find(e);var n=rw(t,e);if(n!==-1)return t[n]}function yk(t){return Array.prototype.slice.call(t)}var wk=pt(function(t){return t.reduce(function(e,n){return e[n.descriptor.id]=n,e},{})}),bk=pt(function(t){return t.reduce(function(e,n){return e[n.descriptor.id]=n,e},{})}),uh=pt(function(t){return Dd(t)}),_z=pt(function(t){return Dd(t)}),Ws=pt(function(t,e){var n=_z(e).filter(function(r){return t===r.descriptor.droppableId}).sort(function(r,i){return r.descriptor.index-i.descriptor.index});return n});function iw(t){return t.at&&t.at.type==="REORDER"?t.at.destination:null}function ch(t){return t.at&&t.at.type==="COMBINE"?t.at.combine:null}var dh=pt(function(t,e){return e.filter(function(n){return n.descriptor.id!==t.descriptor.id})}),Rz=function(t){var e=t.isMovingForward,n=t.draggable,r=t.destination,i=t.insideDestination,o=t.previousImpact;if(!r.isCombineEnabled)return null;var s=iw(o);if(!s)return null;function a(v){var b={type:"COMBINE",combine:{draggableId:v,droppableId:r.descriptor.id}};return J({},o,{at:b})}var l=o.displaced.all,u=l.length?l[0]:null;if(e)return u?a(u):null;var d=dh(n,i);if(!u){if(!d.length)return null;var f=d[d.length-1];return a(f.descriptor.id)}var c=rw(d,function(v){return v.descriptor.id===u});c===-1&&V(!1);var h=c-1;if(h<0)return null;var p=d[h];return a(p.descriptor.id)},Hs=function(t,e){return t.descriptor.droppableId===e.descriptor.id},Sk={point:vt,value:0},Rl={invisible:{},visible:{},all:[]},Az={displaced:Rl,displacedBy:Sk,at:null},Rn=function(t,e){return function(n){return t<=n&&n<=e}},Ek=function(t){var e=Rn(t.top,t.bottom),n=Rn(t.left,t.right);return function(r){var i=e(r.top)&&e(r.bottom)&&n(r.left)&&n(r.right);if(i)return!0;var o=e(r.top)||e(r.bottom),s=n(r.left)||n(r.right),a=o&&s;if(a)return!0;var l=r.top<t.top&&r.bottom>t.bottom,u=r.left<t.left&&r.right>t.right,d=l&&u;if(d)return!0;var f=l&&s||u&&o;return f}},Pz=function(t){var e=Rn(t.top,t.bottom),n=Rn(t.left,t.right);return function(r){var i=e(r.top)&&e(r.bottom)&&n(r.left)&&n(r.right);return i}},ow={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},Ik={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},Nz=function(t){return function(e){var n=Rn(e.top,e.bottom),r=Rn(e.left,e.right);return function(i){return t===ow?n(i.top)&&n(i.bottom):r(i.left)&&r(i.right)}}},Oz=function(e,n){var r=n.frame?n.frame.scroll.diff.displacement:vt;return Su(e,r)},Lz=function(e,n,r){return n.subject.active?r(n.subject.active)(e):!1},Mz=function(e,n,r){return r(n)(e)},sw=function(e){var n=e.target,r=e.destination,i=e.viewport,o=e.withDroppableDisplacement,s=e.isVisibleThroughFrameFn,a=o?Oz(n,r):n;return Lz(a,r,s)&&Mz(a,i,s)},$z=function(e){return sw(J({},e,{isVisibleThroughFrameFn:Ek}))},Ck=function(e){return sw(J({},e,{isVisibleThroughFrameFn:Pz}))},Fz=function(e){return sw(J({},e,{isVisibleThroughFrameFn:Nz(e.destination.axis)}))},Uz=function(e,n,r){if(typeof r=="boolean")return r;if(!n)return!0;var i=n.invisible,o=n.visible;if(i[e])return!1;var s=o[e];return s?s.shouldAnimate:!0};function Bz(t,e){var n=t.page.marginBox,r={top:e.point.y,right:0,bottom:0,left:e.point.x};return zn(ew(n,r))}function Al(t){var e=t.afterDragging,n=t.destination,r=t.displacedBy,i=t.viewport,o=t.forceShouldAnimate,s=t.last;return e.reduce(function(l,u){var d=Bz(u,r),f=u.descriptor.id;l.all.push(f);var c=$z({target:d,destination:n,viewport:i,withDroppableDisplacement:!0});if(!c)return l.invisible[u.descriptor.id]=!0,l;var h=Uz(f,s,o),p={draggableId:f,shouldAnimate:h};return l.visible[f]=p,l},{all:[],visible:{},invisible:{}})}function Vz(t,e){if(!t.length)return 0;var n=t[t.length-1].descriptor.index;return e.inHomeList?n:n+1}function ZS(t){var e=t.insideDestination,n=t.inHomeList,r=t.displacedBy,i=t.destination,o=Vz(e,{inHomeList:n});return{displaced:Rl,displacedBy:r,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:o}}}}function kd(t){var e=t.draggable,n=t.insideDestination,r=t.destination,i=t.viewport,o=t.displacedBy,s=t.last,a=t.index,l=t.forceShouldAnimate,u=Hs(e,r);if(a==null)return ZS({insideDestination:n,inHomeList:u,displacedBy:o,destination:r});var d=Oi(n,function(v){return v.descriptor.index===a});if(!d)return ZS({insideDestination:n,inHomeList:u,displacedBy:o,destination:r});var f=dh(e,n),c=n.indexOf(d),h=f.slice(c),p=Al({afterDragging:h,destination:r,displacedBy:o,last:s,viewport:i.frame,forceShouldAnimate:l});return{displaced:p,displacedBy:o,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:a}}}}function xi(t,e){return Boolean(e.effected[t])}var jz=function(t){var e=t.isMovingForward,n=t.destination,r=t.draggables,i=t.combine,o=t.afterCritical;if(!n.isCombineEnabled)return null;var s=i.draggableId,a=r[s],l=a.descriptor.index,u=xi(s,o);return u?e?l:l-1:e?l+1:l},zz=function(t){var e=t.isMovingForward,n=t.isInHomeList,r=t.insideDestination,i=t.location;if(!r.length)return null;var o=i.index,s=e?o+1:o-1,a=r[0].descriptor.index,l=r[r.length-1].descriptor.index,u=n?l:l+1;return s<a||s>u?null:s},Wz=function(t){var e=t.isMovingForward,n=t.isInHomeList,r=t.draggable,i=t.draggables,o=t.destination,s=t.insideDestination,a=t.previousImpact,l=t.viewport,u=t.afterCritical,d=a.at;if(d||V(!1),d.type==="REORDER"){var f=zz({isMovingForward:e,isInHomeList:n,location:d.destination,insideDestination:s});return f==null?null:kd({draggable:r,insideDestination:s,destination:o,viewport:l,last:a.displaced,displacedBy:a.displacedBy,index:f})}var c=jz({isMovingForward:e,destination:o,displaced:a.displaced,draggables:i,combine:d.combine,afterCritical:u});return c==null?null:kd({draggable:r,insideDestination:s,destination:o,viewport:l,last:a.displaced,displacedBy:a.displacedBy,index:c})},Hz=function(t){var e=t.displaced,n=t.afterCritical,r=t.combineWith,i=t.displacedBy,o=Boolean(e.visible[r]||e.invisible[r]);return xi(r,n)?o?vt:zs(i.point):o?i.point:vt},Gz=function(t){var e=t.afterCritical,n=t.impact,r=t.draggables,i=ch(n);i||V(!1);var o=i.draggableId,s=r[o].page.borderBox.center,a=Hz({displaced:n.displaced,afterCritical:e,combineWith:o,displacedBy:n.displacedBy});return xt(s,a)},xk=function(e,n){return n.margin[e.start]+n.borderBox[e.size]/2},qz=function(e,n){return n.margin[e.end]+n.borderBox[e.size]/2},aw=function(e,n,r){return n[e.crossAxisStart]+r.margin[e.crossAxisStart]+r.borderBox[e.crossAxisSize]/2},eE=function(e){var n=e.axis,r=e.moveRelativeTo,i=e.isMoving;return Eo(n.line,r.marginBox[n.end]+xk(n,i),aw(n,r.marginBox,i))},tE=function(e){var n=e.axis,r=e.moveRelativeTo,i=e.isMoving;return Eo(n.line,r.marginBox[n.start]-qz(n,i),aw(n,r.marginBox,i))},Kz=function(e){var n=e.axis,r=e.moveInto,i=e.isMoving;return Eo(n.line,r.contentBox[n.start]+xk(n,i),aw(n,r.contentBox,i))},Qz=function(t){var e=t.impact,n=t.draggable,r=t.draggables,i=t.droppable,o=t.afterCritical,s=Ws(i.descriptor.id,r),a=n.page,l=i.axis;if(!s.length)return Kz({axis:l,moveInto:i.page,isMoving:a});var u=e.displaced,d=e.displacedBy,f=u.all[0];if(f){var c=r[f];if(xi(f,o))return tE({axis:l,moveRelativeTo:c.page,isMoving:a});var h=Id(c.page,d.point);return tE({axis:l,moveRelativeTo:h,isMoving:a})}var p=s[s.length-1];if(p.descriptor.id===n.descriptor.id)return a.borderBox.center;if(xi(p.descriptor.id,o)){var v=Id(p.page,zs(o.displacedBy.point));return eE({axis:l,moveRelativeTo:v,isMoving:a})}return eE({axis:l,moveRelativeTo:p.page,isMoving:a})},mm=function(t,e){var n=t.frame;return n?xt(e,n.scroll.diff.displacement):e},Yz=function(e){var n=e.impact,r=e.draggable,i=e.droppable,o=e.draggables,s=e.afterCritical,a=r.page.borderBox.center,l=n.at;return!i||!l?a:l.type==="REORDER"?Qz({impact:n,draggable:r,draggables:o,droppable:i,afterCritical:s}):Gz({impact:n,draggables:o,afterCritical:s})},fh=function(t){var e=Yz(t),n=t.droppable,r=n?mm(n,e):e;return r},Tk=function(t,e){var n=fn(e,t.scroll.initial),r=zs(n),i=zn({top:e.y,bottom:e.y+t.frame.height,left:e.x,right:e.x+t.frame.width}),o={frame:i,scroll:{initial:t.scroll.initial,max:t.scroll.max,current:e,diff:{value:n,displacement:r}}};return o};function nE(t,e){return t.map(function(n){return e[n]})}function Xz(t,e){for(var n=0;n<e.length;n++){var r=e[n].visible[t];if(r)return r}return null}var Jz=function(t){var e=t.impact,n=t.viewport,r=t.destination,i=t.draggables,o=t.maxScrollChange,s=Tk(n,xt(n.scroll.current,o)),a=r.frame?nw(r,xt(r.frame.scroll.current,o)):r,l=e.displaced,u=Al({afterDragging:nE(l.all,i),destination:r,displacedBy:e.displacedBy,viewport:s.frame,last:l,forceShouldAnimate:!1}),d=Al({afterDragging:nE(l.all,i),destination:a,displacedBy:e.displacedBy,viewport:n.frame,last:l,forceShouldAnimate:!1}),f={},c={},h=[l,u,d];l.all.forEach(function(v){var b=Xz(v,h);if(b){c[v]=b;return}f[v]=!0});var p=J({},e,{displaced:{all:l.all,invisible:f,visible:c}});return p},Zz=function(t,e){return xt(t.scroll.diff.displacement,e)},lw=function(t){var e=t.pageBorderBoxCenter,n=t.draggable,r=t.viewport,i=Zz(r,e),o=fn(i,n.page.borderBox.center);return xt(n.client.borderBox.center,o)},Dk=function(t){var e=t.draggable,n=t.destination,r=t.newPageBorderBoxCenter,i=t.viewport,o=t.withDroppableDisplacement,s=t.onlyOnMainAxis,a=s===void 0?!1:s,l=fn(r,e.page.borderBox.center),u=Su(e.page.borderBox,l),d={target:u,destination:n,withDroppableDisplacement:o,viewport:i};return a?Fz(d):Ck(d)},e4=function(t){var e=t.isMovingForward,n=t.draggable,r=t.destination,i=t.draggables,o=t.previousImpact,s=t.viewport,a=t.previousPageBorderBoxCenter,l=t.previousClientSelection,u=t.afterCritical;if(!r.isEnabled)return null;var d=Ws(r.descriptor.id,i),f=Hs(n,r),c=Rz({isMovingForward:e,draggable:n,destination:r,insideDestination:d,previousImpact:o})||Wz({isMovingForward:e,isInHomeList:f,draggable:n,draggables:i,destination:r,insideDestination:d,previousImpact:o,viewport:s,afterCritical:u});if(!c)return null;var h=fh({impact:c,draggable:n,droppable:r,draggables:i,afterCritical:u}),p=Dk({draggable:n,destination:r,newPageBorderBoxCenter:h,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});if(p){var v=lw({pageBorderBoxCenter:h,draggable:n,viewport:s});return{clientSelection:v,impact:c,scrollJumpRequest:null}}var b=fn(h,a),m=Jz({impact:c,viewport:s,destination:r,draggables:i,maxScrollChange:b});return{clientSelection:l,impact:m,scrollJumpRequest:b}},Wt=function(e){var n=e.subject.active;return n||V(!1),n},t4=function(t){var e=t.isMovingForward,n=t.pageBorderBoxCenter,r=t.source,i=t.droppables,o=t.viewport,s=r.subject.active;if(!s)return null;var a=r.axis,l=Rn(s[a.start],s[a.end]),u=uh(i).filter(function(f){return f!==r}).filter(function(f){return f.isEnabled}).filter(function(f){return Boolean(f.subject.active)}).filter(function(f){return Ek(o.frame)(Wt(f))}).filter(function(f){var c=Wt(f);return e?s[a.crossAxisEnd]<c[a.crossAxisEnd]:c[a.crossAxisStart]<s[a.crossAxisStart]}).filter(function(f){var c=Wt(f),h=Rn(c[a.start],c[a.end]);return l(c[a.start])||l(c[a.end])||h(s[a.start])||h(s[a.end])}).sort(function(f,c){var h=Wt(f)[a.crossAxisStart],p=Wt(c)[a.crossAxisStart];return e?h-p:p-h}).filter(function(f,c,h){return Wt(f)[a.crossAxisStart]===Wt(h[0])[a.crossAxisStart]});if(!u.length)return null;if(u.length===1)return u[0];var d=u.filter(function(f){var c=Rn(Wt(f)[a.start],Wt(f)[a.end]);return c(n[a.line])});return d.length===1?d[0]:d.length>1?d.sort(function(f,c){return Wt(f)[a.start]-Wt(c)[a.start]})[0]:u.sort(function(f,c){var h=XS(n,JS(Wt(f))),p=XS(n,JS(Wt(c)));return h!==p?h-p:Wt(f)[a.start]-Wt(c)[a.start]})[0]},rE=function(e,n){var r=e.page.borderBox.center;return xi(e.descriptor.id,n)?fn(r,n.displacedBy.point):r},n4=function(e,n){var r=e.page.borderBox;return xi(e.descriptor.id,n)?Su(r,zs(n.displacedBy.point)):r},r4=function(t){var e=t.pageBorderBoxCenter,n=t.viewport,r=t.destination,i=t.insideDestination,o=t.afterCritical,s=i.filter(function(a){return Ck({target:n4(a,o),destination:r,viewport:n.frame,withDroppableDisplacement:!0})}).sort(function(a,l){var u=_l(e,mm(r,rE(a,o))),d=_l(e,mm(r,rE(l,o)));return u<d?-1:d<u?1:a.descriptor.index-l.descriptor.index});return s[0]||null},Eu=pt(function(e,n){var r=n[e.line];return{value:r,point:Eo(e.line,r)}}),i4=function(e,n,r){var i=e.axis;if(e.descriptor.mode==="virtual")return Eo(i.line,n[i.line]);var o=e.subject.page.contentBox[i.size],s=Ws(e.descriptor.id,r),a=s.reduce(function(d,f){return d+f.client.marginBox[i.size]},0),l=a+n[i.line],u=l-o;return u<=0?null:Eo(i.line,u)},kk=function(e,n){return J({},e,{scroll:J({},e.scroll,{max:n})})},_k=function(e,n,r){var i=e.frame;Hs(n,e)&&V(!1),e.subject.withPlaceholder&&V(!1);var o=Eu(e.axis,n.displaceBy).point,s=i4(e,o,r),a={placeholderSize:o,increasedBy:s,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!i){var l=ks({page:e.subject.page,withPlaceholder:a,axis:e.axis,frame:e.frame});return J({},e,{subject:l})}var u=s?xt(i.scroll.max,s):i.scroll.max,d=kk(i,u),f=ks({page:e.subject.page,withPlaceholder:a,axis:e.axis,frame:d});return J({},e,{subject:f,frame:d})},o4=function(e){var n=e.subject.withPlaceholder;n||V(!1);var r=e.frame;if(!r){var i=ks({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return J({},e,{subject:i})}var o=n.oldFrameMaxScroll;o||V(!1);var s=kk(r,o),a=ks({page:e.subject.page,axis:e.axis,frame:s,withPlaceholder:null});return J({},e,{subject:a,frame:s})},s4=function(t){var e=t.previousPageBorderBoxCenter,n=t.moveRelativeTo,r=t.insideDestination,i=t.draggable,o=t.draggables,s=t.destination,a=t.viewport,l=t.afterCritical;if(!n){if(r.length)return null;var u={displaced:Rl,displacedBy:Sk,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:0}}},d=fh({impact:u,draggable:i,droppable:s,draggables:o,afterCritical:l}),f=Hs(i,s)?s:_k(s,i,o),c=Dk({draggable:i,destination:f,newPageBorderBoxCenter:d,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});return c?u:null}var h=Boolean(e[s.axis.line]<=n.page.borderBox.center[s.axis.line]),p=function(){var b=n.descriptor.index;return n.descriptor.id===i.descriptor.id||h?b:b+1}(),v=Eu(s.axis,i.displaceBy);return kd({draggable:i,insideDestination:r,destination:s,viewport:a,displacedBy:v,last:Rl,index:p})},a4=function(t){var e=t.isMovingForward,n=t.previousPageBorderBoxCenter,r=t.draggable,i=t.isOver,o=t.draggables,s=t.droppables,a=t.viewport,l=t.afterCritical,u=t4({isMovingForward:e,pageBorderBoxCenter:n,source:i,droppables:s,viewport:a});if(!u)return null;var d=Ws(u.descriptor.id,o),f=r4({pageBorderBoxCenter:n,viewport:a,destination:u,insideDestination:d,afterCritical:l}),c=s4({previousPageBorderBoxCenter:n,destination:u,draggable:r,draggables:o,moveRelativeTo:f,insideDestination:d,viewport:a,afterCritical:l});if(!c)return null;var h=fh({impact:c,draggable:r,droppable:u,draggables:o,afterCritical:l}),p=lw({pageBorderBoxCenter:h,draggable:r,viewport:a});return{clientSelection:p,impact:c,scrollJumpRequest:null}},gn=function(t){var e=t.at;return e?e.type==="REORDER"?e.destination.droppableId:e.combine.droppableId:null},l4=function(e,n){var r=gn(e);return r?n[r]:null},u4=function(t){var e=t.state,n=t.type,r=l4(e.impact,e.dimensions.droppables),i=Boolean(r),o=e.dimensions.droppables[e.critical.droppable.id],s=r||o,a=s.axis.direction,l=a==="vertical"&&(n==="MOVE_UP"||n==="MOVE_DOWN")||a==="horizontal"&&(n==="MOVE_LEFT"||n==="MOVE_RIGHT");if(l&&!i)return null;var u=n==="MOVE_DOWN"||n==="MOVE_RIGHT",d=e.dimensions.draggables[e.critical.draggable.id],f=e.current.page.borderBoxCenter,c=e.dimensions,h=c.draggables,p=c.droppables;return l?e4({isMovingForward:u,previousPageBorderBoxCenter:f,draggable:d,destination:s,draggables:h,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):a4({isMovingForward:u,previousPageBorderBoxCenter:f,draggable:d,isOver:s,draggables:h,droppables:p,viewport:e.viewport,afterCritical:e.afterCritical})};function zi(t){return t.phase==="DRAGGING"||t.phase==="COLLECTING"}function Rk(t){var e=Rn(t.top,t.bottom),n=Rn(t.left,t.right);return function(i){return e(i.y)&&n(i.x)}}function c4(t,e){return t.left<e.right&&t.right>e.left&&t.top<e.bottom&&t.bottom>e.top}function d4(t){var e=t.pageBorderBox,n=t.draggable,r=t.candidates,i=n.page.borderBox.center,o=r.map(function(s){var a=s.axis,l=Eo(s.axis.line,e.center[a.line],s.page.borderBox.center[a.crossAxisLine]);return{id:s.descriptor.id,distance:_l(i,l)}}).sort(function(s,a){return a.distance-s.distance});return o[0]?o[0].id:null}function f4(t){var e=t.pageBorderBox,n=t.draggable,r=t.droppables,i=uh(r).filter(function(o){if(!o.isEnabled)return!1;var s=o.subject.active;if(!s||!c4(e,s))return!1;if(Rk(s)(e.center))return!0;var a=o.axis,l=s.center[a.crossAxisLine],u=e[a.crossAxisStart],d=e[a.crossAxisEnd],f=Rn(s[a.crossAxisStart],s[a.crossAxisEnd]),c=f(u),h=f(d);return!c&&!h?!0:c?u<l:d>l});return i.length?i.length===1?i[0].descriptor.id:d4({pageBorderBox:e,draggable:n,candidates:i}):null}var Ak=function(e,n){return zn(Su(e,n))},h4=function(t,e){var n=t.frame;return n?Ak(e,n.scroll.diff.value):e};function Pk(t){var e=t.displaced,n=t.id;return Boolean(e.visible[n]||e.invisible[n])}function p4(t){var e=t.draggable,n=t.closest,r=t.inHomeList;return n?r&&n.descriptor.index>e.descriptor.index?n.descriptor.index-1:n.descriptor.index:null}var g4=function(t){var e=t.pageBorderBoxWithDroppableScroll,n=t.draggable,r=t.destination,i=t.insideDestination,o=t.last,s=t.viewport,a=t.afterCritical,l=r.axis,u=Eu(r.axis,n.displaceBy),d=u.value,f=e[l.start],c=e[l.end],h=dh(n,i),p=Oi(h,function(b){var m=b.descriptor.id,g=b.page.borderBox.center[l.line],y=xi(m,a),w=Pk({displaced:o,id:m});return y?w?c<=g:f<g-d:w?c<=g+d:f<g}),v=p4({draggable:n,closest:p,inHomeList:Hs(n,r)});return kd({draggable:n,insideDestination:i,destination:r,viewport:s,last:o,displacedBy:u,index:v})},m4=4,v4=function(t){var e=t.draggable,n=t.pageBorderBoxWithDroppableScroll,r=t.previousImpact,i=t.destination,o=t.insideDestination,s=t.afterCritical;if(!i.isCombineEnabled)return null;var a=i.axis,l=Eu(i.axis,e.displaceBy),u=l.value,d=n[a.start],f=n[a.end],c=dh(e,o),h=Oi(c,function(v){var b=v.descriptor.id,m=v.page.borderBox,g=m[a.size],y=g/m4,w=xi(b,s),x=Pk({displaced:r.displaced,id:b});return w?x?f>m[a.start]+y&&f<m[a.end]-y:d>m[a.start]-u+y&&d<m[a.end]-u-y:x?f>m[a.start]+u+y&&f<m[a.end]+u-y:d>m[a.start]+y&&d<m[a.end]-y});if(!h)return null;var p={displacedBy:l,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:h.descriptor.id,droppableId:i.descriptor.id}}};return p},Nk=function(t){var e=t.pageOffset,n=t.draggable,r=t.draggables,i=t.droppables,o=t.previousImpact,s=t.viewport,a=t.afterCritical,l=Ak(n.page.borderBox,e),u=f4({pageBorderBox:l,draggable:n,droppables:i});if(!u)return Az;var d=i[u],f=Ws(d.descriptor.id,r),c=h4(d,l);return v4({pageBorderBoxWithDroppableScroll:c,draggable:n,previousImpact:o,destination:d,insideDestination:f,afterCritical:a})||g4({pageBorderBoxWithDroppableScroll:c,draggable:n,destination:d,insideDestination:f,last:o.displaced,viewport:s,afterCritical:a})},uw=function(t,e){var n;return J({},t,(n={},n[e.descriptor.id]=e,n))},y4=function(e){var n=e.previousImpact,r=e.impact,i=e.droppables,o=gn(n),s=gn(r);if(!o||o===s)return i;var a=i[o];if(!a.subject.withPlaceholder)return i;var l=o4(a);return uw(i,l)},w4=function(t){var e=t.draggable,n=t.draggables,r=t.droppables,i=t.previousImpact,o=t.impact,s=y4({previousImpact:i,impact:o,droppables:r}),a=gn(o);if(!a)return s;var l=r[a];if(Hs(e,l)||l.subject.withPlaceholder)return s;var u=_k(l,e,n);return uw(s,u)},Va=function(t){var e=t.state,n=t.clientSelection,r=t.dimensions,i=t.viewport,o=t.impact,s=t.scrollJumpRequest,a=i||e.viewport,l=r||e.dimensions,u=n||e.current.client.selection,d=fn(u,e.initial.client.selection),f={offset:d,selection:u,borderBoxCenter:xt(e.initial.client.borderBoxCenter,d)},c={selection:xt(f.selection,a.scroll.current),borderBoxCenter:xt(f.borderBoxCenter,a.scroll.current),offset:xt(f.offset,a.scroll.diff.value)},h={client:f,page:c};if(e.phase==="COLLECTING")return J({phase:"COLLECTING"},e,{dimensions:l,viewport:a,current:h});var p=l.draggables[e.critical.draggable.id],v=o||Nk({pageOffset:c.offset,draggable:p,draggables:l.draggables,droppables:l.droppables,previousImpact:e.impact,viewport:a,afterCritical:e.afterCritical}),b=w4({draggable:p,impact:v,previousImpact:e.impact,draggables:l.draggables,droppables:l.droppables}),m=J({},e,{current:h,dimensions:{draggables:l.draggables,droppables:b},impact:v,viewport:a,scrollJumpRequest:s||null,forceShouldAnimate:s?!1:null});return m};function b4(t,e){return t.map(function(n){return e[n]})}var Ok=function(t){var e=t.impact,n=t.viewport,r=t.draggables,i=t.destination,o=t.forceShouldAnimate,s=e.displaced,a=b4(s.all,r),l=Al({afterDragging:a,destination:i,displacedBy:e.displacedBy,viewport:n.frame,forceShouldAnimate:o,last:s});return J({},e,{displaced:l})},Lk=function(t){var e=t.impact,n=t.draggable,r=t.droppable,i=t.draggables,o=t.viewport,s=t.afterCritical,a=fh({impact:e,draggable:n,draggables:i,droppable:r,afterCritical:s});return lw({pageBorderBoxCenter:a,draggable:n,viewport:o})},Mk=function(t){var e=t.state,n=t.dimensions,r=t.viewport;e.movementMode!=="SNAP"&&V(!1);var i=e.impact,o=r||e.viewport,s=n||e.dimensions,a=s.draggables,l=s.droppables,u=a[e.critical.draggable.id],d=gn(i);d||V(!1);var f=l[d],c=Ok({impact:i,viewport:o,destination:f,draggables:a}),h=Lk({impact:c,draggable:u,droppable:f,draggables:a,viewport:o,afterCritical:e.afterCritical});return Va({impact:c,clientSelection:h,state:e,dimensions:s,viewport:o})},S4=function(t){return{index:t.index,droppableId:t.droppableId}},$k=function(t){var e=t.draggable,n=t.home,r=t.draggables,i=t.viewport,o=Eu(n.axis,e.displaceBy),s=Ws(n.descriptor.id,r),a=s.indexOf(e);a===-1&&V(!1);var l=s.slice(a+1),u=l.reduce(function(h,p){return h[p.descriptor.id]=!0,h},{}),d={inVirtualList:n.descriptor.mode==="virtual",displacedBy:o,effected:u},f=Al({afterDragging:l,destination:n,displacedBy:o,last:null,viewport:i.frame,forceShouldAnimate:!1}),c={displaced:f,displacedBy:o,at:{type:"REORDER",destination:S4(e.descriptor)}};return{impact:c,afterCritical:d}},E4=function(t,e){return{draggables:t.draggables,droppables:uw(t.droppables,e)}},I4=function(t){var e=t.draggable,n=t.offset,r=t.initialWindowScroll,i=Id(e.client,n),o=Cd(i,r),s=J({},e,{placeholder:J({},e.placeholder,{client:i}),client:i,page:o});return s},C4=function(t){var e=t.frame;return e||V(!1),e},x4=function(t){var e=t.additions,n=t.updatedDroppables,r=t.viewport,i=r.scroll.diff.value;return e.map(function(o){var s=o.descriptor.droppableId,a=n[s],l=C4(a),u=l.scroll.diff.value,d=xt(i,u),f=I4({draggable:o,offset:d,initialWindowScroll:r.scroll.initial});return f})},T4=function(t){var e=t.state,n=t.published,r=n.modified.map(function(y){var w=e.dimensions.droppables[y.droppableId],x=nw(w,y.scroll);return x}),i=J({},e.dimensions.droppables,{},wk(r)),o=bk(x4({additions:n.additions,updatedDroppables:i,viewport:e.viewport})),s=J({},e.dimensions.draggables,{},o);n.removals.forEach(function(y){delete s[y]});var a={droppables:i,draggables:s},l=gn(e.impact),u=l?a.droppables[l]:null,d=a.draggables[e.critical.draggable.id],f=a.droppables[e.critical.droppable.id],c=$k({draggable:d,home:f,draggables:s,viewport:e.viewport}),h=c.impact,p=c.afterCritical,v=u&&u.isCombineEnabled?e.impact:h,b=Nk({pageOffset:e.current.page.offset,draggable:a.draggables[e.critical.draggable.id],draggables:a.draggables,droppables:a.droppables,previousImpact:v,viewport:e.viewport,afterCritical:p}),m=J({phase:"DRAGGING"},e,{phase:"DRAGGING",impact:b,onLiftImpact:h,dimensions:a,afterCritical:p,forceShouldAnimate:!1});if(e.phase==="COLLECTING")return m;var g=J({phase:"DROP_PENDING"},m,{phase:"DROP_PENDING",reason:e.reason,isWaiting:!1});return g},vm=function(e){return e.movementMode==="SNAP"},Ep=function(e,n,r){var i=E4(e.dimensions,n);return!vm(e)||r?Va({state:e,dimensions:i}):Mk({state:e,dimensions:i})};function Ip(t){return t.isDragging&&t.movementMode==="SNAP"?J({phase:"DRAGGING"},t,{scrollJumpRequest:null}):t}var iE={phase:"IDLE",completed:null,shouldFlush:!1},D4=function(t,e){if(t===void 0&&(t=iE),e.type==="FLUSH")return J({},iE,{shouldFlush:!0});if(e.type==="INITIAL_PUBLISH"){t.phase!=="IDLE"&&V(!1);var n=e.payload,r=n.critical,i=n.clientSelection,o=n.viewport,s=n.dimensions,a=n.movementMode,l=s.draggables[r.draggable.id],u=s.droppables[r.droppable.id],d={selection:i,borderBoxCenter:l.client.borderBox.center,offset:vt},f={client:d,page:{selection:xt(d.selection,o.scroll.initial),borderBoxCenter:xt(d.selection,o.scroll.initial),offset:xt(d.selection,o.scroll.diff.value)}},c=uh(s.droppables).every(function(gr){return!gr.isFixedOnPage}),h=$k({draggable:l,home:u,draggables:s.draggables,viewport:o}),p=h.impact,v=h.afterCritical,b={phase:"DRAGGING",isDragging:!0,critical:r,movementMode:a,dimensions:s,initial:f,current:f,isWindowScrollAllowed:c,impact:p,afterCritical:v,onLiftImpact:p,viewport:o,scrollJumpRequest:null,forceShouldAnimate:null};return b}if(e.type==="COLLECTION_STARTING"){if(t.phase==="COLLECTING"||t.phase==="DROP_PENDING")return t;t.phase!=="DRAGGING"&&V(!1);var m=J({phase:"COLLECTING"},t,{phase:"COLLECTING"});return m}if(e.type==="PUBLISH_WHILE_DRAGGING")return t.phase==="COLLECTING"||t.phase==="DROP_PENDING"||V(!1),T4({state:t,published:e.payload});if(e.type==="MOVE"){if(t.phase==="DROP_PENDING")return t;zi(t)||V(!1);var g=e.payload.client;return fi(g,t.current.client.selection)?t:Va({state:t,clientSelection:g,impact:vm(t)?t.impact:null})}if(e.type==="UPDATE_DROPPABLE_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="COLLECTING")return Ip(t);zi(t)||V(!1);var y=e.payload,w=y.id,x=y.newScroll,D=t.dimensions.droppables[w];if(!D)return t;var R=nw(D,x);return Ep(t,R,!1)}if(e.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(t.phase==="DROP_PENDING")return t;zi(t)||V(!1);var A=e.payload,$=A.id,F=A.isEnabled,U=t.dimensions.droppables[$];U||V(!1),U.isEnabled===F&&V(!1);var ee=J({},U,{isEnabled:F});return Ep(t,ee,!0)}if(e.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(t.phase==="DROP_PENDING")return t;zi(t)||V(!1);var re=e.payload,Y=re.id,Ie=re.isCombineEnabled,xe=t.dimensions.droppables[Y];xe||V(!1),xe.isCombineEnabled===Ie&&V(!1);var ct=J({},xe,{isCombineEnabled:Ie});return Ep(t,ct,!0)}if(e.type==="MOVE_BY_WINDOW_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="DROP_ANIMATING")return t;zi(t)||V(!1),t.isWindowScrollAllowed||V(!1);var L=e.payload.newScroll;if(fi(t.viewport.scroll.current,L))return Ip(t);var X=Tk(t.viewport,L);return vm(t)?Mk({state:t,viewport:X}):Va({state:t,viewport:X})}if(e.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!zi(t))return t;var q=e.payload.maxScroll;if(fi(q,t.viewport.scroll.max))return t;var ve=J({},t.viewport,{scroll:J({},t.viewport.scroll,{max:q})});return J({phase:"DRAGGING"},t,{viewport:ve})}if(e.type==="MOVE_UP"||e.type==="MOVE_DOWN"||e.type==="MOVE_LEFT"||e.type==="MOVE_RIGHT"){if(t.phase==="COLLECTING"||t.phase==="DROP_PENDING")return t;t.phase!=="DRAGGING"&&V(!1);var fe=u4({state:t,type:e.type});return fe?Va({state:t,impact:fe.impact,clientSelection:fe.clientSelection,scrollJumpRequest:fe.scrollJumpRequest}):t}if(e.type==="DROP_PENDING"){var Jt=e.payload.reason;t.phase!=="COLLECTING"&&V(!1);var Rt=J({phase:"DROP_PENDING"},t,{phase:"DROP_PENDING",isWaiting:!0,reason:Jt});return Rt}if(e.type==="DROP_ANIMATE"){var Qe=e.payload,rt=Qe.completed,wt=Qe.dropDuration,On=Qe.newHomeClientOffset;t.phase==="DRAGGING"||t.phase==="DROP_PENDING"||V(!1);var pr={phase:"DROP_ANIMATING",completed:rt,dropDuration:wt,newHomeClientOffset:On,dimensions:t.dimensions};return pr}if(e.type==="DROP_COMPLETE"){var sn=e.payload.completed;return{phase:"IDLE",completed:sn,shouldFlush:!1}}return t},k4=function(e){return{type:"BEFORE_INITIAL_CAPTURE",payload:e}},_4=function(e){return{type:"LIFT",payload:e}},R4=function(e){return{type:"INITIAL_PUBLISH",payload:e}},A4=function(e){return{type:"PUBLISH_WHILE_DRAGGING",payload:e}},P4=function(){return{type:"COLLECTION_STARTING",payload:null}},N4=function(e){return{type:"UPDATE_DROPPABLE_SCROLL",payload:e}},O4=function(e){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}},L4=function(e){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}},Fk=function(e){return{type:"MOVE",payload:e}},M4=function(e){return{type:"MOVE_BY_WINDOW_SCROLL",payload:e}},$4=function(e){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}},F4=function(){return{type:"MOVE_UP",payload:null}},U4=function(){return{type:"MOVE_DOWN",payload:null}},B4=function(){return{type:"MOVE_RIGHT",payload:null}},V4=function(){return{type:"MOVE_LEFT",payload:null}},cw=function(){return{type:"FLUSH",payload:null}},j4=function(e){return{type:"DROP_ANIMATE",payload:e}},dw=function(e){return{type:"DROP_COMPLETE",payload:e}},Uk=function(e){return{type:"DROP",payload:e}},z4=function(e){return{type:"DROP_PENDING",payload:e}},Bk=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}},W4=function(t){return function(e){var n=e.getState,r=e.dispatch;return function(i){return function(o){if(o.type!=="LIFT"){i(o);return}var s=o.payload,a=s.id,l=s.clientSelection,u=s.movementMode,d=n();d.phase==="DROP_ANIMATING"&&r(dw({completed:d.completed})),n().phase!=="IDLE"&&V(!1),r(cw()),r(k4({draggableId:a,movementMode:u}));var f={shouldPublishImmediately:u==="SNAP"},c={draggableId:a,scrollOptions:f},h=t.startPublishing(c),p=h.critical,v=h.dimensions,b=h.viewport;r(R4({critical:p,dimensions:v,clientSelection:l,movementMode:u,viewport:b}))}}}},H4=function(t){return function(){return function(e){return function(n){n.type==="INITIAL_PUBLISH"&&t.dragging(),n.type==="DROP_ANIMATE"&&t.dropping(n.payload.completed.result.reason),(n.type==="FLUSH"||n.type==="DROP_COMPLETE")&&t.resting(),e(n)}}}},fw={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Pl={opacity:{drop:0,combining:.7},scale:{drop:.75}},hw={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Fi=hw.outOfTheWay+"s "+fw.outOfTheWay,ja={fluid:"opacity "+Fi,snap:"transform "+Fi+", opacity "+Fi,drop:function(e){var n=e+"s "+fw.drop;return"transform "+n+", opacity "+n},outOfTheWay:"transform "+Fi,placeholder:"height "+Fi+", width "+Fi+", margin "+Fi},oE=function(e){return fi(e,vt)?null:"translate("+e.x+"px, "+e.y+"px)"},ym={moveTo:oE,drop:function(e,n){var r=oE(e);return r?n?r+" scale("+Pl.scale.drop+")":r:null}},wm=hw.minDropTime,Vk=hw.maxDropTime,G4=Vk-wm,sE=1500,q4=.6,K4=function(t){var e=t.current,n=t.destination,r=t.reason,i=_l(e,n);if(i<=0)return wm;if(i>=sE)return Vk;var o=i/sE,s=wm+G4*o,a=r==="CANCEL"?s*q4:s;return Number(a.toFixed(2))},Q4=function(t){var e=t.impact,n=t.draggable,r=t.dimensions,i=t.viewport,o=t.afterCritical,s=r.draggables,a=r.droppables,l=gn(e),u=l?a[l]:null,d=a[n.descriptor.droppableId],f=Lk({impact:e,draggable:n,draggables:s,afterCritical:o,droppable:u||d,viewport:i}),c=fn(f,n.client.borderBox.center);return c},Y4=function(t){var e=t.draggables,n=t.reason,r=t.lastImpact,i=t.home,o=t.viewport,s=t.onLiftImpact;if(!r.at||n!=="DROP"){var a=Ok({draggables:e,impact:s,destination:i,viewport:o,forceShouldAnimate:!0});return{impact:a,didDropInsideDroppable:!1}}if(r.at.type==="REORDER")return{impact:r,didDropInsideDroppable:!0};var l=J({},r,{displaced:Rl});return{impact:l,didDropInsideDroppable:!0}},X4=function(t){var e=t.getState,n=t.dispatch;return function(r){return function(i){if(i.type!=="DROP"){r(i);return}var o=e(),s=i.payload.reason;if(o.phase==="COLLECTING"){n(z4({reason:s}));return}if(o.phase!=="IDLE"){var a=o.phase==="DROP_PENDING"&&o.isWaiting;a&&V(!1),o.phase==="DRAGGING"||o.phase==="DROP_PENDING"||V(!1);var l=o.critical,u=o.dimensions,d=u.draggables[o.critical.draggable.id],f=Y4({reason:s,lastImpact:o.impact,afterCritical:o.afterCritical,onLiftImpact:o.onLiftImpact,home:o.dimensions.droppables[o.critical.droppable.id],viewport:o.viewport,draggables:o.dimensions.draggables}),c=f.impact,h=f.didDropInsideDroppable,p=h?iw(c):null,v=h?ch(c):null,b={index:l.draggable.index,droppableId:l.droppable.id},m={draggableId:d.descriptor.id,type:d.descriptor.type,source:b,reason:s,mode:o.movementMode,destination:p,combine:v},g=Q4({impact:c,draggable:d,dimensions:u,viewport:o.viewport,afterCritical:o.afterCritical}),y={critical:o.critical,afterCritical:o.afterCritical,result:m,impact:c},w=!fi(o.current.client.offset,g)||Boolean(m.combine);if(!w){n(dw({completed:y}));return}var x=K4({current:o.current.client.offset,destination:g,reason:s}),D={newHomeClientOffset:g,dropDuration:x,completed:y};n(j4(D))}}}},jk=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function J4(t){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(n){n.target!==window&&n.target!==window.document||t()}}}function Z4(t){var e=t.onWindowScroll;function n(){e(jk())}var r=kl(n),i=J4(r),o=di;function s(){return o!==di}function a(){s()&&V(!1),o=kn(window,[i])}function l(){s()||V(!1),r.cancel(),o(),o=di}return{start:a,stop:l,isActive:s}}var eW=function(e){return e.type==="DROP_COMPLETE"||e.type==="DROP_ANIMATE"||e.type==="FLUSH"},tW=function(t){var e=Z4({onWindowScroll:function(r){t.dispatch(M4({newScroll:r}))}});return function(n){return function(r){!e.isActive()&&r.type==="INITIAL_PUBLISH"&&e.start(),e.isActive()&&eW(r)&&e.stop(),n(r)}}},nW=function(t){var e=!1,n=!1,r=setTimeout(function(){n=!0}),i=function(s){e||n||(e=!0,t(s),clearTimeout(r))};return i.wasCalled=function(){return e},i},rW=function(){var t=[],e=function(o){var s=rw(t,function(u){return u.timerId===o});s===-1&&V(!1);var a=t.splice(s,1),l=a[0];l.callback()},n=function(o){var s=setTimeout(function(){return e(s)}),a={timerId:s,callback:o};t.push(a)},r=function(){if(t.length){var o=[].concat(t);t.length=0,o.forEach(function(s){clearTimeout(s.timerId),s.callback()})}};return{add:n,flush:r}},iW=function(e,n){return e==null&&n==null?!0:e==null||n==null?!1:e.droppableId===n.droppableId&&e.index===n.index},oW=function(e,n){return e==null&&n==null?!0:e==null||n==null?!1:e.draggableId===n.draggableId&&e.droppableId===n.droppableId},sW=function(e,n){if(e===n)return!0;var r=e.draggable.id===n.draggable.id&&e.draggable.droppableId===n.draggable.droppableId&&e.draggable.type===n.draggable.type&&e.draggable.index===n.draggable.index,i=e.droppable.id===n.droppable.id&&e.droppable.type===n.droppable.type;return r&&i},ca=function(e,n){n()},Xu=function(e,n){return{draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:n}},Cp=function(e,n,r,i){if(!e){r(i(n));return}var o=nW(r),s={announce:o};e(n,s),o.wasCalled()||r(i(n))},aW=function(t,e){var n=rW(),r=null,i=function(c,h){r&&V(!1),ca("onBeforeCapture",function(){var p=t().onBeforeCapture;if(p){var v={draggableId:c,mode:h};p(v)}})},o=function(c,h){r&&V(!1),ca("onBeforeDragStart",function(){var p=t().onBeforeDragStart;p&&p(Xu(c,h))})},s=function(c,h){r&&V(!1);var p=Xu(c,h);r={mode:h,lastCritical:c,lastLocation:p.source,lastCombine:null},n.add(function(){ca("onDragStart",function(){return Cp(t().onDragStart,p,e,Sc.onDragStart)})})},a=function(c,h){var p=iw(h),v=ch(h);r||V(!1);var b=!sW(c,r.lastCritical);b&&(r.lastCritical=c);var m=!iW(r.lastLocation,p);m&&(r.lastLocation=p);var g=!oW(r.lastCombine,v);if(g&&(r.lastCombine=v),!(!b&&!m&&!g)){var y=J({},Xu(c,r.mode),{combine:v,destination:p});n.add(function(){ca("onDragUpdate",function(){return Cp(t().onDragUpdate,y,e,Sc.onDragUpdate)})})}},l=function(){r||V(!1),n.flush()},u=function(c){r||V(!1),r=null,ca("onDragEnd",function(){return Cp(t().onDragEnd,c,e,Sc.onDragEnd)})},d=function(){if(r){var c=J({},Xu(r.lastCritical,r.mode),{combine:null,destination:null,reason:"CANCEL"});u(c)}};return{beforeCapture:i,beforeStart:o,start:s,update:a,flush:l,drop:u,abort:d}},lW=function(t,e){var n=aW(t,e);return function(r){return function(i){return function(o){if(o.type==="BEFORE_INITIAL_CAPTURE"){n.beforeCapture(o.payload.draggableId,o.payload.movementMode);return}if(o.type==="INITIAL_PUBLISH"){var s=o.payload.critical;n.beforeStart(s,o.payload.movementMode),i(o),n.start(s,o.payload.movementMode);return}if(o.type==="DROP_COMPLETE"){var a=o.payload.completed.result;n.flush(),i(o),n.drop(a);return}if(i(o),o.type==="FLUSH"){n.abort();return}var l=r.getState();l.phase==="DRAGGING"&&n.update(l.critical,l.impact)}}}},uW=function(t){return function(e){return function(n){if(n.type!=="DROP_ANIMATION_FINISHED"){e(n);return}var r=t.getState();r.phase!=="DROP_ANIMATING"&&V(!1),t.dispatch(dw({completed:r.completed}))}}},cW=function(t){var e=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),e&&(e(),e=null)}return function(i){return function(o){if((o.type==="FLUSH"||o.type==="DROP_COMPLETE"||o.type==="DROP_ANIMATION_FINISHED")&&r(),i(o),o.type==="DROP_ANIMATE"){var s={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){var l=t.getState();l.phase==="DROP_ANIMATING"&&t.dispatch(Bk())}};n=requestAnimationFrame(function(){n=null,e=kn(window,[s])})}}}},dW=function(t){return function(){return function(e){return function(n){(n.type==="DROP_COMPLETE"||n.type==="FLUSH"||n.type==="DROP_ANIMATE")&&t.stopPublishing(),e(n)}}}},fW=function(t){var e=!1;return function(){return function(n){return function(r){if(r.type==="INITIAL_PUBLISH"){e=!0,t.tryRecordFocus(r.payload.critical.draggable.id),n(r),t.tryRestoreFocusRecorded();return}if(n(r),!!e){if(r.type==="FLUSH"){e=!1,t.tryRestoreFocusRecorded();return}if(r.type==="DROP_COMPLETE"){e=!1;var i=r.payload.completed.result;i.combine&&t.tryShiftRecord(i.draggableId,i.combine.draggableId),t.tryRestoreFocusRecorded()}}}}}},hW=function(e){return e.type==="DROP_COMPLETE"||e.type==="DROP_ANIMATE"||e.type==="FLUSH"},pW=function(t){return function(e){return function(n){return function(r){if(hW(r)){t.stop(),n(r);return}if(r.type==="INITIAL_PUBLISH"){n(r);var i=e.getState();i.phase!=="DRAGGING"&&V(!1),t.start(i);return}n(r),t.scroll(e.getState())}}}},gW=function(t){return function(e){return function(n){if(e(n),n.type==="PUBLISH_WHILE_DRAGGING"){var r=t.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||t.dispatch(Uk({reason:r.reason})))}}}},mW=Dl,vW=function(t){var e=t.dimensionMarshal,n=t.focusMarshal,r=t.styleMarshal,i=t.getResponders,o=t.announce,s=t.autoScroller;return Xy(D4,mW(ZD(H4(r),dW(e),W4(e),X4,uW,cW,gW,pW(s),tW,fW(n),lW(i,o))))},xp=function(){return{additions:{},removals:{},modified:{}}};function yW(t){var e=t.registry,n=t.callbacks,r=xp(),i=null,o=function(){i||(n.collectionStarting(),i=requestAnimationFrame(function(){i=null;var d=r,f=d.additions,c=d.removals,h=d.modified,p=Object.keys(f).map(function(m){return e.draggable.getById(m).getDimension(vt)}).sort(function(m,g){return m.descriptor.index-g.descriptor.index}),v=Object.keys(h).map(function(m){var g=e.droppable.getById(m),y=g.callbacks.getScrollWhileDragging();return{droppableId:m,scroll:y}}),b={additions:p,removals:Object.keys(c),modified:v};r=xp(),n.publish(b)}))},s=function(d){var f=d.descriptor.id;r.additions[f]=d,r.modified[d.descriptor.droppableId]=!0,r.removals[f]&&delete r.removals[f],o()},a=function(d){var f=d.descriptor;r.removals[f.id]=!0,r.modified[f.droppableId]=!0,r.additions[f.id]&&delete r.additions[f.id],o()},l=function(){i&&(cancelAnimationFrame(i),i=null,r=xp())};return{add:s,remove:a,stop:l}}var zk=function(t){var e=t.scrollHeight,n=t.scrollWidth,r=t.height,i=t.width,o=fn({x:n,y:e},{x:i,y:r}),s={x:Math.max(0,o.x),y:Math.max(0,o.y)};return s},Wk=function(){var t=document.documentElement;return t||V(!1),t},Hk=function(){var t=Wk(),e=zk({scrollHeight:t.scrollHeight,scrollWidth:t.scrollWidth,width:t.clientWidth,height:t.clientHeight});return e},wW=function(){var t=jk(),e=Hk(),n=t.y,r=t.x,i=Wk(),o=i.clientWidth,s=i.clientHeight,a=r+o,l=n+s,u=zn({top:n,left:r,right:a,bottom:l}),d={frame:u,scroll:{initial:t,current:t,max:e,diff:{value:vt,displacement:vt}}};return d},bW=function(t){var e=t.critical,n=t.scrollOptions,r=t.registry,i=wW(),o=i.scroll.current,s=e.droppable,a=r.droppable.getAllByType(s.type).map(function(f){return f.callbacks.getDimensionAndWatchScroll(o,n)}),l=r.draggable.getAllByType(e.draggable.type).map(function(f){return f.getDimension(o)}),u={draggables:bk(l),droppables:wk(a)},d={dimensions:u,critical:e,viewport:i};return d};function aE(t,e,n){if(n.descriptor.id===e.id||n.descriptor.type!==e.type)return!1;var r=t.droppable.getById(n.descriptor.droppableId);return r.descriptor.mode==="virtual"}var SW=function(t,e){var n=null,r=yW({callbacks:{publish:e.publishWhileDragging,collectionStarting:e.collectionStarting},registry:t}),i=function(h,p){t.droppable.exists(h)||V(!1),n&&e.updateDroppableIsEnabled({id:h,isEnabled:p})},o=function(h,p){n&&(t.droppable.exists(h)||V(!1),e.updateDroppableIsCombineEnabled({id:h,isCombineEnabled:p}))},s=function(h,p){n&&(t.droppable.exists(h)||V(!1),e.updateDroppableScroll({id:h,newScroll:p}))},a=function(h,p){n&&t.droppable.getById(h).callbacks.scroll(p)},l=function(){if(n){r.stop();var h=n.critical.droppable;t.droppable.getAllByType(h.type).forEach(function(p){return p.callbacks.dragStopped()}),n.unsubscribe(),n=null}},u=function(h){n||V(!1);var p=n.critical.draggable;h.type==="ADDITION"&&aE(t,p,h.value)&&r.add(h.value),h.type==="REMOVAL"&&aE(t,p,h.value)&&r.remove(h.value)},d=function(h){n&&V(!1);var p=t.draggable.getById(h.draggableId),v=t.droppable.getById(p.descriptor.droppableId),b={draggable:p.descriptor,droppable:v.descriptor},m=t.subscribe(u);return n={critical:b,unsubscribe:m},bW({critical:b,registry:t,scrollOptions:h.scrollOptions})},f={updateDroppableIsEnabled:i,updateDroppableIsCombineEnabled:o,scrollDroppable:a,updateDroppableScroll:s,startPublishing:d,stopPublishing:l};return f},Gk=function(t,e){return t.phase==="IDLE"?!0:t.phase!=="DROP_ANIMATING"||t.completed.result.draggableId===e?!1:t.completed.result.reason==="DROP"},EW=function(t){window.scrollBy(t.x,t.y)},IW=pt(function(t){return uh(t).filter(function(e){return!(!e.isEnabled||!e.frame)})}),CW=function(e,n){var r=Oi(IW(n),function(i){return i.frame||V(!1),Rk(i.frame.pageMarginBox)(e)});return r},xW=function(t){var e=t.center,n=t.destination,r=t.droppables;if(n){var i=r[n];return i.frame?i:null}var o=CW(e,r);return o},hi={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:function(e){return Math.pow(e,2)},durationDampening:{stopDampeningAt:1200,accelerateAt:360}},TW=function(t,e){var n=t[e.size]*hi.startFromPercentage,r=t[e.size]*hi.maxScrollAtPercentage,i={startScrollingFrom:n,maxScrollValueAt:r};return i},qk=function(t){var e=t.startOfRange,n=t.endOfRange,r=t.current,i=n-e;if(i===0)return 0;var o=r-e,s=o/i;return s},pw=1,DW=function(t,e){if(t>e.startScrollingFrom)return 0;if(t<=e.maxScrollValueAt)return hi.maxPixelScroll;if(t===e.startScrollingFrom)return pw;var n=qk({startOfRange:e.maxScrollValueAt,endOfRange:e.startScrollingFrom,current:t}),r=1-n,i=hi.maxPixelScroll*hi.ease(r);return Math.ceil(i)},lE=hi.durationDampening.accelerateAt,uE=hi.durationDampening.stopDampeningAt,kW=function(t,e){var n=e,r=uE,i=Date.now(),o=i-n;if(o>=uE)return t;if(o<lE)return pw;var s=qk({startOfRange:lE,endOfRange:r,current:o}),a=t*hi.ease(s);return Math.ceil(a)},cE=function(t){var e=t.distanceToEdge,n=t.thresholds,r=t.dragStartTime,i=t.shouldUseTimeDampening,o=DW(e,n);return o===0?0:i?Math.max(kW(o,r),pw):o},dE=function(t){var e=t.container,n=t.distanceToEdges,r=t.dragStartTime,i=t.axis,o=t.shouldUseTimeDampening,s=TW(e,i),a=n[i.end]<n[i.start];return a?cE({distanceToEdge:n[i.end],thresholds:s,dragStartTime:r,shouldUseTimeDampening:o}):-1*cE({distanceToEdge:n[i.start],thresholds:s,dragStartTime:r,shouldUseTimeDampening:o})},_W=function(t){var e=t.container,n=t.subject,r=t.proposedScroll,i=n.height>e.height,o=n.width>e.width;return!o&&!i?r:o&&i?null:{x:o?0:r.x,y:i?0:r.y}},RW=vk(function(t){return t===0?0:t}),Kk=function(t){var e=t.dragStartTime,n=t.container,r=t.subject,i=t.center,o=t.shouldUseTimeDampening,s={top:i.y-n.top,right:n.right-i.x,bottom:n.bottom-i.y,left:i.x-n.left},a=dE({container:n,distanceToEdges:s,dragStartTime:e,axis:ow,shouldUseTimeDampening:o}),l=dE({container:n,distanceToEdges:s,dragStartTime:e,axis:Ik,shouldUseTimeDampening:o}),u=RW({x:l,y:a});if(fi(u,vt))return null;var d=_W({container:n,subject:r,proposedScroll:u});return d?fi(d,vt)?null:d:null},AW=vk(function(t){return t===0?0:t>0?1:-1}),gw=function(){var t=function(n,r){return n<0?n:n>r?n-r:0};return function(e){var n=e.current,r=e.max,i=e.change,o=xt(n,i),s={x:t(o.x,r.x),y:t(o.y,r.y)};return fi(s,vt)?null:s}}(),Qk=function(e){var n=e.max,r=e.current,i=e.change,o={x:Math.max(r.x,n.x),y:Math.max(r.y,n.y)},s=AW(i),a=gw({max:o,current:r,change:s});return!a||s.x!==0&&a.x===0||s.y!==0&&a.y===0},mw=function(e,n){return Qk({current:e.scroll.current,max:e.scroll.max,change:n})},PW=function(e,n){if(!mw(e,n))return null;var r=e.scroll.max,i=e.scroll.current;return gw({current:i,max:r,change:n})},vw=function(e,n){var r=e.frame;return r?Qk({current:r.scroll.current,max:r.scroll.max,change:n}):!1},NW=function(e,n){var r=e.frame;return!r||!vw(e,n)?null:gw({current:r.scroll.current,max:r.scroll.max,change:n})},OW=function(t){var e=t.viewport,n=t.subject,r=t.center,i=t.dragStartTime,o=t.shouldUseTimeDampening,s=Kk({dragStartTime:i,container:e.frame,subject:n,center:r,shouldUseTimeDampening:o});return s&&mw(e,s)?s:null},LW=function(t){var e=t.droppable,n=t.subject,r=t.center,i=t.dragStartTime,o=t.shouldUseTimeDampening,s=e.frame;if(!s)return null;var a=Kk({dragStartTime:i,container:s.pageMarginBox,subject:n,center:r,shouldUseTimeDampening:o});return a&&vw(e,a)?a:null},fE=function(t){var e=t.state,n=t.dragStartTime,r=t.shouldUseTimeDampening,i=t.scrollWindow,o=t.scrollDroppable,s=e.current.page.borderBoxCenter,a=e.dimensions.draggables[e.critical.draggable.id],l=a.page.marginBox;if(e.isWindowScrollAllowed){var u=e.viewport,d=OW({dragStartTime:n,viewport:u,subject:l,center:s,shouldUseTimeDampening:r});if(d){i(d);return}}var f=xW({center:s,destination:gn(e.impact),droppables:e.dimensions.droppables});if(f){var c=LW({dragStartTime:n,droppable:f,subject:l,center:s,shouldUseTimeDampening:r});c&&o(f.descriptor.id,c)}},MW=function(t){var e=t.scrollWindow,n=t.scrollDroppable,r=kl(e),i=kl(n),o=null,s=function(d){o||V(!1);var f=o,c=f.shouldUseTimeDampening,h=f.dragStartTime;fE({state:d,scrollWindow:r,scrollDroppable:i,dragStartTime:h,shouldUseTimeDampening:c})},a=function(d){o&&V(!1);var f=Date.now(),c=!1,h=function(){c=!0};fE({state:d,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:h,scrollDroppable:h}),o={dragStartTime:f,shouldUseTimeDampening:c},c&&s(d)},l=function(){o&&(r.cancel(),i.cancel(),o=null)};return{start:a,stop:l,scroll:s}},$W=function(t){var e=t.move,n=t.scrollDroppable,r=t.scrollWindow,i=function(u,d){var f=xt(u.current.client.selection,d);e({client:f})},o=function(u,d){if(!vw(u,d))return d;var f=NW(u,d);if(!f)return n(u.descriptor.id,d),null;var c=fn(d,f);n(u.descriptor.id,c);var h=fn(d,c);return h},s=function(u,d,f){if(!u||!mw(d,f))return f;var c=PW(d,f);if(!c)return r(f),null;var h=fn(f,c);r(h);var p=fn(f,h);return p},a=function(u){var d=u.scrollJumpRequest;if(d){var f=gn(u.impact);f||V(!1);var c=o(u.dimensions.droppables[f],d);if(c){var h=u.viewport,p=s(u.isWindowScrollAllowed,h,c);p&&i(u,p)}}};return a},FW=function(t){var e=t.scrollDroppable,n=t.scrollWindow,r=t.move,i=MW({scrollWindow:n,scrollDroppable:e}),o=$W({move:r,scrollWindow:n,scrollDroppable:e}),s=function(u){if(u.phase==="DRAGGING"){if(u.movementMode==="FLUID"){i.scroll(u);return}u.scrollJumpRequest&&o(u)}},a={scroll:s,start:i.start,stop:i.stop};return a},_s="data-rbd",Rs=function(){var t=_s+"-drag-handle";return{base:t,draggableId:t+"-draggable-id",contextId:t+"-context-id"}}(),bm=function(){var t=_s+"-draggable";return{base:t,contextId:t+"-context-id",id:t+"-id"}}(),UW=function(){var t=_s+"-droppable";return{base:t,contextId:t+"-context-id",id:t+"-id"}}(),hE={contextId:_s+"-scroll-container-context-id"},BW=function(e){return function(n){return"["+n+'="'+e+'"]'}},da=function(e,n){return e.map(function(r){var i=r.styles[n];return i?r.selector+" { "+i+" }":""}).join(" ")},VW="pointer-events: none;",jW=function(t){var e=BW(t),n=function(){var a=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:e(Rs.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:a,dragging:VW,dropAnimating:a}}}(),r=function(){var a=`
      transition: `+ja.outOfTheWay+`;
    `;return{selector:e(bm.contextId),styles:{dragging:a,dropAnimating:a,userCancel:a}}}(),i={selector:e(UW.contextId),styles:{always:"overflow-anchor: none;"}},o={selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}},s=[r,n,i,o];return{always:da(s,"always"),resting:da(s,"resting"),dragging:da(s,"dragging"),dropAnimating:da(s,"dropAnimating"),userCancel:da(s,"userCancel")}},mn=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?I.useLayoutEffect:I.useEffect,Tp=function(){var e=document.querySelector("head");return e||V(!1),e},pE=function(e){var n=document.createElement("style");return e&&n.setAttribute("nonce",e),n.type="text/css",n};function zW(t,e){var n=Se(function(){return jW(t)},[t]),r=I.useRef(null),i=I.useRef(null),o=Q(pt(function(f){var c=i.current;c||V(!1),c.textContent=f}),[]),s=Q(function(f){var c=r.current;c||V(!1),c.textContent=f},[]);mn(function(){!r.current&&!i.current||V(!1);var f=pE(e),c=pE(e);return r.current=f,i.current=c,f.setAttribute(_s+"-always",t),c.setAttribute(_s+"-dynamic",t),Tp().appendChild(f),Tp().appendChild(c),s(n.always),o(n.resting),function(){var h=function(v){var b=v.current;b||V(!1),Tp().removeChild(b),v.current=null};h(r),h(i)}},[e,s,o,n.always,n.resting,t]);var a=Q(function(){return o(n.dragging)},[o,n.dragging]),l=Q(function(f){if(f==="DROP"){o(n.dropAnimating);return}o(n.userCancel)},[o,n.dropAnimating,n.userCancel]),u=Q(function(){i.current&&o(n.resting)},[o,n.resting]),d=Se(function(){return{dragging:a,dropping:l,resting:u}},[a,l,u]);return d}var Yk=function(t){return t&&t.ownerDocument?t.ownerDocument.defaultView:window};function hh(t){return t instanceof Yk(t).HTMLElement}function WW(t,e){var n="["+Rs.contextId+'="'+t+'"]',r=yk(document.querySelectorAll(n));if(!r.length)return null;var i=Oi(r,function(o){return o.getAttribute(Rs.draggableId)===e});return!i||!hh(i)?null:i}function HW(t){var e=I.useRef({}),n=I.useRef(null),r=I.useRef(null),i=I.useRef(!1),o=Q(function(c,h){var p={id:c,focus:h};return e.current[c]=p,function(){var b=e.current,m=b[c];m!==p&&delete b[c]}},[]),s=Q(function(c){var h=WW(t,c);h&&h!==document.activeElement&&h.focus()},[t]),a=Q(function(c,h){n.current===c&&(n.current=h)},[]),l=Q(function(){r.current||i.current&&(r.current=requestAnimationFrame(function(){r.current=null;var c=n.current;c&&s(c)}))},[s]),u=Q(function(c){n.current=null;var h=document.activeElement;h&&h.getAttribute(Rs.draggableId)===c&&(n.current=c)},[]);mn(function(){return i.current=!0,function(){i.current=!1;var c=r.current;c&&cancelAnimationFrame(c)}},[]);var d=Se(function(){return{register:o,tryRecordFocus:u,tryRestoreFocusRecorded:l,tryShiftRecord:a}},[o,u,l,a]);return d}function GW(){var t={draggables:{},droppables:{}},e=[];function n(f){return e.push(f),function(){var h=e.indexOf(f);h!==-1&&e.splice(h,1)}}function r(f){e.length&&e.forEach(function(c){return c(f)})}function i(f){return t.draggables[f]||null}function o(f){var c=i(f);return c||V(!1),c}var s={register:function(c){t.draggables[c.descriptor.id]=c,r({type:"ADDITION",value:c})},update:function(c,h){var p=t.draggables[h.descriptor.id];p&&p.uniqueId===c.uniqueId&&(delete t.draggables[h.descriptor.id],t.draggables[c.descriptor.id]=c)},unregister:function(c){var h=c.descriptor.id,p=i(h);p&&c.uniqueId===p.uniqueId&&(delete t.draggables[h],r({type:"REMOVAL",value:c}))},getById:o,findById:i,exists:function(c){return Boolean(i(c))},getAllByType:function(c){return Dd(t.draggables).filter(function(h){return h.descriptor.type===c})}};function a(f){return t.droppables[f]||null}function l(f){var c=a(f);return c||V(!1),c}var u={register:function(c){t.droppables[c.descriptor.id]=c},unregister:function(c){var h=a(c.descriptor.id);h&&c.uniqueId===h.uniqueId&&delete t.droppables[c.descriptor.id]},getById:l,findById:a,exists:function(c){return Boolean(a(c))},getAllByType:function(c){return Dd(t.droppables).filter(function(h){return h.descriptor.type===c})}};function d(){t.draggables={},t.droppables={},e.length=0}return{draggable:s,droppable:u,subscribe:n,clean:d}}function qW(){var t=Se(GW,[]);return I.useEffect(function(){return function(){requestAnimationFrame(t.clean)}},[t]),t}var yw=pe.createContext(null),_d=function(){var t=document.body;return t||V(!1),t},KW={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},QW=function(e){return"rbd-announcement-"+e};function YW(t){var e=Se(function(){return QW(t)},[t]),n=I.useRef(null);I.useEffect(function(){var o=document.createElement("div");return n.current=o,o.id=e,o.setAttribute("aria-live","assertive"),o.setAttribute("aria-atomic","true"),J(o.style,KW),_d().appendChild(o),function(){setTimeout(function(){var l=_d();l.contains(o)&&l.removeChild(o),o===n.current&&(n.current=null)})}},[e]);var r=Q(function(i){var o=n.current;if(o){o.textContent=i;return}},[]);return r}var XW=0,JW={separator:"::"};function ww(t,e){return e===void 0&&(e=JW),Se(function(){return""+t+e.separator+XW++},[e.separator,t])}function ZW(t){var e=t.contextId,n=t.uniqueId;return"rbd-hidden-text-"+e+"-"+n}function eH(t){var e=t.contextId,n=t.text,r=ww("hidden-text",{separator:"-"}),i=Se(function(){return ZW({contextId:e,uniqueId:r})},[r,e]);return I.useEffect(function(){var s=document.createElement("div");return s.id=i,s.textContent=n,s.style.display="none",_d().appendChild(s),function(){var l=_d();l.contains(s)&&l.removeChild(s)}},[i,n]),i}var ph=pe.createContext(null);function Xk(t){var e=I.useRef(t);return I.useEffect(function(){e.current=t}),e}function tH(){var t=null;function e(){return Boolean(t)}function n(s){return s===t}function r(s){t&&V(!1);var a={abandon:s};return t=a,a}function i(){t||V(!1),t=null}function o(){t&&(t.abandon(),i())}return{isClaimed:e,isActive:n,claim:r,release:i,tryAbandon:o}}var nH=9,rH=13,bw=27,Jk=32,iH=33,oH=34,sH=35,aH=36,lH=37,uH=38,cH=39,dH=40,Ju,fH=(Ju={},Ju[rH]=!0,Ju[nH]=!0,Ju),Zk=function(t){fH[t.keyCode]&&t.preventDefault()},gh=function(){var t="visibilitychange";if(typeof document>"u")return t;var e=[t,"ms"+t,"webkit"+t,"moz"+t,"o"+t],n=Oi(e,function(r){return"on"+r in document});return n||t}(),e_=0,gE=5;function hH(t,e){return Math.abs(e.x-t.x)>=gE||Math.abs(e.y-t.y)>=gE}var mE={type:"IDLE"};function pH(t){var e=t.cancel,n=t.completed,r=t.getPhase,i=t.setPhase;return[{eventName:"mousemove",fn:function(s){var a=s.button,l=s.clientX,u=s.clientY;if(a===e_){var d={x:l,y:u},f=r();if(f.type==="DRAGGING"){s.preventDefault(),f.actions.move(d);return}f.type!=="PENDING"&&V(!1);var c=f.point;if(hH(c,d)){s.preventDefault();var h=f.actions.fluidLift(d);i({type:"DRAGGING",actions:h})}}}},{eventName:"mouseup",fn:function(s){var a=r();if(a.type!=="DRAGGING"){e();return}s.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),n()}},{eventName:"mousedown",fn:function(s){r().type==="DRAGGING"&&s.preventDefault(),e()}},{eventName:"keydown",fn:function(s){var a=r();if(a.type==="PENDING"){e();return}if(s.keyCode===bw){s.preventDefault(),e();return}Zk(s)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){r().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:function(s){var a=r();if(a.type==="IDLE"&&V(!1),a.actions.shouldRespectForcePress()){e();return}s.preventDefault()}},{eventName:gh,fn:e}]}function gH(t){var e=I.useRef(mE),n=I.useRef(di),r=Se(function(){return{eventName:"mousedown",fn:function(f){if(!f.defaultPrevented&&f.button===e_&&!(f.ctrlKey||f.metaKey||f.shiftKey||f.altKey)){var c=t.findClosestDraggableId(f);if(c){var h=t.tryGetLock(c,s,{sourceEvent:f});if(h){f.preventDefault();var p={x:f.clientX,y:f.clientY};n.current(),u(h,p)}}}}}},[t]),i=Se(function(){return{eventName:"webkitmouseforcewillbegin",fn:function(f){if(!f.defaultPrevented){var c=t.findClosestDraggableId(f);if(c){var h=t.findOptionsForDraggable(c);h&&(h.shouldRespectForcePress||t.canGetLock(c)&&f.preventDefault())}}}}},[t]),o=Q(function(){var f={passive:!1,capture:!0};n.current=kn(window,[i,r],f)},[i,r]),s=Q(function(){var d=e.current;d.type!=="IDLE"&&(e.current=mE,n.current(),o())},[o]),a=Q(function(){var d=e.current;s(),d.type==="DRAGGING"&&d.actions.cancel({shouldBlockNextClick:!0}),d.type==="PENDING"&&d.actions.abort()},[s]),l=Q(function(){var f={capture:!0,passive:!1},c=pH({cancel:a,completed:s,getPhase:function(){return e.current},setPhase:function(p){e.current=p}});n.current=kn(window,c,f)},[a,s]),u=Q(function(f,c){e.current.type!=="IDLE"&&V(!1),e.current={type:"PENDING",point:c,actions:f},l()},[l]);mn(function(){return o(),function(){n.current()}},[o])}var Po;function mH(){}var vH=(Po={},Po[oH]=!0,Po[iH]=!0,Po[aH]=!0,Po[sH]=!0,Po);function yH(t,e){function n(){e(),t.cancel()}function r(){e(),t.drop()}return[{eventName:"keydown",fn:function(o){if(o.keyCode===bw){o.preventDefault(),n();return}if(o.keyCode===Jk){o.preventDefault(),r();return}if(o.keyCode===dH){o.preventDefault(),t.moveDown();return}if(o.keyCode===uH){o.preventDefault(),t.moveUp();return}if(o.keyCode===cH){o.preventDefault(),t.moveRight();return}if(o.keyCode===lH){o.preventDefault(),t.moveLeft();return}if(vH[o.keyCode]){o.preventDefault();return}Zk(o)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:gh,fn:n}]}function wH(t){var e=I.useRef(mH),n=Se(function(){return{eventName:"keydown",fn:function(o){if(o.defaultPrevented||o.keyCode!==Jk)return;var s=t.findClosestDraggableId(o);if(!s)return;var a=t.tryGetLock(s,d,{sourceEvent:o});if(!a)return;o.preventDefault();var l=!0,u=a.snapLift();e.current();function d(){l||V(!1),l=!1,e.current(),r()}e.current=kn(window,yH(u,d),{capture:!0,passive:!1})}}},[t]),r=Q(function(){var o={passive:!1,capture:!0};e.current=kn(window,[n],o)},[n]);mn(function(){return r(),function(){e.current()}},[r])}var Dp={type:"IDLE"},bH=120,SH=.15;function EH(t){var e=t.cancel,n=t.getPhase;return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:function(i){i.preventDefault()}},{eventName:"keydown",fn:function(i){if(n().type!=="DRAGGING"){e();return}i.keyCode===bw&&i.preventDefault(),e()}},{eventName:gh,fn:e}]}function IH(t){var e=t.cancel,n=t.completed,r=t.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(o){var s=r();if(s.type!=="DRAGGING"){e();return}s.hasMoved=!0;var a=o.touches[0],l=a.clientX,u=a.clientY,d={x:l,y:u};o.preventDefault(),s.actions.move(d)}},{eventName:"touchend",fn:function(o){var s=r();if(s.type!=="DRAGGING"){e();return}o.preventDefault(),s.actions.drop({shouldBlockNextClick:!0}),n()}},{eventName:"touchcancel",fn:function(o){if(r().type!=="DRAGGING"){e();return}o.preventDefault(),e()}},{eventName:"touchforcechange",fn:function(o){var s=r();s.type==="IDLE"&&V(!1);var a=o.touches[0];if(a){var l=a.force>=SH;if(l){var u=s.actions.shouldRespectForcePress();if(s.type==="PENDING"){u&&e();return}if(u){if(s.hasMoved){o.preventDefault();return}e();return}o.preventDefault()}}}},{eventName:gh,fn:e}]}function CH(t){var e=I.useRef(Dp),n=I.useRef(di),r=Q(function(){return e.current},[]),i=Q(function(h){e.current=h},[]),o=Se(function(){return{eventName:"touchstart",fn:function(h){if(!h.defaultPrevented){var p=t.findClosestDraggableId(h);if(p){var v=t.tryGetLock(p,a,{sourceEvent:h});if(v){var b=h.touches[0],m=b.clientX,g=b.clientY,y={x:m,y:g};n.current(),f(v,y)}}}}}},[t]),s=Q(function(){var h={capture:!0,passive:!1};n.current=kn(window,[o],h)},[o]),a=Q(function(){var c=e.current;c.type!=="IDLE"&&(c.type==="PENDING"&&clearTimeout(c.longPressTimerId),i(Dp),n.current(),s())},[s,i]),l=Q(function(){var c=e.current;a(),c.type==="DRAGGING"&&c.actions.cancel({shouldBlockNextClick:!0}),c.type==="PENDING"&&c.actions.abort()},[a]),u=Q(function(){var h={capture:!0,passive:!1},p={cancel:l,completed:a,getPhase:r},v=kn(window,IH(p),h),b=kn(window,EH(p),h);n.current=function(){v(),b()}},[l,r,a]),d=Q(function(){var h=r();h.type!=="PENDING"&&V(!1);var p=h.actions.fluidLift(h.point);i({type:"DRAGGING",actions:p,hasMoved:!1})},[r,i]),f=Q(function(h,p){r().type!=="IDLE"&&V(!1);var v=setTimeout(d,bH);i({type:"PENDING",point:p,actions:h,longPressTimerId:v}),u()},[u,r,i,d]);mn(function(){return s(),function(){n.current();var p=r();p.type==="PENDING"&&(clearTimeout(p.longPressTimerId),i(Dp))}},[r,s,i]),mn(function(){var h=kn(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}]);return h},[])}var xH={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function t_(t,e){if(e==null)return!1;var n=Boolean(xH[e.tagName.toLowerCase()]);if(n)return!0;var r=e.getAttribute("contenteditable");return r==="true"||r===""?!0:e===t?!1:t_(t,e.parentElement)}function TH(t,e){var n=e.target;return hh(n)?t_(t,n):!1}var DH=function(t){return zn(t.getBoundingClientRect()).center};function kH(t){return t instanceof Yk(t).Element}var _H=function(){var t="matches";if(typeof document>"u")return t;var e=[t,"msMatchesSelector","webkitMatchesSelector"],n=Oi(e,function(r){return r in Element.prototype});return n||t}();function n_(t,e){return t==null?null:t[_H](e)?t:n_(t.parentElement,e)}function RH(t,e){return t.closest?t.closest(e):n_(t,e)}function AH(t){return"["+Rs.contextId+'="'+t+'"]'}function PH(t,e){var n=e.target;if(!kH(n))return null;var r=AH(t),i=RH(n,r);return!i||!hh(i)?null:i}function NH(t,e){var n=PH(t,e);return n?n.getAttribute(Rs.draggableId):null}function OH(t,e){var n="["+bm.contextId+'="'+t+'"]',r=yk(document.querySelectorAll(n)),i=Oi(r,function(o){return o.getAttribute(bm.id)===e});return!i||!hh(i)?null:i}function LH(t){t.preventDefault()}function Zu(t){var e=t.expected,n=t.phase,r=t.isLockActive;return t.shouldWarn,!(!r()||e!==n)}function r_(t){var e=t.lockAPI,n=t.store,r=t.registry,i=t.draggableId;if(e.isClaimed())return!1;var o=r.draggable.findById(i);return!(!o||!o.options.isEnabled||!Gk(n.getState(),i))}function MH(t){var e=t.lockAPI,n=t.contextId,r=t.store,i=t.registry,o=t.draggableId,s=t.forceSensorStop,a=t.sourceEvent,l=r_({lockAPI:e,store:r,registry:i,draggableId:o});if(!l)return null;var u=i.draggable.getById(o),d=OH(n,u.descriptor.id);if(!d||a&&!u.options.canDragInteractiveElements&&TH(d,a))return null;var f=e.claim(s||di),c="PRE_DRAG";function h(){return u.options.shouldRespectForcePress}function p(){return e.isActive(f)}function v(D,R){Zu({expected:D,phase:c,isLockActive:p,shouldWarn:!0})&&r.dispatch(R())}var b=v.bind(null,"DRAGGING");function m(D){function R(){e.release(),c="COMPLETED"}c!=="PRE_DRAG"&&(R(),c!=="PRE_DRAG"&&V(!1)),r.dispatch(_4(D.liftActionArgs)),c="DRAGGING";function A($,F){if(F===void 0&&(F={shouldBlockNextClick:!1}),D.cleanup(),F.shouldBlockNextClick){var U=kn(window,[{eventName:"click",fn:LH,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(U)}R(),r.dispatch(Uk({reason:$}))}return J({isActive:function(){return Zu({expected:"DRAGGING",phase:c,isLockActive:p,shouldWarn:!1})},shouldRespectForcePress:h,drop:function(F){return A("DROP",F)},cancel:function(F){return A("CANCEL",F)}},D.actions)}function g(D){var R=kl(function($){b(function(){return Fk({client:$})})}),A=m({liftActionArgs:{id:o,clientSelection:D,movementMode:"FLUID"},cleanup:function(){return R.cancel()},actions:{move:R}});return J({},A,{move:R})}function y(){var D={moveUp:function(){return b(F4)},moveRight:function(){return b(B4)},moveDown:function(){return b(U4)},moveLeft:function(){return b(V4)}};return m({liftActionArgs:{id:o,clientSelection:DH(d),movementMode:"SNAP"},cleanup:di,actions:D})}function w(){var D=Zu({expected:"PRE_DRAG",phase:c,isLockActive:p,shouldWarn:!0});D&&e.release()}var x={isActive:function(){return Zu({expected:"PRE_DRAG",phase:c,isLockActive:p,shouldWarn:!1})},shouldRespectForcePress:h,fluidLift:g,snapLift:y,abort:w};return x}var $H=[gH,wH,CH];function FH(t){var e=t.contextId,n=t.store,r=t.registry,i=t.customSensors,o=t.enableDefaultSensors,s=[].concat(o?$H:[],i||[]),a=I.useState(function(){return tH()})[0],l=Q(function(g,y){g.isDragging&&!y.isDragging&&a.tryAbandon()},[a]);mn(function(){var g=n.getState(),y=n.subscribe(function(){var w=n.getState();l(g,w),g=w});return y},[a,n,l]),mn(function(){return a.tryAbandon},[a.tryAbandon]);for(var u=Q(function(m){return r_({lockAPI:a,registry:r,store:n,draggableId:m})},[a,r,n]),d=Q(function(m,g,y){return MH({lockAPI:a,registry:r,contextId:e,store:n,draggableId:m,forceSensorStop:g,sourceEvent:y&&y.sourceEvent?y.sourceEvent:null})},[e,a,r,n]),f=Q(function(m){return NH(e,m)},[e]),c=Q(function(m){var g=r.draggable.findById(m);return g?g.options:null},[r.draggable]),h=Q(function(){a.isClaimed()&&(a.tryAbandon(),n.getState().phase!=="IDLE"&&n.dispatch(cw()))},[a,n]),p=Q(a.isClaimed,[a]),v=Se(function(){return{canGetLock:u,tryGetLock:d,findClosestDraggableId:f,findOptionsForDraggable:c,tryReleaseLock:h,isLockClaimed:p}},[u,d,f,c,h,p]),b=0;b<s.length;b++)s[b](v)}var UH=function(e){return{onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}};function fa(t){return t.current||V(!1),t.current}function BH(t){var e=t.contextId,n=t.setCallbacks,r=t.sensors,i=t.nonce,o=t.dragHandleUsageInstructions,s=I.useRef(null),a=Xk(t),l=Q(function(){return UH(a.current)},[a]),u=YW(e),d=eH({contextId:e,text:o}),f=zW(e,i),c=Q(function($){fa(s).dispatch($)},[]),h=Se(function(){return zS({publishWhileDragging:A4,updateDroppableScroll:N4,updateDroppableIsEnabled:O4,updateDroppableIsCombineEnabled:L4,collectionStarting:P4},c)},[c]),p=qW(),v=Se(function(){return SW(p,h)},[p,h]),b=Se(function(){return FW(J({scrollWindow:EW,scrollDroppable:v.scrollDroppable},zS({move:Fk},c)))},[v.scrollDroppable,c]),m=HW(e),g=Se(function(){return vW({announce:u,autoScroller:b,dimensionMarshal:v,focusMarshal:m,getResponders:l,styleMarshal:f})},[u,b,v,m,l,f]);s.current=g;var y=Q(function(){var $=fa(s),F=$.getState();F.phase!=="IDLE"&&$.dispatch(cw())},[]),w=Q(function(){var $=fa(s).getState();return $.isDragging||$.phase==="DROP_ANIMATING"},[]),x=Se(function(){return{isDragging:w,tryAbort:y}},[w,y]);n(x);var D=Q(function($){return Gk(fa(s).getState(),$)},[]),R=Q(function(){return zi(fa(s).getState())},[]),A=Se(function(){return{marshal:v,focus:m,contextId:e,canLift:D,isMovementAllowed:R,dragHandleUsageInstructionsId:d,registry:p}},[e,v,d,m,D,R,p]);return FH({contextId:e,store:g,registry:p,customSensors:r,enableDefaultSensors:t.enableDefaultSensors!==!1}),I.useEffect(function(){return y},[y]),pe.createElement(ph.Provider,{value:A},pe.createElement(S3,{context:yw,store:g},t.children))}var VH=0;function jH(){return Se(function(){return""+VH++},[])}function zH(t){var e=jH(),n=t.dragHandleUsageInstructions||Sc.dragHandleUsageInstructions;return pe.createElement(wz,null,function(r){return pe.createElement(BH,{nonce:t.nonce,contextId:e,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:t.enableDefaultSensors,sensors:t.sensors,onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragUpdate:t.onDragUpdate,onDragEnd:t.onDragEnd},t.children)})}var i_=function(e){return function(n){return e===n}},WH=i_("scroll"),HH=i_("auto"),vE=function(e,n){return n(e.overflowX)||n(e.overflowY)},GH=function(e){var n=window.getComputedStyle(e),r={overflowX:n.overflowX,overflowY:n.overflowY};return vE(r,WH)||vE(r,HH)},qH=function(){return!1},KH=function t(e){return e==null?null:e===document.body?qH()?e:null:e===document.documentElement?null:GH(e)?e:t(e.parentElement)},Sm=function(t){return{x:t.scrollLeft,y:t.scrollTop}},QH=function t(e){if(!e)return!1;var n=window.getComputedStyle(e);return n.position==="fixed"?!0:t(e.parentElement)},YH=function(t){var e=KH(t),n=QH(t);return{closestScrollable:e,isFixedOnPage:n}},XH=function(t){var e=t.descriptor,n=t.isEnabled,r=t.isCombineEnabled,i=t.isFixedOnPage,o=t.direction,s=t.client,a=t.page,l=t.closest,u=function(){if(!l)return null;var h=l.scrollSize,p=l.client,v=zk({scrollHeight:h.scrollHeight,scrollWidth:h.scrollWidth,height:p.paddingBox.height,width:p.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:p,scrollSize:h,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:v,diff:{value:vt,displacement:vt}}}}(),d=o==="vertical"?ow:Ik,f=ks({page:a,withPlaceholder:null,axis:d,frame:u}),c={descriptor:e,isCombineEnabled:r,isFixedOnPage:i,axis:d,isEnabled:n,client:s,page:a,frame:u,subject:f};return c},JH=function(e,n){var r=hk(e);if(!n||e!==n)return r;var i=r.paddingBox.top-n.scrollTop,o=r.paddingBox.left-n.scrollLeft,s=i+n.scrollHeight,a=o+n.scrollWidth,l={top:i,right:a,bottom:s,left:o},u=ew(l,r.border),d=tw({borderBox:u,margin:r.margin,border:r.border,padding:r.padding});return d},ZH=function(t){var e=t.ref,n=t.descriptor,r=t.env,i=t.windowScroll,o=t.direction,s=t.isDropDisabled,a=t.isCombineEnabled,l=t.shouldClipSubject,u=r.closestScrollable,d=JH(e,u),f=Cd(d,i),c=function(){if(!u)return null;var p=hk(u),v={scrollHeight:u.scrollHeight,scrollWidth:u.scrollWidth};return{client:p,page:Cd(p,i),scroll:Sm(u),scrollSize:v,shouldClipSubject:l}}(),h=XH({descriptor:n,isEnabled:!s,isCombineEnabled:a,isFixedOnPage:r.isFixedOnPage,direction:o,client:d,page:f,closest:c});return h},eG={passive:!1},tG={passive:!0},yE=function(t){return t.shouldPublishImmediately?eG:tG};function Rd(t){var e=I.useContext(t);return e||V(!1),e}var ec=function(e){return e&&e.env.closestScrollable||null};function nG(t){var e=I.useRef(null),n=Rd(ph),r=ww("droppable"),i=n.registry,o=n.marshal,s=Xk(t),a=Se(function(){return{id:t.droppableId,type:t.type,mode:t.mode}},[t.droppableId,t.mode,t.type]),l=I.useRef(a),u=Se(function(){return pt(function(w,x){e.current||V(!1);var D={x:w,y:x};o.updateDroppableScroll(a.id,D)})},[a.id,o]),d=Q(function(){var w=e.current;return!w||!w.env.closestScrollable?vt:Sm(w.env.closestScrollable)},[]),f=Q(function(){var w=d();u(w.x,w.y)},[d,u]),c=Se(function(){return kl(f)},[f]),h=Q(function(){var w=e.current,x=ec(w);w&&x||V(!1);var D=w.scrollOptions;if(D.shouldPublishImmediately){f();return}c()},[c,f]),p=Q(function(w,x){e.current&&V(!1);var D=s.current,R=D.getDroppableRef();R||V(!1);var A=YH(R),$={ref:R,descriptor:a,env:A,scrollOptions:x};e.current=$;var F=ZH({ref:R,descriptor:a,env:A,windowScroll:w,direction:D.direction,isDropDisabled:D.isDropDisabled,isCombineEnabled:D.isCombineEnabled,shouldClipSubject:!D.ignoreContainerClipping}),U=A.closestScrollable;return U&&(U.setAttribute(hE.contextId,n.contextId),U.addEventListener("scroll",h,yE($.scrollOptions))),F},[n.contextId,a,h,s]),v=Q(function(){var w=e.current,x=ec(w);return w&&x||V(!1),Sm(x)},[]),b=Q(function(){var w=e.current;w||V(!1);var x=ec(w);e.current=null,x&&(c.cancel(),x.removeAttribute(hE.contextId),x.removeEventListener("scroll",h,yE(w.scrollOptions)))},[h,c]),m=Q(function(w){var x=e.current;x||V(!1);var D=ec(x);D||V(!1),D.scrollTop+=w.y,D.scrollLeft+=w.x},[]),g=Se(function(){return{getDimensionAndWatchScroll:p,getScrollWhileDragging:v,dragStopped:b,scroll:m}},[b,p,v,m]),y=Se(function(){return{uniqueId:r,descriptor:a,callbacks:g}},[g,a,r]);mn(function(){return l.current=y.descriptor,i.droppable.register(y),function(){e.current&&b(),i.droppable.unregister(y)}},[g,a,b,y,o,i.droppable]),mn(function(){e.current&&o.updateDroppableIsEnabled(l.current.id,!t.isDropDisabled)},[t.isDropDisabled,o]),mn(function(){e.current&&o.updateDroppableIsCombineEnabled(l.current.id,t.isCombineEnabled)},[t.isCombineEnabled,o])}function kp(){}var wE={width:0,height:0,margin:xz},rG=function(e){var n=e.isAnimatingOpenOnMount,r=e.placeholder,i=e.animate;return n||i==="close"?wE:{height:r.client.borderBox.height,width:r.client.borderBox.width,margin:r.client.margin}},iG=function(e){var n=e.isAnimatingOpenOnMount,r=e.placeholder,i=e.animate,o=rG({isAnimatingOpenOnMount:n,placeholder:r,animate:i});return{display:r.display,boxSizing:"border-box",width:o.width,height:o.height,marginTop:o.margin.top,marginRight:o.margin.right,marginBottom:o.margin.bottom,marginLeft:o.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:i!=="none"?ja.placeholder:null}};function oG(t){var e=I.useRef(null),n=Q(function(){e.current&&(clearTimeout(e.current),e.current=null)},[]),r=t.animate,i=t.onTransitionEnd,o=t.onClose,s=t.contextId,a=I.useState(t.animate==="open"),l=a[0],u=a[1];I.useEffect(function(){return l?r!=="open"?(n(),u(!1),kp):e.current?kp:(e.current=setTimeout(function(){e.current=null,u(!1)}),n):kp},[r,l,n]);var d=Q(function(c){c.propertyName==="height"&&(i(),r==="close"&&o())},[r,o,i]),f=iG({isAnimatingOpenOnMount:l,animate:t.animate,placeholder:t.placeholder});return pe.createElement(t.placeholder.tagName,{style:f,"data-rbd-placeholder-context-id":s,onTransitionEnd:d,ref:t.innerRef})}var sG=pe.memo(oG),Sw=pe.createContext(null),aG=function(t){JD(e,t);function e(){for(var r,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o))||this,r.state={isVisible:Boolean(r.props.on),data:r.props.on,animate:r.props.shouldAnimate&&r.props.on?"open":"none"},r.onClose=function(){r.state.animate==="close"&&r.setState({isVisible:!1})},r}e.getDerivedStateFromProps=function(i,o){return i.shouldAnimate?i.on?{isVisible:!0,data:i.on,animate:"open"}:o.isVisible?{isVisible:!0,data:o.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:Boolean(i.on),data:i.on,animate:"none"}};var n=e.prototype;return n.render=function(){if(!this.state.isVisible)return null;var i={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(i)},e}(pe.PureComponent),bE={dragging:5e3,dropAnimating:4500},lG=function(e,n){return n?ja.drop(n.duration):e?ja.snap:ja.fluid},uG=function(e,n){return e?n?Pl.opacity.drop:Pl.opacity.combining:null},cG=function(e){return e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP"};function dG(t){var e=t.dimension,n=e.client,r=t.offset,i=t.combineWith,o=t.dropping,s=Boolean(i),a=cG(t),l=Boolean(o),u=l?ym.drop(r,s):ym.moveTo(r),d={position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:lG(a,o),transform:u,opacity:uG(s,l),zIndex:l?bE.dropAnimating:bE.dragging,pointerEvents:"none"};return d}function fG(t){return{transform:ym.moveTo(t.offset),transition:t.shouldAnimateDisplacement?null:"none"}}function hG(t){return t.type==="DRAGGING"?dG(t):fG(t)}function pG(t,e,n){n===void 0&&(n=vt);var r=window.getComputedStyle(e),i=e.getBoundingClientRect(),o=fk(i,r),s=Cd(o,n),a={client:o,tagName:e.tagName.toLowerCase(),display:r.display},l={x:o.marginBox.width,y:o.marginBox.height},u={descriptor:t,placeholder:a,displaceBy:l,client:o,page:s};return u}function gG(t){var e=ww("draggable"),n=t.descriptor,r=t.registry,i=t.getDraggableRef,o=t.canDragInteractiveElements,s=t.shouldRespectForcePress,a=t.isEnabled,l=Se(function(){return{canDragInteractiveElements:o,shouldRespectForcePress:s,isEnabled:a}},[o,a,s]),u=Q(function(h){var p=i();return p||V(!1),pG(n,p,h)},[n,i]),d=Se(function(){return{uniqueId:e,descriptor:n,options:l,getDimension:u}},[n,u,l,e]),f=I.useRef(d),c=I.useRef(!0);mn(function(){return r.draggable.register(f.current),function(){return r.draggable.unregister(f.current)}},[r.draggable]),mn(function(){if(c.current){c.current=!1;return}var h=f.current;f.current=d,r.draggable.update(d,h)},[d,r.draggable])}function mG(t){t.preventDefault()}function vG(t){var e=I.useRef(null),n=Q(function($){e.current=$},[]),r=Q(function(){return e.current},[]),i=Rd(ph),o=i.contextId,s=i.dragHandleUsageInstructionsId,a=i.registry,l=Rd(Sw),u=l.type,d=l.droppableId,f=Se(function(){return{id:t.draggableId,index:t.index,type:u,droppableId:d}},[t.draggableId,t.index,u,d]),c=t.children,h=t.draggableId,p=t.isEnabled,v=t.shouldRespectForcePress,b=t.canDragInteractiveElements,m=t.isClone,g=t.mapped,y=t.dropAnimationFinished;if(!m){var w=Se(function(){return{descriptor:f,registry:a,getDraggableRef:r,canDragInteractiveElements:b,shouldRespectForcePress:v,isEnabled:p}},[f,a,r,b,v,p]);gG(w)}var x=Se(function(){return p?{tabIndex:0,role:"button","aria-describedby":s,"data-rbd-drag-handle-draggable-id":h,"data-rbd-drag-handle-context-id":o,draggable:!1,onDragStart:mG}:null},[o,s,h,p]),D=Q(function($){g.type==="DRAGGING"&&g.dropping&&$.propertyName==="transform"&&y()},[y,g]),R=Se(function(){var $=hG(g),F=g.type==="DRAGGING"&&g.dropping?D:null,U={innerRef:n,draggableProps:{"data-rbd-draggable-context-id":o,"data-rbd-draggable-id":h,style:$,onTransitionEnd:F},dragHandleProps:x};return U},[o,x,h,g,D,n]),A=Se(function(){return{draggableId:f.id,type:f.type,source:{index:f.index,droppableId:f.droppableId}}},[f.droppableId,f.id,f.index,f.type]);return c(R,g.snapshot,A)}var o_=function(t,e){return t===e},s_=function(t){var e=t.combine,n=t.destination;return n?n.droppableId:e?e.droppableId:null},yG=function(e){return e.combine?e.combine.draggableId:null},wG=function(e){return e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null};function bG(){var t=pt(function(i,o){return{x:i,y:o}}),e=pt(function(i,o,s,a,l){return{isDragging:!0,isClone:o,isDropAnimating:Boolean(l),dropAnimation:l,mode:i,draggingOver:s,combineWith:a,combineTargetFor:null}}),n=pt(function(i,o,s,a,l,u,d){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:l,combineWith:u,mode:o,offset:i,dimension:s,forceShouldAnimate:d,snapshot:e(o,a,l,u,null)}}}),r=function(o,s){if(o.isDragging){if(o.critical.draggable.id!==s.draggableId)return null;var a=o.current.client.offset,l=o.dimensions.draggables[s.draggableId],u=gn(o.impact),d=wG(o.impact),f=o.forceShouldAnimate;return n(t(a.x,a.y),o.movementMode,l,s.isClone,u,d,f)}if(o.phase==="DROP_ANIMATING"){var c=o.completed;if(c.result.draggableId!==s.draggableId)return null;var h=s.isClone,p=o.dimensions.draggables[s.draggableId],v=c.result,b=v.mode,m=s_(v),g=yG(v),y=o.dropDuration,w={duration:y,curve:fw.drop,moveTo:o.newHomeClientOffset,opacity:g?Pl.opacity.drop:null,scale:g?Pl.scale.drop:null};return{mapped:{type:"DRAGGING",offset:o.newHomeClientOffset,dimension:p,dropping:w,draggingOver:m,combineWith:g,mode:b,forceShouldAnimate:null,snapshot:e(b,h,m,g,w)}}}return null};return r}function a_(t){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:t,combineWith:null}}var SG={mapped:{type:"SECONDARY",offset:vt,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:a_(null)}};function EG(){var t=pt(function(s,a){return{x:s,y:a}}),e=pt(a_),n=pt(function(s,a,l){return a===void 0&&(a=null),{mapped:{type:"SECONDARY",offset:s,combineTargetFor:a,shouldAnimateDisplacement:l,snapshot:e(a)}}}),r=function(a){return a?n(vt,a,!0):null},i=function(a,l,u,d){var f=u.displaced.visible[a],c=Boolean(d.inVirtualList&&d.effected[a]),h=ch(u),p=h&&h.draggableId===a?l:null;if(!f){if(!c)return r(p);if(u.displaced.invisible[a])return null;var v=zs(d.displacedBy.point),b=t(v.x,v.y);return n(b,p,!0)}if(c)return r(p);var m=u.displacedBy.point,g=t(m.x,m.y);return n(g,p,f.shouldAnimate)},o=function(a,l){if(a.isDragging)return a.critical.draggable.id===l.draggableId?null:i(l.draggableId,a.critical.draggable.id,a.impact,a.afterCritical);if(a.phase==="DROP_ANIMATING"){var u=a.completed;return u.result.draggableId===l.draggableId?null:i(l.draggableId,u.result.draggableId,u.impact,u.afterCritical)}return null};return o}var IG=function(){var e=bG(),n=EG(),r=function(o,s){return e(o,s)||n(o,s)||SG};return r},CG={dropAnimationFinished:Bk},xG=ck(IG,CG,null,{context:yw,pure:!0,areStatePropsEqual:o_})(vG);function l_(t){var e=Rd(Sw),n=e.isUsingCloneFor;return n===t.draggableId&&!t.isClone?null:pe.createElement(xG,t)}function u_(t){var e=typeof t.isDragDisabled=="boolean"?!t.isDragDisabled:!0,n=Boolean(t.disableInteractiveElementBlocking),r=Boolean(t.shouldRespectForcePress);return pe.createElement(l_,J({},t,{isClone:!1,isEnabled:e,canDragInteractiveElements:n,shouldRespectForcePress:r}))}function TG(t){var e=I.useContext(ph);e||V(!1);var n=e.contextId,r=e.isMovementAllowed,i=I.useRef(null),o=I.useRef(null),s=t.children,a=t.droppableId,l=t.type,u=t.mode,d=t.direction,f=t.ignoreContainerClipping,c=t.isDropDisabled,h=t.isCombineEnabled,p=t.snapshot,v=t.useClone,b=t.updateViewportMaxScroll,m=t.getContainerForClone,g=Q(function(){return i.current},[]),y=Q(function(U){i.current=U},[]);Q(function(){return o.current},[]);var w=Q(function(U){o.current=U},[]),x=Q(function(){r()&&b({maxScroll:Hk()})},[r,b]);nG({droppableId:a,type:l,mode:u,direction:d,isDropDisabled:c,isCombineEnabled:h,ignoreContainerClipping:f,getDroppableRef:g});var D=pe.createElement(aG,{on:t.placeholder,shouldAnimate:t.shouldAnimatePlaceholder},function(U){var ee=U.onClose,re=U.data,Y=U.animate;return pe.createElement(sG,{placeholder:re,onClose:ee,innerRef:w,animate:Y,contextId:n,onTransitionEnd:x})}),R=Se(function(){return{innerRef:y,placeholder:D,droppableProps:{"data-rbd-droppable-id":a,"data-rbd-droppable-context-id":n}}},[n,a,D,y]),A=v?v.dragging.draggableId:null,$=Se(function(){return{droppableId:a,type:l,isUsingCloneFor:A}},[a,A,l]);function F(){if(!v)return null;var U=v.dragging,ee=v.render,re=pe.createElement(l_,{draggableId:U.draggableId,index:U.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},function(Y,Ie){return ee(Y,Ie,U)});return XA.createPortal(re,m())}return pe.createElement(Sw.Provider,{value:$},s(R,p),F())}var _p=function(e,n){return e===n.droppable.type},SE=function(e,n){return n.draggables[e.draggable.id]},DG=function(){var e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},n=J({},e,{shouldAnimatePlaceholder:!1}),r=pt(function(s){return{draggableId:s.id,type:s.type,source:{index:s.index,droppableId:s.droppableId}}}),i=pt(function(s,a,l,u,d,f){var c=d.descriptor.id,h=d.descriptor.droppableId===s;if(h){var p=f?{render:f,dragging:r(d.descriptor)}:null,v={isDraggingOver:l,draggingOverWith:l?c:null,draggingFromThisWith:c,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!1,snapshot:v,useClone:p}}if(!a)return n;if(!u)return e;var b={isDraggingOver:l,draggingOverWith:c,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!0,snapshot:b,useClone:null}}),o=function(a,l){var u=l.droppableId,d=l.type,f=!l.isDropDisabled,c=l.renderClone;if(a.isDragging){var h=a.critical;if(!_p(d,h))return n;var p=SE(h,a.dimensions),v=gn(a.impact)===u;return i(u,f,v,v,p,c)}if(a.phase==="DROP_ANIMATING"){var b=a.completed;if(!_p(d,b.critical))return n;var m=SE(b.critical,a.dimensions);return i(u,f,s_(b.result)===u,gn(b.impact)===u,m,c)}if(a.phase==="IDLE"&&a.completed&&!a.shouldFlush){var g=a.completed;if(!_p(d,g.critical))return n;var y=gn(g.impact)===u,w=Boolean(g.impact.at&&g.impact.at.type==="COMBINE"),x=g.critical.droppable.id===u;return y?w?e:n:x?e:n}return n};return o},kG={updateViewportMaxScroll:$4};function _G(){return document.body||V(!1),document.body}var RG={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:_G},Ad=ck(DG,kG,null,{context:yw,pure:!0,areStatePropsEqual:o_})(TG);Ad.defaultProps=RG;function Pd(t,e){I.useEffect(()=>{const n=r=>{!t.current||t.current.contains(r.target)||e(!1)};return document.addEventListener("mousedown",n),document.addEventListener("touchstart",n),()=>{document.removeEventListener("mousedown",n),document.removeEventListener("touchstart",n)}},[t,e])}function jn(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Ti(t){return!!t&&!!t[Fe]}function Mr(t){var e;return!!t&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===UG}(t)||Array.isArray(t)||!!t[kE]||!!(!((e=t.constructor)===null||e===void 0)&&e[kE])||Ew(t)||Iw(t))}function Io(t,e,n){n===void 0&&(n=!1),Gs(t)===0?(n?Object.keys:ds)(t).forEach(function(r){n&&typeof r=="symbol"||e(r,t[r],t)}):t.forEach(function(r,i){return e(i,r,t)})}function Gs(t){var e=t[Fe];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:Ew(t)?2:Iw(t)?3:0}function cs(t,e){return Gs(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function AG(t,e){return Gs(t)===2?t.get(e):t[e]}function c_(t,e,n){var r=Gs(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function d_(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function Ew(t){return $G&&t instanceof Map}function Iw(t){return FG&&t instanceof Set}function Wi(t){return t.o||t.t}function Cw(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=h_(t);delete e[Fe];for(var n=ds(e),r=0;r<n.length;r++){var i=n[r],o=e[i];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(e[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[i]})}return Object.create(Object.getPrototypeOf(t),e)}function xw(t,e){return e===void 0&&(e=!1),Tw(t)||Ti(t)||!Mr(t)||(Gs(t)>1&&(t.set=t.add=t.clear=t.delete=PG),Object.freeze(t),e&&Io(t,function(n,r){return xw(r,!0)},!0)),t}function PG(){jn(2)}function Tw(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function ur(t){var e=xm[t];return e||jn(18,t),e}function NG(t,e){xm[t]||(xm[t]=e)}function Em(){return Nl}function Rp(t,e){e&&(ur("Patches"),t.u=[],t.s=[],t.v=e)}function Nd(t){Im(t),t.p.forEach(OG),t.p=null}function Im(t){t===Nl&&(Nl=t.l)}function EE(t){return Nl={p:[],l:Nl,h:t,m:!0,_:0}}function OG(t){var e=t[Fe];e.i===0||e.i===1?e.j():e.O=!0}function Ap(t,e){e._=e.p.length;var n=e.p[0],r=t!==void 0&&t!==n;return e.h.g||ur("ES5").S(e,t,r),r?(n[Fe].P&&(Nd(e),jn(4)),Mr(t)&&(t=Od(e,t),e.l||Ld(e,t)),e.u&&ur("Patches").M(n[Fe].t,t,e.u,e.s)):t=Od(e,n,[]),Nd(e),e.u&&e.v(e.u,e.s),t!==f_?t:void 0}function Od(t,e,n){if(Tw(e))return e;var r=e[Fe];if(!r)return Io(e,function(a,l){return IE(t,r,e,a,l,n)},!0),e;if(r.A!==t)return e;if(!r.P)return Ld(t,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=Cw(r.k):r.o,o=i,s=!1;r.i===3&&(o=new Set(i),i.clear(),s=!0),Io(o,function(a,l){return IE(t,r,i,a,l,n,s)}),Ld(t,i,!1),n&&t.u&&ur("Patches").N(r,n,t.u,t.s)}return r.o}function IE(t,e,n,r,i,o,s){if(Ti(i)){var a=Od(t,i,o&&e&&e.i!==3&&!cs(e.R,r)?o.concat(r):void 0);if(c_(n,r,a),!Ti(a))return;t.m=!1}else s&&n.add(i);if(Mr(i)&&!Tw(i)){if(!t.h.D&&t._<1)return;Od(t,i),e&&e.A.l||Ld(t,i)}}function Ld(t,e,n){n===void 0&&(n=!1),!t.l&&t.h.D&&t.m&&xw(e,n)}function Pp(t,e){var n=t[Fe];return(n?Wi(n):t)[e]}function CE(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Object.getPrototypeOf(n)}}function Xr(t){t.P||(t.P=!0,t.l&&Xr(t.l))}function Np(t){t.o||(t.o=Cw(t.t))}function Cm(t,e,n){var r=Ew(e)?ur("MapSet").F(e,n):Iw(e)?ur("MapSet").T(e,n):t.g?function(i,o){var s=Array.isArray(i),a={i:s?1:0,A:o?o.A:Em(),P:!1,I:!1,R:{},l:o,t:i,k:null,o:null,j:null,C:!1},l=a,u=Ol;s&&(l=[a],u=Ia);var d=Proxy.revocable(l,u),f=d.revoke,c=d.proxy;return a.k=c,a.j=f,c}(e,n):ur("ES5").J(e,n);return(n?n.A:Em()).p.push(r),r}function LG(t){return Ti(t)||jn(22,t),function e(n){if(!Mr(n))return n;var r,i=n[Fe],o=Gs(n);if(i){if(!i.P&&(i.i<4||!ur("ES5").K(i)))return i.t;i.I=!0,r=xE(n,o),i.I=!1}else r=xE(n,o);return Io(r,function(s,a){i&&AG(i.t,s)===a||c_(r,s,e(a))}),o===3?new Set(r):r}(t)}function xE(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return Cw(t)}function MG(){function t(o,s){var a=i[o];return a?a.enumerable=s:i[o]=a={configurable:!0,enumerable:s,get:function(){var l=this[Fe];return Ol.get(l,o)},set:function(l){var u=this[Fe];Ol.set(u,o,l)}},a}function e(o){for(var s=o.length-1;s>=0;s--){var a=o[s][Fe];if(!a.P)switch(a.i){case 5:r(a)&&Xr(a);break;case 4:n(a)&&Xr(a)}}}function n(o){for(var s=o.t,a=o.k,l=ds(a),u=l.length-1;u>=0;u--){var d=l[u];if(d!==Fe){var f=s[d];if(f===void 0&&!cs(s,d))return!0;var c=a[d],h=c&&c[Fe];if(h?h.t!==f:!d_(c,f))return!0}}var p=!!s[Fe];return l.length!==ds(s).length+(p?0:1)}function r(o){var s=o.k;if(s.length!==o.t.length)return!0;var a=Object.getOwnPropertyDescriptor(s,s.length-1);if(a&&!a.get)return!0;for(var l=0;l<s.length;l++)if(!s.hasOwnProperty(l))return!0;return!1}var i={};NG("ES5",{J:function(o,s){var a=Array.isArray(o),l=function(d,f){if(d){for(var c=Array(f.length),h=0;h<f.length;h++)Object.defineProperty(c,""+h,t(h,!0));return c}var p=h_(f);delete p[Fe];for(var v=ds(p),b=0;b<v.length;b++){var m=v[b];p[m]=t(m,d||!!p[m].enumerable)}return Object.create(Object.getPrototypeOf(f),p)}(a,o),u={i:a?5:4,A:s?s.A:Em(),P:!1,I:!1,R:{},l:s,t:o,k:l,o:null,O:!1,C:!1};return Object.defineProperty(l,Fe,{value:u,writable:!0}),l},S:function(o,s,a){a?Ti(s)&&s[Fe].A===o&&e(o.p):(o.u&&function l(u){if(u&&typeof u=="object"){var d=u[Fe];if(d){var f=d.t,c=d.k,h=d.R,p=d.i;if(p===4)Io(c,function(y){y!==Fe&&(f[y]!==void 0||cs(f,y)?h[y]||l(c[y]):(h[y]=!0,Xr(d)))}),Io(f,function(y){c[y]!==void 0||cs(c,y)||(h[y]=!1,Xr(d))});else if(p===5){if(r(d)&&(Xr(d),h.length=!0),c.length<f.length)for(var v=c.length;v<f.length;v++)h[v]=!1;else for(var b=f.length;b<c.length;b++)h[b]=!0;for(var m=Math.min(c.length,f.length),g=0;g<m;g++)c.hasOwnProperty(g)||(h[g]=!0),h[g]===void 0&&l(c[g])}}}}(o.p[0]),e(o.p))},K:function(o){return o.i===4?n(o):r(o)}})}var TE,Nl,Dw=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",$G=typeof Map<"u",FG=typeof Set<"u",DE=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",f_=Dw?Symbol.for("immer-nothing"):((TE={})["immer-nothing"]=!0,TE),kE=Dw?Symbol.for("immer-draftable"):"__$immer_draftable",Fe=Dw?Symbol.for("immer-state"):"__$immer_state",UG=""+Object.prototype.constructor,ds=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,h_=Object.getOwnPropertyDescriptors||function(t){var e={};return ds(t).forEach(function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)}),e},xm={},Ol={get:function(t,e){if(e===Fe)return t;var n=Wi(t);if(!cs(n,e))return function(i,o,s){var a,l=CE(o,s);return l?"value"in l?l.value:(a=l.get)===null||a===void 0?void 0:a.call(i.k):void 0}(t,n,e);var r=n[e];return t.I||!Mr(r)?r:r===Pp(t.t,e)?(Np(t),t.o[e]=Cm(t.A.h,r,t)):r},has:function(t,e){return e in Wi(t)},ownKeys:function(t){return Reflect.ownKeys(Wi(t))},set:function(t,e,n){var r=CE(Wi(t),e);if(r!=null&&r.set)return r.set.call(t.k,n),!0;if(!t.P){var i=Pp(Wi(t),e),o=i==null?void 0:i[Fe];if(o&&o.t===n)return t.o[e]=n,t.R[e]=!1,!0;if(d_(n,i)&&(n!==void 0||cs(t.t,e)))return!0;Np(t),Xr(t)}return t.o[e]===n&&(n!==void 0||e in t.o)||Number.isNaN(n)&&Number.isNaN(t.o[e])||(t.o[e]=n,t.R[e]=!0),!0},deleteProperty:function(t,e){return Pp(t.t,e)!==void 0||e in t.t?(t.R[e]=!1,Np(t),Xr(t)):delete t.R[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=Wi(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty:function(){jn(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){jn(12)}},Ia={};Io(Ol,function(t,e){Ia[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),Ia.deleteProperty=function(t,e){return Ia.set.call(this,t,e,void 0)},Ia.set=function(t,e,n){return Ol.set.call(this,t[0],e,n,t[0])};var BG=function(){function t(n){var r=this;this.g=DE,this.D=!0,this.produce=function(i,o,s){if(typeof i=="function"&&typeof o!="function"){var a=o;o=i;var l=r;return function(v){var b=this;v===void 0&&(v=a);for(var m=arguments.length,g=Array(m>1?m-1:0),y=1;y<m;y++)g[y-1]=arguments[y];return l.produce(v,function(w){var x;return(x=o).call.apply(x,[b,w].concat(g))})}}var u;if(typeof o!="function"&&jn(6),s!==void 0&&typeof s!="function"&&jn(7),Mr(i)){var d=EE(r),f=Cm(r,i,void 0),c=!0;try{u=o(f),c=!1}finally{c?Nd(d):Im(d)}return typeof Promise<"u"&&u instanceof Promise?u.then(function(v){return Rp(d,s),Ap(v,d)},function(v){throw Nd(d),v}):(Rp(d,s),Ap(u,d))}if(!i||typeof i!="object"){if((u=o(i))===void 0&&(u=i),u===f_&&(u=void 0),r.D&&xw(u,!0),s){var h=[],p=[];ur("Patches").M(i,u,h,p),s(h,p)}return u}jn(21,i)},this.produceWithPatches=function(i,o){if(typeof i=="function")return function(u){for(var d=arguments.length,f=Array(d>1?d-1:0),c=1;c<d;c++)f[c-1]=arguments[c];return r.produceWithPatches(u,function(h){return i.apply(void 0,[h].concat(f))})};var s,a,l=r.produce(i,o,function(u,d){s=u,a=d});return typeof Promise<"u"&&l instanceof Promise?l.then(function(u){return[u,s,a]}):[l,s,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var e=t.prototype;return e.createDraft=function(n){Mr(n)||jn(8),Ti(n)&&(n=LG(n));var r=EE(this),i=Cm(this,n,void 0);return i[Fe].C=!0,Im(r),i},e.finishDraft=function(n,r){var i=n&&n[Fe],o=i.A;return Rp(o,r),Ap(void 0,o)},e.setAutoFreeze=function(n){this.D=n},e.setUseProxies=function(n){n&&!DE&&jn(20),this.g=n},e.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var o=r[i];if(o.path.length===0&&o.op==="replace"){n=o.value;break}}i>-1&&(r=r.slice(i+1));var s=ur("Patches").$;return Ti(n)?s(n,r):this.produce(n,function(a){return s(a,r)})},t}(),wn=new BG,p_=wn.produce;wn.produceWithPatches.bind(wn);wn.setAutoFreeze.bind(wn);wn.setUseProxies.bind(wn);wn.applyPatches.bind(wn);wn.createDraft.bind(wn);wn.finishDraft.bind(wn);function g_(t){var e=function(r){var i=r.dispatch,o=r.getState;return function(s){return function(a){return typeof a=="function"?a(i,o,t):s(a)}}};return e}var m_=g_();m_.withExtraArgument=g_;const _E=m_;var VG=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),jG=globalThis&&globalThis.__generator||function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(d){return l([u,d])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){n.label=u[1];break}if(u[0]===6&&n.label<o[1]){n.label=o[1],o=u;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(u);break}o[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(d){u=[6,d],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Md=globalThis&&globalThis.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},zG=Object.defineProperty,WG=Object.defineProperties,HG=Object.getOwnPropertyDescriptors,RE=Object.getOwnPropertySymbols,GG=Object.prototype.hasOwnProperty,qG=Object.prototype.propertyIsEnumerable,AE=function(t,e,n){return e in t?zG(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n},pi=function(t,e){for(var n in e||(e={}))GG.call(e,n)&&AE(t,n,e[n]);if(RE)for(var r=0,i=RE(e);r<i.length;r++){var n=i[r];qG.call(e,n)&&AE(t,n,e[n])}return t},Op=function(t,e){return WG(t,HG(e))},KG=function(t,e,n){return new Promise(function(r,i){var o=function(l){try{a(n.next(l))}catch(u){i(u)}},s=function(l){try{a(n.throw(l))}catch(u){i(u)}},a=function(l){return l.done?r(l.value):Promise.resolve(l.value).then(o,s)};a((n=n.apply(t,e)).next())})},QG=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Dl:Dl.apply(null,arguments)};function YG(t){if(typeof t!="object"||t===null)return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var n=e;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return e===n}var XG=function(t){VG(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,n)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,Md([void 0],n[0].concat(this)))):new(e.bind.apply(e,Md([void 0],n.concat(this))))},e}(Array);function Tm(t){return Mr(t)?p_(t,function(){}):t}function JG(t){return typeof t=="boolean"}function ZG(){return function(e){return eq(e)}}function eq(t){t===void 0&&(t={});var e=t.thunk,n=e===void 0?!0:e;t.immutableCheck,t.serializableCheck;var r=new XG;return n&&(JG(n)?r.push(_E):r.push(_E.withExtraArgument(n.extraArgument))),r}var tq=!0;function nq(t){var e=ZG(),n=t||{},r=n.reducer,i=r===void 0?void 0:r,o=n.middleware,s=o===void 0?e():o,a=n.devTools,l=a===void 0?!0:a,u=n.preloadedState,d=u===void 0?void 0:u,f=n.enhancers,c=f===void 0?void 0:f,h;if(typeof i=="function")h=i;else if(YG(i))h=m3(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var p=s;typeof p=="function"&&(p=p(e));var v=ZD.apply(void 0,p),b=Dl;l&&(b=QG(pi({trace:!tq},typeof l=="object"&&l)));var m=[v];Array.isArray(c)?m=Md([v],c):typeof c=="function"&&(m=c(m));var g=b.apply(void 0,m);return Xy(h,d,g)}function gi(t,e){function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(e){var o=e.apply(void 0,r);if(!o)throw new Error("prepareAction did not return an object");return pi(pi({type:t,payload:o.payload},"meta"in o&&{meta:o.meta}),"error"in o&&{error:o.error})}return{type:t,payload:r[0]}}return n.toString=function(){return""+t},n.type=t,n.match=function(r){return r.type===t},n}function v_(t){var e={},n=[],r,i={addCase:function(o,s){var a=typeof o=="string"?o:o.type;if(a in e)throw new Error("addCase cannot be called with two reducers for the same action type");return e[a]=s,i},addMatcher:function(o,s){return n.push({matcher:o,reducer:s}),i},addDefaultCase:function(o){return r=o,i}};return t(i),[e,n,r]}function rq(t){return typeof t=="function"}function iq(t,e,n,r){n===void 0&&(n=[]);var i=typeof e=="function"?v_(e):[e,n,r],o=i[0],s=i[1],a=i[2],l;if(rq(t))l=function(){return Tm(t())};else{var u=Tm(t);l=function(){return u}}function d(f,c){f===void 0&&(f=l());var h=Md([o[c.type]],s.filter(function(p){var v=p.matcher;return v(c)}).map(function(p){var v=p.reducer;return v}));return h.filter(function(p){return!!p}).length===0&&(h=[a]),h.reduce(function(p,v){if(v)if(Ti(p)){var b=p,m=v(b,c);return m===void 0?p:m}else{if(Mr(p))return p_(p,function(g){return v(g,c)});var m=v(p,c);if(m===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}return p},f)}return d.getInitialState=l,d}function oq(t,e){return t+"/"+e}function sq(t){var e=t.name;if(!e)throw new Error("`name` is a required option for createSlice");typeof process<"u";var n=typeof t.initialState=="function"?t.initialState:Tm(t.initialState),r=t.reducers||{},i=Object.keys(r),o={},s={},a={};i.forEach(function(d){var f=r[d],c=oq(e,d),h,p;"reducer"in f?(h=f.reducer,p=f.prepare):h=f,o[d]=h,s[c]=h,a[d]=p?gi(c,p):gi(c)});function l(){var d=typeof t.extraReducers=="function"?v_(t.extraReducers):[t.extraReducers],f=d[0],c=f===void 0?{}:f,h=d[1],p=h===void 0?[]:h,v=d[2],b=v===void 0?void 0:v,m=pi(pi({},c),s);return iq(n,function(g){for(var y in m)g.addCase(y,m[y]);for(var w=0,x=p;w<x.length;w++){var D=x[w];g.addMatcher(D.matcher,D.reducer)}b&&g.addDefaultCase(b)})}var u;return{name:e,reducer:function(d,f){return u||(u=l()),u(d,f)},actions:a,caseReducers:o,getInitialState:function(){return u||(u=l()),u.getInitialState()}}}var aq="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",lq=function(t){t===void 0&&(t=21);for(var e="",n=t;n--;)e+=aq[Math.random()*64|0];return e},uq=["name","message","stack","code"],Lp=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),PE=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),cq=function(t){if(typeof t=="object"&&t!==null){for(var e={},n=0,r=uq;n<r.length;n++){var i=r[n];typeof t[i]=="string"&&(e[i]=t[i])}return e}return{message:String(t)}},dq=function(){function t(e,n,r){var i=gi(e+"/fulfilled",function(u,d,f,c){return{payload:u,meta:Op(pi({},c||{}),{arg:f,requestId:d,requestStatus:"fulfilled"})}}),o=gi(e+"/pending",function(u,d,f){return{payload:void 0,meta:Op(pi({},f||{}),{arg:d,requestId:u,requestStatus:"pending"})}}),s=gi(e+"/rejected",function(u,d,f,c,h){return{payload:c,error:(r&&r.serializeError||cq)(u||"Rejected"),meta:Op(pi({},h||{}),{arg:f,requestId:d,rejectedWithValue:!!c,requestStatus:"rejected",aborted:(u==null?void 0:u.name)==="AbortError",condition:(u==null?void 0:u.name)==="ConditionError"})}}),a=typeof AbortController<"u"?AbortController:function(){function u(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return u.prototype.abort=function(){},u}();function l(u){return function(d,f,c){var h=r!=null&&r.idGenerator?r.idGenerator(u):lq(),p=new a,v;function b(g){v=g,p.abort()}var m=function(){return KG(this,null,function(){var g,y,w,x,D,R,A;return jG(this,function($){switch($.label){case 0:return $.trys.push([0,4,,5]),x=(g=r==null?void 0:r.condition)==null?void 0:g.call(r,u,{getState:f,extra:c}),hq(x)?[4,x]:[3,2];case 1:x=$.sent(),$.label=2;case 2:if(x===!1||p.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return D=new Promise(function(F,U){return p.signal.addEventListener("abort",function(){return U({name:"AbortError",message:v||"Aborted"})})}),d(o(h,u,(y=r==null?void 0:r.getPendingMeta)==null?void 0:y.call(r,{requestId:h,arg:u},{getState:f,extra:c}))),[4,Promise.race([D,Promise.resolve(n(u,{dispatch:d,getState:f,extra:c,requestId:h,signal:p.signal,abort:b,rejectWithValue:function(F,U){return new Lp(F,U)},fulfillWithValue:function(F,U){return new PE(F,U)}})).then(function(F){if(F instanceof Lp)throw F;return F instanceof PE?i(F.payload,h,u,F.meta):i(F,h,u)})])];case 3:return w=$.sent(),[3,5];case 4:return R=$.sent(),w=R instanceof Lp?s(null,h,u,R.payload,R.meta):s(R,h,u),[3,5];case 5:return A=r&&!r.dispatchConditionRejection&&s.match(w)&&w.meta.condition,A||d(w),[2,w]}})})}();return Object.assign(m,{abort:b,requestId:h,arg:u,unwrap:function(){return m.then(fq)}})}}return Object.assign(l,{pending:o,rejected:s,fulfilled:i,typePrefix:e})}return t.withTypes=function(){return t},t}();function fq(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function hq(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var kw="listenerMiddleware";gi(kw+"/add");gi(kw+"/removeAll");gi(kw+"/remove");var NE;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);MG();const y_=dq("getWorks",Dj),w_=sq({name:"works",initialState:BD,reducers:{addNewWork:(t,e)=>{t.works.push({id:crypto.randomUUID(),title:e.payload.title,items:[]}),t.isFirstRender=!1},editWorkTitle:(t,e)=>{t.works.forEach(n=>{n.id===e.payload.workId&&(n.title=e.payload.title)}),t.isFirstRender=!1},removeWork:(t,e)=>{const n=t.works.findIndex(r=>r.id===e.payload.workId);t.works.splice(n,1),t.isFirstRender=!1},addNewItem:(t,e)=>{t.works.forEach(n=>{n.id===e.payload.workId&&n.items.push({id:crypto.randomUUID(),name:e.payload.name})}),t.isFirstRender=!1},editItemName:(t,e)=>{t.works.forEach(n=>{n.id===e.payload.workId&&n.items.forEach(r=>{r.id===e.payload.itemId&&(r.name=e.payload.name)}),t.isFirstRender=!1})},removeItem:(t,e)=>{t.works.forEach(n=>{if(n.id===e.payload.workId){const r=n.items.findIndex(i=>i.id===e.payload.itemId);n.items.splice(r,1)}}),t.isFirstRender=!1},dndAction:(t,e)=>{const{works:n,event:r}=e.payload;if(r.destination){if(t.isFirstRender=!1,r.type==="work"&&r.destination.droppableId==="trash"){t.works.splice(r.source.index,1);return}if(r.type==="work"){const i=r.source.index,o=r.destination.index;[t.works[i],t.works[o]]=[t.works[o],t.works[i]];return}if(r.type==="item"){const i=n.findIndex(a=>a.id===r.source.droppableId),o=n.findIndex(a=>a.id===r.destination.droppableId),s=n[i].items.filter(a=>a.id===r.draggableId)[0];t.works[i].items.splice(r.source.index,1),t.works[o].items.splice(r.destination.index,0,s)}}}},extraReducers:t=>{t.addCase(y_.fulfilled,(e,n)=>{e.works=n.payload})}}),{addNewWork:pq,editWorkTitle:gq,removeWork:Hq,addNewItem:mq,editItemName:vq,removeItem:OE,dndAction:yq}=w_.actions,wq=w_.reducer;function bq({itemDragProvided:t,workId:e,itemId:n,name:r}){const i=zv(),[o,s]=I.useState(!1),[a,l]=I.useState(r),u=I.useRef(null);Pd(u,()=>{s(!1),l(r)});const d=f=>{f.key==="Enter"&&(i(vq({workId:e,itemId:n,name:a})),s(!1))};return be("div",{ref:t.innerRef,...t.draggableProps,...t.dragHandleProps,className:"min-h-[50px] my-2 px-4 bg-amber-400 border-b-2 flex justify-between items-center rounded-[10px] text-xl group",children:[be("div",{ref:u,className:"w-full overflow-x-auto no-scrollbar my-3 border-black/50 relative flex items-center cursor-pointer",role:"button",tabIndex:0,onClick:()=>s(!0),onKeyDown:()=>s(!0),children:[P("p",{className:"text-xl",children:r}),o&&P("input",{type:"text",value:a,className:"absolute w-[100%] rounded px-2",onChange:f=>xl(f,l),onKeyPress:d})]}),P("div",{className:"h-[30px] w-[30px] ml-1 shrink-0 bg-red-500 flex justify-center items-center rounded-full cursor-pointer opacity-0 group-hover:opacity-100 transition-opacity duration-500",role:"button",tabIndex:0,onClick:()=>i(OE({workId:e,itemId:n})),onKeyDown:f=>{f.key==="Enter"&&i(OE({workId:e,itemId:n}))},children:"✕"})]})}function Sq({dragProvided:t,workId:e,title:n,items:r}){const i=zv(),[o,s]=I.useState(!1),[a,l]=I.useState(!1),[u,d]=I.useState(""),[f,c]=I.useState(n),h=I.useRef(null),p=I.useRef(null);Pd(p,()=>{s(!1),d("")}),Pd(h,()=>{l(!1),c(n)});const v=m=>{if(m.code==="Enter"){if(!u.trim()){alert("請勿留空");return}i(mq({workId:e,name:u})),s(!1),d("")}},b=m=>{if(m.code==="Enter"){if(!f.trim()){alert("請勿留空");return}i(gq({workId:e,title:f})),l(!1)}};return be("div",{ref:t.innerRef,...t.draggableProps,...t.dragHandleProps,className:"w-[250px] h-fit mr-4 bg-white/70 rounded-[10px] shrink-0",children:[be("div",{ref:h,className:"my-3 border-b-2 border-black/50 relative flex justify-center items-center cursor-pointer",onClick:()=>l(!0),role:"button",tabIndex:0,onKeyDown:m=>{m.key==="Enter"&&l(!0)},children:[P("h3",{className:"overflow-x-auto no-scrollbar px-4 whitespace-nowrap",children:n}),a&&P("input",{type:"text",value:f,className:"absolute w-[90%] rounded px-4 mb-2",onChange:m=>xl(m,c),onKeyPress:b})]}),P(Ad,{droppableId:e,type:"item",children:m=>be("div",{className:"m-2",ref:m.innerRef,...m.droppableProps,children:[r&&r.map((g,y)=>P(u_,{draggableId:g.id,index:y,children:w=>P(bq,{itemDragProvided:w,workId:e,itemId:g.id,name:g.name})},g.id)),m.placeholder,be("div",{className:"w-full h-[80px] bg-black/30 relative flex justify-center items-center rounded-[10px] text-5xl cursor-pointer hover:bg-black/40 hover:scale-105 transition-transform",role:"button",ref:p,tabIndex:0,onClick:()=>s(!0),onKeyDown:g=>{g.key==="Enter"&&s(!0)},children:[o&&P("input",{type:"text",className:"w-[90%] text-base p-2 absolute rounded",value:u,onChange:g=>xl(g,d),onKeyPress:v}),P("p",{className:"text-5xl",children:"+"})]})]})})]})}const Eq="/vite-todo-list/trash-can.png";function Iq({dropProvided:t,isDragging:e}){return be("div",{ref:t.innerRef,...t.droppableProps,className:`w-[50px] h-[50px] absolute bottom-5 left-5 rounded ${e?"hover:bg-red-900":""}`,children:[P("img",{src:Eq,alt:"trash can"}),t.placeholder]})}let LE=!0;function Cq(){const{member:t}=I.useContext(Ri),{works:e,fetchStatus:n,isFirstRender:r}=T$(h=>h),i=zv(),[o,s]=I.useState(""),[a,l]=I.useState(!1),[u,d]=I.useState(!1),f=I.useRef(null);I.useEffect(()=>{n==="idle"&&i(y_(t.uid))},[i,n,t.uid]),I.useEffect(()=>{if(LE){LE=!1;return}r||kj(t.uid,e)},[i,r,t.uid,e]),Pd(f,()=>{l(!1),s("")});const c=h=>{if(h.key==="Enter"){if(!o.trim()){alert("請勿留空");return}i(pq({title:o})),s(""),l(!1)}};return console.log(e),be("div",{className:"relative min-h-screen pt-[50px] pb-[20px] my-todo-bg flex flex-col justify-center",children:[t.isSign&&P(Hy,{}),P(XD,{path:"todo"}),P("main",{className:"flex justify-center items-center",children:P("div",{className:"w-[90%] h-[500px] my-home-bg border-4 text-center rounded-[10px] py-3 text-3xl overflow-auto no-scrollbar relative",children:be(zH,{onDragEnd:h=>{i(yq({works:e,event:h})),d(!1)},onDragStart:()=>d(!0),children:[P(Ad,{droppableId:"trash",direction:"horizontal",type:"work",children:h=>P(Iq,{isDragging:u,dropProvided:h})}),P(Ad,{droppableId:"works",direction:"horizontal",type:"work",children:h=>be("div",{ref:h.innerRef,...h.droppableProps,className:"p-5 flex",children:[e.length>0&&e.map((p,v)=>P(u_,{draggableId:p.id,index:v,children:b=>P(Sq,{dragProvided:b,workId:p.id,title:p.title,items:p.items})},p.id)),h.placeholder,be("div",{className:"w-[250px] h-[100px] mr-4 py-2 bg-black/30 rounded-[10px] relative flex justify-center items-center cursor-pointer shrink-0 hover:bg-black/40 hover:scale-110 transition-transform",ref:f,role:"button",tabIndex:0,onKeyDown:()=>l(!0),onClick:()=>l(!0),children:[a&&P("input",{type:"text",className:"w-[90%] text-base p-2 absolute rounded",value:o,onChange:p=>xl(p,s),onKeyPress:c}),P("p",{className:"text-5xl",children:"+"})]})]})})]})})}),P(Gy,{})]})}function ME({children:t}){const{member:e}=I.useContext(Ri);return e.isSign?t:P(aC,{to:"/",replace:!0})}const xq=nq({reducer:wq}),Tq=vN([{path:"/",element:P(r3,{})},{path:"/todo",element:P(ME,{children:P(c3,{})})},{path:"/works",element:P(ME,{children:P(Cq,{})})},{path:"*",element:P(aC,{to:"/",replace:!0})}],{basename:"/vite-todo-list/"});function Dq({children:t}){const[e,n]=I.useState({name:"王小明",uid:"",isSign:!1,url:""});I.useEffect(()=>{const i=FL(sh,o=>{o&&xj(o.uid).then(s=>{n({...s,isSign:!0})})});return()=>{i()}},[]);const r=I.useMemo(()=>({member:e,setMember:n}),[e]);return P(Ri.Provider,{value:r,children:t})}function kq(){return P(Dq,{children:P(q$,{store:xq,children:P(uN,{router:Tq})})})}$p.createRoot(document.getElementById("root")).render(P(kq,{}));
